function Sm(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function zc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Nm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var _m={exports:{}},Eo={},Cm={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cs=Symbol.for("react.element"),$x=Symbol.for("react.portal"),Bx=Symbol.for("react.fragment"),Mx=Symbol.for("react.strict_mode"),Fx=Symbol.for("react.profiler"),Ux=Symbol.for("react.provider"),zx=Symbol.for("react.context"),Wx=Symbol.for("react.forward_ref"),Hx=Symbol.for("react.suspense"),Vx=Symbol.for("react.memo"),Gx=Symbol.for("react.lazy"),Th=Symbol.iterator;function qx(e){return e===null||typeof e!="object"?null:(e=Th&&e[Th]||e["@@iterator"],typeof e=="function"?e:null)}var km={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Em=Object.assign,Pm={};function ii(e,t,r){this.props=e,this.context=t,this.refs=Pm,this.updater=r||km}ii.prototype.isReactComponent={};ii.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ii.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dm(){}Dm.prototype=ii.prototype;function Wc(e,t,r){this.props=e,this.context=t,this.refs=Pm,this.updater=r||km}var Hc=Wc.prototype=new Dm;Hc.constructor=Wc;Em(Hc,ii.prototype);Hc.isPureReactComponent=!0;var Ih=Array.isArray,Tm=Object.prototype.hasOwnProperty,Vc={current:null},Im={key:!0,ref:!0,__self:!0,__source:!0};function Om(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Tm.call(t,n)&&!Im.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Cs,type:e,key:s,ref:a,props:i,_owner:Vc.current}}function Kx(e,t){return{$$typeof:Cs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cs}function Jx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Oh=/\/+/g;function Nl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jx(""+e.key):t.toString(36)}function Ca(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Cs:case $x:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+Nl(a,0):n,Ih(i)?(r="",e!=null&&(r=e.replace(Oh,"$&/")+"/"),Ca(i,t,r,"",function(c){return c})):i!=null&&(Gc(i)&&(i=Kx(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Oh,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Ih(e))for(var l=0;l<e.length;l++){s=e[l];var u=n+Nl(s,l);a+=Ca(s,t,r,u,i)}else if(u=qx(e),typeof u=="function")for(e=u.call(e),l=0;!(s=e.next()).done;)s=s.value,u=n+Nl(s,l++),a+=Ca(s,t,r,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Gs(e,t,r){if(e==null)return e;var n=[],i=0;return Ca(e,n,"","",function(s){return t.call(r,s,i++)}),n}function Qx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ve={current:null},ka={transition:null},Yx={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:ka,ReactCurrentOwner:Vc};function Am(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Gs,forEach:function(e,t,r){Gs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gs(e,function(){t++}),t},toArray:function(e){return Gs(e,function(t){return t})||[]},only:function(e){if(!Gc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=ii;V.Fragment=Bx;V.Profiler=Fx;V.PureComponent=Wc;V.StrictMode=Mx;V.Suspense=Hx;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yx;V.act=Am;V.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Em({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Vc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Tm.call(t,u)&&!Im.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:Cs,type:e.type,key:i,ref:s,props:n,_owner:a}};V.createContext=function(e){return e={$$typeof:zx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ux,_context:e},e.Consumer=e};V.createElement=Om;V.createFactory=function(e){var t=Om.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:Wx,render:e}};V.isValidElement=Gc;V.lazy=function(e){return{$$typeof:Gx,_payload:{_status:-1,_result:e},_init:Qx}};V.memo=function(e,t){return{$$typeof:Vx,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=ka.transition;ka.transition={};try{e()}finally{ka.transition=t}};V.unstable_act=Am;V.useCallback=function(e,t){return Ve.current.useCallback(e,t)};V.useContext=function(e){return Ve.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return Ve.current.useDeferredValue(e)};V.useEffect=function(e,t){return Ve.current.useEffect(e,t)};V.useId=function(){return Ve.current.useId()};V.useImperativeHandle=function(e,t,r){return Ve.current.useImperativeHandle(e,t,r)};V.useInsertionEffect=function(e,t){return Ve.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return Ve.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return Ve.current.useMemo(e,t)};V.useReducer=function(e,t,r){return Ve.current.useReducer(e,t,r)};V.useRef=function(e){return Ve.current.useRef(e)};V.useState=function(e){return Ve.current.useState(e)};V.useSyncExternalStore=function(e,t,r){return Ve.current.useSyncExternalStore(e,t,r)};V.useTransition=function(){return Ve.current.useTransition()};V.version="18.3.1";Cm.exports=V;var j=Cm.exports;const ie=zc(j),Xx=Sm({__proto__:null,default:ie},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zx=j,eb=Symbol.for("react.element"),tb=Symbol.for("react.fragment"),rb=Object.prototype.hasOwnProperty,nb=Zx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ib={key:!0,ref:!0,__self:!0,__source:!0};function Rm(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)rb.call(t,n)&&!ib.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:eb,type:e,key:s,ref:a,props:i,_owner:nb.current}}Eo.Fragment=tb;Eo.jsx=Rm;Eo.jsxs=Rm;_m.exports=Eo;var o=_m.exports,Lm={exports:{}},lt={},$m={exports:{}},Bm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,z){var U=T.length;T.push(z);e:for(;0<U;){var X=U-1>>>1,K=T[X];if(0<i(K,z))T[X]=z,T[U]=K,U=X;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var z=T[0],U=T.pop();if(U!==z){T[0]=U;e:for(var X=0,K=T.length,Bt=K>>>1;X<Bt;){var ht=2*(X+1)-1,ft=T[ht],pt=ht+1,Vt=T[pt];if(0>i(ft,U))pt<K&&0>i(Vt,ft)?(T[X]=Vt,T[pt]=U,X=pt):(T[X]=ft,T[ht]=U,X=ht);else if(pt<K&&0>i(Vt,U))T[X]=Vt,T[pt]=U,X=pt;else break e}}return z}function i(T,z){var U=T.sortIndex-z.sortIndex;return U!==0?U:T.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(T){for(var z=r(c);z!==null;){if(z.callback===null)n(c);else if(z.startTime<=T)n(c),z.sortIndex=z.expirationTime,t(u,z);else break;z=r(c)}}function w(T){if(y=!1,b(T),!m)if(r(u)!==null)m=!0,we(S);else{var z=r(c);z!==null&&dt(w,z.startTime-T)}}function S(T,z){m=!1,y&&(y=!1,v(k),k=-1),p=!0;var U=f;try{for(b(z),d=r(u);d!==null&&(!(d.expirationTime>z)||T&&!M());){var X=d.callback;if(typeof X=="function"){d.callback=null,f=d.priorityLevel;var K=X(d.expirationTime<=z);z=e.unstable_now(),typeof K=="function"?d.callback=K:d===r(u)&&n(u),b(z)}else n(u);d=r(u)}if(d!==null)var Bt=!0;else{var ht=r(c);ht!==null&&dt(w,ht.startTime-z),Bt=!1}return Bt}finally{d=null,f=U,p=!1}}var N=!1,_=null,k=-1,C=5,D=-1;function M(){return!(e.unstable_now()-D<C)}function te(){if(_!==null){var T=e.unstable_now();D=T;var z=!0;try{z=_(!0,T)}finally{z?Q():(N=!1,_=null)}}else N=!1}var Q;if(typeof g=="function")Q=function(){g(te)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Oe=Y.port2;Y.port1.onmessage=te,Q=function(){Oe.postMessage(null)}}else Q=function(){x(te,0)};function we(T){_=T,N||(N=!0,Q())}function dt(T,z){k=x(function(){T(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,we(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var U=f;f=z;try{return T()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,z){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var U=f;f=T;try{return z()}finally{f=U}},e.unstable_scheduleCallback=function(T,z,U){var X=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?X+U:X):U=X,T){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=U+K,T={id:h++,callback:z,priorityLevel:T,startTime:U,expirationTime:K,sortIndex:-1},U>X?(T.sortIndex=U,t(c,T),r(u)===null&&T===r(c)&&(y?(v(k),k=-1):y=!0,dt(w,U-X))):(T.sortIndex=K,t(u,T),m||p||(m=!0,we(S))),T},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(T){var z=f;return function(){var U=f;f=z;try{return T.apply(this,arguments)}finally{f=U}}}})(Bm);$m.exports=Bm;var sb=$m.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab=j,ot=sb;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mm=new Set,Yi={};function ln(e,t){Gn(e,t),Gn(e+"Capture",t)}function Gn(e,t){for(Yi[e]=t,e=0;e<t.length;e++)Mm.add(t[e])}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ju=Object.prototype.hasOwnProperty,ob=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ah={},Rh={};function lb(e){return ju.call(Rh,e)?!0:ju.call(Ah,e)?!1:ob.test(e)?Rh[e]=!0:(Ah[e]=!0,!1)}function ub(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cb(e,t,r,n){if(t===null||typeof t>"u"||ub(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var qc=/[\-:]([a-z])/g;function Kc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qc,Kc);Ie[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qc,Kc);Ie[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qc,Kc);Ie[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jc(e,t,r,n){var i=Ie.hasOwnProperty(t)?Ie[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cb(t,r,i,n)&&(r=null),n||i===null?lb(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ir=ab.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qs=Symbol.for("react.element"),kn=Symbol.for("react.portal"),En=Symbol.for("react.fragment"),Qc=Symbol.for("react.strict_mode"),Su=Symbol.for("react.profiler"),Fm=Symbol.for("react.provider"),Um=Symbol.for("react.context"),Yc=Symbol.for("react.forward_ref"),Nu=Symbol.for("react.suspense"),_u=Symbol.for("react.suspense_list"),Xc=Symbol.for("react.memo"),or=Symbol.for("react.lazy"),zm=Symbol.for("react.offscreen"),Lh=Symbol.iterator;function vi(e){return e===null||typeof e!="object"?null:(e=Lh&&e[Lh]||e["@@iterator"],typeof e=="function"?e:null)}var he=Object.assign,_l;function Di(e){if(_l===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_l=t&&t[1]||""}return`
`+_l+e}var Cl=!1;function kl(e,t){if(!e||Cl)return"";Cl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=l);break}}}finally{Cl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Di(e):""}function db(e){switch(e.tag){case 5:return Di(e.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 2:case 15:return e=kl(e.type,!1),e;case 11:return e=kl(e.type.render,!1),e;case 1:return e=kl(e.type,!0),e;default:return""}}function Cu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case En:return"Fragment";case kn:return"Portal";case Su:return"Profiler";case Qc:return"StrictMode";case Nu:return"Suspense";case _u:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Um:return(e.displayName||"Context")+".Consumer";case Fm:return(e._context.displayName||"Context")+".Provider";case Yc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xc:return t=e.displayName||null,t!==null?t:Cu(e.type)||"Memo";case or:t=e._payload,e=e._init;try{return Cu(e(t))}catch{}}return null}function hb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cu(t);case 8:return t===Qc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fb(e){var t=Wm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ks(e){e._valueTracker||(e._valueTracker=fb(e))}function Hm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Wm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ma(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ku(e,t){var r=t.checked;return he({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function $h(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=kr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vm(e,t){t=t.checked,t!=null&&Jc(e,"checked",t,!1)}function Eu(e,t){Vm(e,t);var r=kr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Pu(e,t.type,kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Pu(e,t,r){(t!=="number"||Ma(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ti=Array.isArray;function Mn(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+kr(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Du(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return he({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if(Ti(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:kr(r)}}function Gm(e,t){var r=kr(t.value),n=kr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Fh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Js,Km=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Js=Js||document.createElement("div"),Js.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Js.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pb=["Webkit","ms","Moz","O"];Object.keys(Ri).forEach(function(e){pb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ri[t]=Ri[e]})});function Jm(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ri.hasOwnProperty(e)&&Ri[e]?(""+t).trim():t+"px"}function Qm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Jm(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var mb=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Iu(e,t){if(t){if(mb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function Ou(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=null;function Zc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ru=null,Fn=null,Un=null;function Uh(e){if(e=Ps(e)){if(typeof Ru!="function")throw Error(E(280));var t=e.stateNode;t&&(t=Oo(t),Ru(e.stateNode,e.type,t))}}function Ym(e){Fn?Un?Un.push(e):Un=[e]:Fn=e}function Xm(){if(Fn){var e=Fn,t=Un;if(Un=Fn=null,Uh(e),t)for(e=0;e<t.length;e++)Uh(t[e])}}function Zm(e,t){return e(t)}function eg(){}var El=!1;function tg(e,t,r){if(El)return e(t,r);El=!0;try{return Zm(e,t,r)}finally{El=!1,(Fn!==null||Un!==null)&&(eg(),Xm())}}function Zi(e,t){var r=e.stateNode;if(r===null)return null;var n=Oo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var Lu=!1;if(Zt)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){Lu=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{Lu=!1}function gb(e,t,r,n,i,s,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(h){this.onError(h)}}var Li=!1,Fa=null,Ua=!1,$u=null,vb={onError:function(e){Li=!0,Fa=e}};function yb(e,t,r,n,i,s,a,l,u){Li=!1,Fa=null,gb.apply(vb,arguments)}function xb(e,t,r,n,i,s,a,l,u){if(yb.apply(this,arguments),Li){if(Li){var c=Fa;Li=!1,Fa=null}else throw Error(E(198));Ua||(Ua=!0,$u=c)}}function un(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function rg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zh(e){if(un(e)!==e)throw Error(E(188))}function bb(e){var t=e.alternate;if(!t){if(t=un(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return zh(i),e;if(s===n)return zh(i),t;s=s.sibling}throw Error(E(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function ng(e){return e=bb(e),e!==null?ig(e):null}function ig(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ig(e);if(t!==null)return t;e=e.sibling}return null}var sg=ot.unstable_scheduleCallback,Wh=ot.unstable_cancelCallback,wb=ot.unstable_shouldYield,jb=ot.unstable_requestPaint,pe=ot.unstable_now,Sb=ot.unstable_getCurrentPriorityLevel,ed=ot.unstable_ImmediatePriority,ag=ot.unstable_UserBlockingPriority,za=ot.unstable_NormalPriority,Nb=ot.unstable_LowPriority,og=ot.unstable_IdlePriority,Po=null,zt=null;function _b(e){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Po,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:Eb,Cb=Math.log,kb=Math.LN2;function Eb(e){return e>>>=0,e===0?32:31-(Cb(e)/kb|0)|0}var Qs=64,Ys=4194304;function Ii(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wa(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=Ii(l):(s&=a,s!==0&&(n=Ii(s)))}else a=r&~i,a!==0?n=Ii(a):s!==0&&(n=Ii(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-At(t),i=1<<r,n|=e[r],t&=~i;return n}function Pb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Db(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-At(s),l=1<<a,u=i[a];u===-1?(!(l&r)||l&n)&&(i[a]=Pb(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}}function Bu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lg(){var e=Qs;return Qs<<=1,!(Qs&4194240)&&(Qs=64),e}function Pl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ks(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-At(t),e[t]=r}function Tb(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-At(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function td(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-At(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Z=0;function ug(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cg,rd,dg,hg,fg,Mu=!1,Xs=[],mr=null,gr=null,vr=null,es=new Map,ts=new Map,ur=[],Ib="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hh(e,t){switch(e){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":es.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ts.delete(t.pointerId)}}function xi(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ps(t),t!==null&&rd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ob(e,t,r,n,i){switch(t){case"focusin":return mr=xi(mr,e,t,r,n,i),!0;case"dragenter":return gr=xi(gr,e,t,r,n,i),!0;case"mouseover":return vr=xi(vr,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return es.set(s,xi(es.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ts.set(s,xi(ts.get(s)||null,e,t,r,n,i)),!0}return!1}function pg(e){var t=qr(e.target);if(t!==null){var r=un(t);if(r!==null){if(t=r.tag,t===13){if(t=rg(r),t!==null){e.blockedOn=t,fg(e.priority,function(){dg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ea(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Fu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Au=n,r.target.dispatchEvent(n),Au=null}else return t=Ps(r),t!==null&&rd(t),e.blockedOn=r,!1;t.shift()}return!0}function Vh(e,t,r){Ea(e)&&r.delete(t)}function Ab(){Mu=!1,mr!==null&&Ea(mr)&&(mr=null),gr!==null&&Ea(gr)&&(gr=null),vr!==null&&Ea(vr)&&(vr=null),es.forEach(Vh),ts.forEach(Vh)}function bi(e,t){e.blockedOn===t&&(e.blockedOn=null,Mu||(Mu=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,Ab)))}function rs(e){function t(i){return bi(i,e)}if(0<Xs.length){bi(Xs[0],e);for(var r=1;r<Xs.length;r++){var n=Xs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(mr!==null&&bi(mr,e),gr!==null&&bi(gr,e),vr!==null&&bi(vr,e),es.forEach(t),ts.forEach(t),r=0;r<ur.length;r++)n=ur[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ur.length&&(r=ur[0],r.blockedOn===null);)pg(r),r.blockedOn===null&&ur.shift()}var zn=ir.ReactCurrentBatchConfig,Ha=!0;function Rb(e,t,r,n){var i=Z,s=zn.transition;zn.transition=null;try{Z=1,nd(e,t,r,n)}finally{Z=i,zn.transition=s}}function Lb(e,t,r,n){var i=Z,s=zn.transition;zn.transition=null;try{Z=4,nd(e,t,r,n)}finally{Z=i,zn.transition=s}}function nd(e,t,r,n){if(Ha){var i=Fu(e,t,r,n);if(i===null)Ml(e,t,n,Va,r),Hh(e,n);else if(Ob(i,e,t,r,n))n.stopPropagation();else if(Hh(e,n),t&4&&-1<Ib.indexOf(e)){for(;i!==null;){var s=Ps(i);if(s!==null&&cg(s),s=Fu(e,t,r,n),s===null&&Ml(e,t,n,Va,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Ml(e,t,n,null,r)}}var Va=null;function Fu(e,t,r,n){if(Va=null,e=Zc(n),e=qr(e),e!==null)if(t=un(e),t===null)e=null;else if(r=t.tag,r===13){if(e=rg(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Va=e,null}function mg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sb()){case ed:return 1;case ag:return 4;case za:case Nb:return 16;case og:return 536870912;default:return 16}default:return 16}}var hr=null,id=null,Pa=null;function gg(){if(Pa)return Pa;var e,t=id,r=t.length,n,i="value"in hr?hr.value:hr.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return Pa=i.slice(e,1<n?1-n:void 0)}function Da(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zs(){return!0}function Gh(){return!1}function ut(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zs:Gh,this.isPropagationStopped=Gh,this}return he(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),t}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sd=ut(si),Es=he({},si,{view:0,detail:0}),$b=ut(Es),Dl,Tl,wi,Do=he({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ad,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(Dl=e.screenX-wi.screenX,Tl=e.screenY-wi.screenY):Tl=Dl=0,wi=e),Dl)},movementY:function(e){return"movementY"in e?e.movementY:Tl}}),qh=ut(Do),Bb=he({},Do,{dataTransfer:0}),Mb=ut(Bb),Fb=he({},Es,{relatedTarget:0}),Il=ut(Fb),Ub=he({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),zb=ut(Ub),Wb=he({},si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hb=ut(Wb),Vb=he({},si,{data:0}),Kh=ut(Vb),Gb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kb[e])?!!t[e]:!1}function ad(){return Jb}var Qb=he({},Es,{key:function(e){if(e.key){var t=Gb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Da(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ad,charCode:function(e){return e.type==="keypress"?Da(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Da(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yb=ut(Qb),Xb=he({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jh=ut(Xb),Zb=he({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ad}),ew=ut(Zb),tw=he({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),rw=ut(tw),nw=he({},Do,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iw=ut(nw),sw=[9,13,27,32],od=Zt&&"CompositionEvent"in window,$i=null;Zt&&"documentMode"in document&&($i=document.documentMode);var aw=Zt&&"TextEvent"in window&&!$i,vg=Zt&&(!od||$i&&8<$i&&11>=$i),Qh=" ",Yh=!1;function yg(e,t){switch(e){case"keyup":return sw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pn=!1;function ow(e,t){switch(e){case"compositionend":return xg(t);case"keypress":return t.which!==32?null:(Yh=!0,Qh);case"textInput":return e=t.data,e===Qh&&Yh?null:e;default:return null}}function lw(e,t){if(Pn)return e==="compositionend"||!od&&yg(e,t)?(e=gg(),Pa=id=hr=null,Pn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vg&&t.locale!=="ko"?null:t.data;default:return null}}var uw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uw[e.type]:t==="textarea"}function bg(e,t,r,n){Ym(n),t=Ga(t,"onChange"),0<t.length&&(r=new sd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Bi=null,ns=null;function cw(e){Tg(e,0)}function To(e){var t=In(e);if(Hm(t))return e}function dw(e,t){if(e==="change")return t}var wg=!1;if(Zt){var Ol;if(Zt){var Al="oninput"in document;if(!Al){var Zh=document.createElement("div");Zh.setAttribute("oninput","return;"),Al=typeof Zh.oninput=="function"}Ol=Al}else Ol=!1;wg=Ol&&(!document.documentMode||9<document.documentMode)}function ef(){Bi&&(Bi.detachEvent("onpropertychange",jg),ns=Bi=null)}function jg(e){if(e.propertyName==="value"&&To(ns)){var t=[];bg(t,ns,e,Zc(e)),tg(cw,t)}}function hw(e,t,r){e==="focusin"?(ef(),Bi=t,ns=r,Bi.attachEvent("onpropertychange",jg)):e==="focusout"&&ef()}function fw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return To(ns)}function pw(e,t){if(e==="click")return To(t)}function mw(e,t){if(e==="input"||e==="change")return To(t)}function gw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:gw;function is(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ju.call(t,i)||!Lt(e[i],t[i]))return!1}return!0}function tf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rf(e,t){var r=tf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tf(r)}}function Sg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ng(){for(var e=window,t=Ma();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ma(e.document)}return t}function ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vw(e){var t=Ng(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Sg(r.ownerDocument.documentElement,r)){if(n!==null&&ld(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=rf(r,s);var a=rf(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yw=Zt&&"documentMode"in document&&11>=document.documentMode,Dn=null,Uu=null,Mi=null,zu=!1;function nf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zu||Dn==null||Dn!==Ma(n)||(n=Dn,"selectionStart"in n&&ld(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Mi&&is(Mi,n)||(Mi=n,n=Ga(Uu,"onSelect"),0<n.length&&(t=new sd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Dn)))}function ea(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Tn={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionend:ea("Transition","TransitionEnd")},Rl={},_g={};Zt&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete Tn.animationend.animation,delete Tn.animationiteration.animation,delete Tn.animationstart.animation),"TransitionEvent"in window||delete Tn.transitionend.transition);function Io(e){if(Rl[e])return Rl[e];if(!Tn[e])return e;var t=Tn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _g)return Rl[e]=t[r];return e}var Cg=Io("animationend"),kg=Io("animationiteration"),Eg=Io("animationstart"),Pg=Io("transitionend"),Dg=new Map,sf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Dg.set(e,t),ln(t,[e])}for(var Ll=0;Ll<sf.length;Ll++){var $l=sf[Ll],xw=$l.toLowerCase(),bw=$l[0].toUpperCase()+$l.slice(1);Tr(xw,"on"+bw)}Tr(Cg,"onAnimationEnd");Tr(kg,"onAnimationIteration");Tr(Eg,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(Pg,"onTransitionEnd");Gn("onMouseEnter",["mouseout","mouseover"]);Gn("onMouseLeave",["mouseout","mouseover"]);Gn("onPointerEnter",["pointerout","pointerover"]);Gn("onPointerLeave",["pointerout","pointerover"]);ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ww=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oi));function af(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,xb(n,t,void 0,e),e.currentTarget=null}function Tg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;af(i,l,c),s=u}else for(a=0;a<n.length;a++){if(l=n[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;af(i,l,c),s=u}}}if(Ua)throw e=$u,Ua=!1,$u=null,e}function ae(e,t){var r=t[qu];r===void 0&&(r=t[qu]=new Set);var n=e+"__bubble";r.has(n)||(Ig(t,e,2,!1),r.add(n))}function Bl(e,t,r){var n=0;t&&(n|=4),Ig(r,e,n,t)}var ta="_reactListening"+Math.random().toString(36).slice(2);function ss(e){if(!e[ta]){e[ta]=!0,Mm.forEach(function(r){r!=="selectionchange"&&(ww.has(r)||Bl(r,!1,e),Bl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ta]||(t[ta]=!0,Bl("selectionchange",!1,t))}}function Ig(e,t,r,n){switch(mg(t)){case 1:var i=Rb;break;case 4:i=Lb;break;default:i=nd}r=i.bind(null,t,r,e),i=void 0,!Lu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Ml(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;l!==null;){if(a=qr(l),a===null)return;if(u=a.tag,u===5||u===6){n=s=a;continue e}l=l.parentNode}}n=n.return}tg(function(){var c=s,h=Zc(r),d=[];e:{var f=Dg.get(e);if(f!==void 0){var p=sd,m=e;switch(e){case"keypress":if(Da(r)===0)break e;case"keydown":case"keyup":p=Yb;break;case"focusin":m="focus",p=Il;break;case"focusout":m="blur",p=Il;break;case"beforeblur":case"afterblur":p=Il;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Mb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ew;break;case Cg:case kg:case Eg:p=zb;break;case Pg:p=rw;break;case"scroll":p=$b;break;case"wheel":p=iw;break;case"copy":case"cut":case"paste":p=Hb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Jh}var y=(t&4)!==0,x=!y&&e==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var g=c,b;g!==null;){b=g;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,v!==null&&(w=Zi(g,v),w!=null&&y.push(as(g,w,b)))),x)break;g=g.return}0<y.length&&(f=new p(f,m,null,r,h),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Au&&(m=r.relatedTarget||r.fromElement)&&(qr(m)||m[er]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?qr(m):null,m!==null&&(x=un(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=qh,w="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=Jh,w="onPointerLeave",v="onPointerEnter",g="pointer"),x=p==null?f:In(p),b=m==null?f:In(m),f=new y(w,g+"leave",p,r,h),f.target=x,f.relatedTarget=b,w=null,qr(h)===c&&(y=new y(v,g+"enter",m,r,h),y.target=b,y.relatedTarget=x,w=y),x=w,p&&m)t:{for(y=p,v=m,g=0,b=y;b;b=mn(b))g++;for(b=0,w=v;w;w=mn(w))b++;for(;0<g-b;)y=mn(y),g--;for(;0<b-g;)v=mn(v),b--;for(;g--;){if(y===v||v!==null&&y===v.alternate)break t;y=mn(y),v=mn(v)}y=null}else y=null;p!==null&&of(d,f,p,y,!1),m!==null&&x!==null&&of(d,x,m,y,!0)}}e:{if(f=c?In(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=dw;else if(Xh(f))if(wg)S=mw;else{S=fw;var N=hw}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=pw);if(S&&(S=S(e,c))){bg(d,S,r,h);break e}N&&N(e,f,c),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Pu(f,"number",f.value)}switch(N=c?In(c):window,e){case"focusin":(Xh(N)||N.contentEditable==="true")&&(Dn=N,Uu=c,Mi=null);break;case"focusout":Mi=Uu=Dn=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,nf(d,r,h);break;case"selectionchange":if(yw)break;case"keydown":case"keyup":nf(d,r,h)}var _;if(od)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Pn?yg(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(vg&&r.locale!=="ko"&&(Pn||k!=="onCompositionStart"?k==="onCompositionEnd"&&Pn&&(_=gg()):(hr=h,id="value"in hr?hr.value:hr.textContent,Pn=!0)),N=Ga(c,k),0<N.length&&(k=new Kh(k,e,null,r,h),d.push({event:k,listeners:N}),_?k.data=_:(_=xg(r),_!==null&&(k.data=_)))),(_=aw?ow(e,r):lw(e,r))&&(c=Ga(c,"onBeforeInput"),0<c.length&&(h=new Kh("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:c}),h.data=_))}Tg(d,t)})}function as(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ga(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Zi(e,r),s!=null&&n.unshift(as(e,s,i)),s=Zi(e,t),s!=null&&n.push(as(e,s,i))),e=e.return}return n}function mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function of(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,i?(u=Zi(r,s),u!=null&&a.unshift(as(r,u,l))):i||(u=Zi(r,s),u!=null&&a.push(as(r,u,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var jw=/\r\n?/g,Sw=/\u0000|\uFFFD/g;function lf(e){return(typeof e=="string"?e:""+e).replace(jw,`
`).replace(Sw,"")}function ra(e,t,r){if(t=lf(t),lf(e)!==t&&r)throw Error(E(425))}function qa(){}var Wu=null,Hu=null;function Vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gu=typeof setTimeout=="function"?setTimeout:void 0,Nw=typeof clearTimeout=="function"?clearTimeout:void 0,uf=typeof Promise=="function"?Promise:void 0,_w=typeof queueMicrotask=="function"?queueMicrotask:typeof uf<"u"?function(e){return uf.resolve(null).then(e).catch(Cw)}:Gu;function Cw(e){setTimeout(function(){throw e})}function Fl(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),rs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);rs(t)}function yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ai=Math.random().toString(36).slice(2),Ut="__reactFiber$"+ai,os="__reactProps$"+ai,er="__reactContainer$"+ai,qu="__reactEvents$"+ai,kw="__reactListeners$"+ai,Ew="__reactHandles$"+ai;function qr(e){var t=e[Ut];if(t)return t;for(var r=e.parentNode;r;){if(t=r[er]||r[Ut]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=cf(e);e!==null;){if(r=e[Ut])return r;e=cf(e)}return t}e=r,r=e.parentNode}return null}function Ps(e){return e=e[Ut]||e[er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function In(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function Oo(e){return e[os]||null}var Ku=[],On=-1;function Ir(e){return{current:e}}function oe(e){0>On||(e.current=Ku[On],Ku[On]=null,On--)}function se(e,t){On++,Ku[On]=e.current,e.current=t}var Er={},Be=Ir(Er),Qe=Ir(!1),tn=Er;function qn(e,t){var r=e.type.contextTypes;if(!r)return Er;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ye(e){return e=e.childContextTypes,e!=null}function Ka(){oe(Qe),oe(Be)}function df(e,t,r){if(Be.current!==Er)throw Error(E(168));se(Be,t),se(Qe,r)}function Og(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(E(108,hb(e)||"Unknown",i));return he({},r,n)}function Ja(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,tn=Be.current,se(Be,e),se(Qe,Qe.current),!0}function hf(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=Og(e,t,tn),n.__reactInternalMemoizedMergedChildContext=e,oe(Qe),oe(Be),se(Be,e)):oe(Qe),se(Qe,r)}var Kt=null,Ao=!1,Ul=!1;function Ag(e){Kt===null?Kt=[e]:Kt.push(e)}function Pw(e){Ao=!0,Ag(e)}function Or(){if(!Ul&&Kt!==null){Ul=!0;var e=0,t=Z;try{var r=Kt;for(Z=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Kt=null,Ao=!1}catch(i){throw Kt!==null&&(Kt=Kt.slice(e+1)),sg(ed,Or),i}finally{Z=t,Ul=!1}}return null}var An=[],Rn=0,Qa=null,Ya=0,gt=[],vt=0,rn=null,Qt=1,Yt="";function Ur(e,t){An[Rn++]=Ya,An[Rn++]=Qa,Qa=e,Ya=t}function Rg(e,t,r){gt[vt++]=Qt,gt[vt++]=Yt,gt[vt++]=rn,rn=e;var n=Qt;e=Yt;var i=32-At(n)-1;n&=~(1<<i),r+=1;var s=32-At(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Qt=1<<32-At(t)+i|r<<i|n,Yt=s+e}else Qt=1<<s|r<<i|n,Yt=e}function ud(e){e.return!==null&&(Ur(e,1),Rg(e,1,0))}function cd(e){for(;e===Qa;)Qa=An[--Rn],An[Rn]=null,Ya=An[--Rn],An[Rn]=null;for(;e===rn;)rn=gt[--vt],gt[vt]=null,Yt=gt[--vt],gt[vt]=null,Qt=gt[--vt],gt[vt]=null}var it=null,rt=null,le=!1,It=null;function Lg(e,t){var r=xt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ff(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,it=e,rt=yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,it=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=rn!==null?{id:Qt,overflow:Yt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=xt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,it=e,rt=null,!0):!1;default:return!1}}function Ju(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qu(e){if(le){var t=rt;if(t){var r=t;if(!ff(e,t)){if(Ju(e))throw Error(E(418));t=yr(r.nextSibling);var n=it;t&&ff(e,t)?Lg(n,r):(e.flags=e.flags&-4097|2,le=!1,it=e)}}else{if(Ju(e))throw Error(E(418));e.flags=e.flags&-4097|2,le=!1,it=e}}}function pf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;it=e}function na(e){if(e!==it)return!1;if(!le)return pf(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vu(e.type,e.memoizedProps)),t&&(t=rt)){if(Ju(e))throw $g(),Error(E(418));for(;t;)Lg(e,t),t=yr(t.nextSibling)}if(pf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){rt=yr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=it?yr(e.stateNode.nextSibling):null;return!0}function $g(){for(var e=rt;e;)e=yr(e.nextSibling)}function Kn(){rt=it=null,le=!1}function dd(e){It===null?It=[e]:It.push(e)}var Dw=ir.ReactCurrentBatchConfig;function ji(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function ia(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mf(e){var t=e._init;return t(e._payload)}function Bg(e){function t(v,g){if(e){var b=v.deletions;b===null?(v.deletions=[g],v.flags|=16):b.push(g)}}function r(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function i(v,g){return v=jr(v,g),v.index=0,v.sibling=null,v}function s(v,g,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<g?(v.flags|=2,g):b):(v.flags|=2,g)):(v.flags|=1048576,g)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,b,w){return g===null||g.tag!==6?(g=Kl(b,v.mode,w),g.return=v,g):(g=i(g,b),g.return=v,g)}function u(v,g,b,w){var S=b.type;return S===En?h(v,g,b.props.children,w,b.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===or&&mf(S)===g.type)?(w=i(g,b.props),w.ref=ji(v,g,b),w.return=v,w):(w=$a(b.type,b.key,b.props,null,v.mode,w),w.ref=ji(v,g,b),w.return=v,w)}function c(v,g,b,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Jl(b,v.mode,w),g.return=v,g):(g=i(g,b.children||[]),g.return=v,g)}function h(v,g,b,w,S){return g===null||g.tag!==7?(g=Xr(b,v.mode,w,S),g.return=v,g):(g=i(g,b),g.return=v,g)}function d(v,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Kl(""+g,v.mode,b),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case qs:return b=$a(g.type,g.key,g.props,null,v.mode,b),b.ref=ji(v,null,g),b.return=v,b;case kn:return g=Jl(g,v.mode,b),g.return=v,g;case or:var w=g._init;return d(v,w(g._payload),b)}if(Ti(g)||vi(g))return g=Xr(g,v.mode,b,null),g.return=v,g;ia(v,g)}return null}function f(v,g,b,w){var S=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(v,g,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case qs:return b.key===S?u(v,g,b,w):null;case kn:return b.key===S?c(v,g,b,w):null;case or:return S=b._init,f(v,g,S(b._payload),w)}if(Ti(b)||vi(b))return S!==null?null:h(v,g,b,w,null);ia(v,b)}return null}function p(v,g,b,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(b)||null,l(g,v,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qs:return v=v.get(w.key===null?b:w.key)||null,u(g,v,w,S);case kn:return v=v.get(w.key===null?b:w.key)||null,c(g,v,w,S);case or:var N=w._init;return p(v,g,b,N(w._payload),S)}if(Ti(w)||vi(w))return v=v.get(b)||null,h(g,v,w,S,null);ia(g,w)}return null}function m(v,g,b,w){for(var S=null,N=null,_=g,k=g=0,C=null;_!==null&&k<b.length;k++){_.index>k?(C=_,_=null):C=_.sibling;var D=f(v,_,b[k],w);if(D===null){_===null&&(_=C);break}e&&_&&D.alternate===null&&t(v,_),g=s(D,g,k),N===null?S=D:N.sibling=D,N=D,_=C}if(k===b.length)return r(v,_),le&&Ur(v,k),S;if(_===null){for(;k<b.length;k++)_=d(v,b[k],w),_!==null&&(g=s(_,g,k),N===null?S=_:N.sibling=_,N=_);return le&&Ur(v,k),S}for(_=n(v,_);k<b.length;k++)C=p(_,v,k,b[k],w),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?k:C.key),g=s(C,g,k),N===null?S=C:N.sibling=C,N=C);return e&&_.forEach(function(M){return t(v,M)}),le&&Ur(v,k),S}function y(v,g,b,w){var S=vi(b);if(typeof S!="function")throw Error(E(150));if(b=S.call(b),b==null)throw Error(E(151));for(var N=S=null,_=g,k=g=0,C=null,D=b.next();_!==null&&!D.done;k++,D=b.next()){_.index>k?(C=_,_=null):C=_.sibling;var M=f(v,_,D.value,w);if(M===null){_===null&&(_=C);break}e&&_&&M.alternate===null&&t(v,_),g=s(M,g,k),N===null?S=M:N.sibling=M,N=M,_=C}if(D.done)return r(v,_),le&&Ur(v,k),S;if(_===null){for(;!D.done;k++,D=b.next())D=d(v,D.value,w),D!==null&&(g=s(D,g,k),N===null?S=D:N.sibling=D,N=D);return le&&Ur(v,k),S}for(_=n(v,_);!D.done;k++,D=b.next())D=p(_,v,k,D.value,w),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?k:D.key),g=s(D,g,k),N===null?S=D:N.sibling=D,N=D);return e&&_.forEach(function(te){return t(v,te)}),le&&Ur(v,k),S}function x(v,g,b,w){if(typeof b=="object"&&b!==null&&b.type===En&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case qs:e:{for(var S=b.key,N=g;N!==null;){if(N.key===S){if(S=b.type,S===En){if(N.tag===7){r(v,N.sibling),g=i(N,b.props.children),g.return=v,v=g;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===or&&mf(S)===N.type){r(v,N.sibling),g=i(N,b.props),g.ref=ji(v,N,b),g.return=v,v=g;break e}r(v,N);break}else t(v,N);N=N.sibling}b.type===En?(g=Xr(b.props.children,v.mode,w,b.key),g.return=v,v=g):(w=$a(b.type,b.key,b.props,null,v.mode,w),w.ref=ji(v,g,b),w.return=v,v=w)}return a(v);case kn:e:{for(N=b.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(v,g.sibling),g=i(g,b.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else t(v,g);g=g.sibling}g=Jl(b,v.mode,w),g.return=v,v=g}return a(v);case or:return N=b._init,x(v,g,N(b._payload),w)}if(Ti(b))return m(v,g,b,w);if(vi(b))return y(v,g,b,w);ia(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(v,g.sibling),g=i(g,b),g.return=v,v=g):(r(v,g),g=Kl(b,v.mode,w),g.return=v,v=g),a(v)):r(v,g)}return x}var Jn=Bg(!0),Mg=Bg(!1),Xa=Ir(null),Za=null,Ln=null,hd=null;function fd(){hd=Ln=Za=null}function pd(e){var t=Xa.current;oe(Xa),e._currentValue=t}function Yu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Wn(e,t){Za=e,hd=Ln=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function St(e){var t=e._currentValue;if(hd!==e)if(e={context:e,memoizedValue:t,next:null},Ln===null){if(Za===null)throw Error(E(308));Ln=e,Za.dependencies={lanes:0,firstContext:e}}else Ln=Ln.next=e;return t}var Kr=null;function md(e){Kr===null?Kr=[e]:Kr.push(e)}function Fg(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,md(t)):(r.next=i.next,i.next=r),t.interleaved=r,tr(e,n)}function tr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var lr=!1;function gd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ug(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,q&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,tr(e,r)}return i=n.interleaved,i===null?(t.next=t,md(n)):(t.next=i.next,i.next=t),n.interleaved=t,tr(e,r)}function Ta(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,td(e,r)}}function gf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function eo(e,t,r,n){var i=e.updateQueue;lr=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u))}if(s!==null){var d=i.baseState;a=0,h=c=u=null,l=s;do{var f=l.lane,p=l.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,y=l;switch(f=t,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=he({},d,f);break e;case 2:lr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=p,u=d):h=h.next=p,a|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(u=d),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);sn|=a,e.lanes=a,e.memoizedState=d}}function vf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(E(191,i));i.call(n)}}}var Ds={},Wt=Ir(Ds),ls=Ir(Ds),us=Ir(Ds);function Jr(e){if(e===Ds)throw Error(E(174));return e}function vd(e,t){switch(se(us,t),se(ls,e),se(Wt,Ds),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Tu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Tu(t,e)}oe(Wt),se(Wt,t)}function Qn(){oe(Wt),oe(ls),oe(us)}function zg(e){Jr(us.current);var t=Jr(Wt.current),r=Tu(t,e.type);t!==r&&(se(ls,e),se(Wt,r))}function yd(e){ls.current===e&&(oe(Wt),oe(ls))}var ce=Ir(0);function to(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zl=[];function xd(){for(var e=0;e<zl.length;e++)zl[e]._workInProgressVersionPrimary=null;zl.length=0}var Ia=ir.ReactCurrentDispatcher,Wl=ir.ReactCurrentBatchConfig,nn=0,de=null,xe=null,Se=null,ro=!1,Fi=!1,cs=0,Tw=0;function Ae(){throw Error(E(321))}function bd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Lt(e[r],t[r]))return!1;return!0}function wd(e,t,r,n,i,s){if(nn=s,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ia.current=e===null||e.memoizedState===null?Rw:Lw,e=r(n,i),Fi){s=0;do{if(Fi=!1,cs=0,25<=s)throw Error(E(301));s+=1,Se=xe=null,t.updateQueue=null,Ia.current=$w,e=r(n,i)}while(Fi)}if(Ia.current=no,t=xe!==null&&xe.next!==null,nn=0,Se=xe=de=null,ro=!1,t)throw Error(E(300));return e}function jd(){var e=cs!==0;return cs=0,e}function Ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?de.memoizedState=Se=e:Se=Se.next=e,Se}function Nt(){if(xe===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=Se===null?de.memoizedState:Se.next;if(t!==null)Se=t,xe=e;else{if(e===null)throw Error(E(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Se===null?de.memoizedState=Se=e:Se=Se.next=e}return Se}function ds(e,t){return typeof t=="function"?t(e):t}function Hl(e){var t=Nt(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=xe,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=a=null,u=null,c=s;do{var h=c.lane;if((nn&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=d,a=n):u=u.next=d,de.lanes|=h,sn|=h}c=c.next}while(c!==null&&c!==s);u===null?a=n:u.next=l,Lt(n,t.memoizedState)||(Je=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,de.lanes|=s,sn|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Vl(e){var t=Nt(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Lt(s,t.memoizedState)||(Je=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Wg(){}function Hg(e,t){var r=de,n=Nt(),i=t(),s=!Lt(n.memoizedState,i);if(s&&(n.memoizedState=i,Je=!0),n=n.queue,Sd(qg.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Se!==null&&Se.memoizedState.tag&1){if(r.flags|=2048,hs(9,Gg.bind(null,r,n,i,t),void 0,null),Ne===null)throw Error(E(349));nn&30||Vg(r,t,i)}return i}function Vg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Gg(e,t,r,n){t.value=r,t.getSnapshot=n,Kg(t)&&Jg(e)}function qg(e,t,r){return r(function(){Kg(t)&&Jg(e)})}function Kg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Lt(e,r)}catch{return!0}}function Jg(e){var t=tr(e,1);t!==null&&Rt(t,e,1,-1)}function yf(e){var t=Ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:e},t.queue=e,e=e.dispatch=Aw.bind(null,de,e),[t.memoizedState,e]}function hs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Qg(){return Nt().memoizedState}function Oa(e,t,r,n){var i=Ft();de.flags|=e,i.memoizedState=hs(1|t,r,void 0,n===void 0?null:n)}function Ro(e,t,r,n){var i=Nt();n=n===void 0?null:n;var s=void 0;if(xe!==null){var a=xe.memoizedState;if(s=a.destroy,n!==null&&bd(n,a.deps)){i.memoizedState=hs(t,r,s,n);return}}de.flags|=e,i.memoizedState=hs(1|t,r,s,n)}function xf(e,t){return Oa(8390656,8,e,t)}function Sd(e,t){return Ro(2048,8,e,t)}function Yg(e,t){return Ro(4,2,e,t)}function Xg(e,t){return Ro(4,4,e,t)}function Zg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ev(e,t,r){return r=r!=null?r.concat([e]):null,Ro(4,4,Zg.bind(null,t,e),r)}function Nd(){}function tv(e,t){var r=Nt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&bd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function rv(e,t){var r=Nt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&bd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function nv(e,t,r){return nn&21?(Lt(r,t)||(r=lg(),de.lanes|=r,sn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=r)}function Iw(e,t){var r=Z;Z=r!==0&&4>r?r:4,e(!0);var n=Wl.transition;Wl.transition={};try{e(!1),t()}finally{Z=r,Wl.transition=n}}function iv(){return Nt().memoizedState}function Ow(e,t,r){var n=wr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},sv(e))av(t,r);else if(r=Fg(e,t,r,n),r!==null){var i=We();Rt(r,e,n,i),ov(r,t,n)}}function Aw(e,t,r){var n=wr(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(sv(e))av(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,r);if(i.hasEagerState=!0,i.eagerState=l,Lt(l,a)){var u=t.interleaved;u===null?(i.next=i,md(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}r=Fg(e,t,i,n),r!==null&&(i=We(),Rt(r,e,n,i),ov(r,t,n))}}function sv(e){var t=e.alternate;return e===de||t!==null&&t===de}function av(e,t){Fi=ro=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ov(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,td(e,r)}}var no={readContext:St,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},Rw={readContext:St,useCallback:function(e,t){return Ft().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:xf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Oa(4194308,4,Zg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var r=Ft();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ft();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ow.bind(null,de,e),[n.memoizedState,e]},useRef:function(e){var t=Ft();return e={current:e},t.memoizedState=e},useState:yf,useDebugValue:Nd,useDeferredValue:function(e){return Ft().memoizedState=e},useTransition:function(){var e=yf(!1),t=e[0];return e=Iw.bind(null,e[1]),Ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=de,i=Ft();if(le){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),Ne===null)throw Error(E(349));nn&30||Vg(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,xf(qg.bind(null,n,s,e),[e]),n.flags|=2048,hs(9,Gg.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Ft(),t=Ne.identifierPrefix;if(le){var r=Yt,n=Qt;r=(n&~(1<<32-At(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=cs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Tw++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Lw={readContext:St,useCallback:tv,useContext:St,useEffect:Sd,useImperativeHandle:ev,useInsertionEffect:Yg,useLayoutEffect:Xg,useMemo:rv,useReducer:Hl,useRef:Qg,useState:function(){return Hl(ds)},useDebugValue:Nd,useDeferredValue:function(e){var t=Nt();return nv(t,xe.memoizedState,e)},useTransition:function(){var e=Hl(ds)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Wg,useSyncExternalStore:Hg,useId:iv,unstable_isNewReconciler:!1},$w={readContext:St,useCallback:tv,useContext:St,useEffect:Sd,useImperativeHandle:ev,useInsertionEffect:Yg,useLayoutEffect:Xg,useMemo:rv,useReducer:Vl,useRef:Qg,useState:function(){return Vl(ds)},useDebugValue:Nd,useDeferredValue:function(e){var t=Nt();return xe===null?t.memoizedState=e:nv(t,xe.memoizedState,e)},useTransition:function(){var e=Vl(ds)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Wg,useSyncExternalStore:Hg,useId:iv,unstable_isNewReconciler:!1};function Et(e,t){if(e&&e.defaultProps){t=he({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Xu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:he({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Lo={isMounted:function(e){return(e=e._reactInternals)?un(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=We(),i=wr(e),s=Xt(n,i);s.payload=t,r!=null&&(s.callback=r),t=xr(e,s,i),t!==null&&(Rt(t,e,i,n),Ta(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=We(),i=wr(e),s=Xt(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=xr(e,s,i),t!==null&&(Rt(t,e,i,n),Ta(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=We(),n=wr(e),i=Xt(r,n);i.tag=2,t!=null&&(i.callback=t),t=xr(e,i,n),t!==null&&(Rt(t,e,n,r),Ta(t,e,n))}};function bf(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!is(r,n)||!is(i,s):!0}function lv(e,t,r){var n=!1,i=Er,s=t.contextType;return typeof s=="object"&&s!==null?s=St(s):(i=Ye(t)?tn:Be.current,n=t.contextTypes,s=(n=n!=null)?qn(e,i):Er),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function wf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Lo.enqueueReplaceState(t,t.state,null)}function Zu(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},gd(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=St(s):(s=Ye(t)?tn:Be.current,i.context=qn(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Xu(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Lo.enqueueReplaceState(i,i.state,null),eo(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Yn(e,t){try{var r="",n=t;do r+=db(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Gl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ec(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Bw=typeof WeakMap=="function"?WeakMap:Map;function uv(e,t,r){r=Xt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){so||(so=!0,cc=n),ec(e,t)},r}function cv(e,t,r){r=Xt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ec(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ec(e,t),typeof n!="function"&&(br===null?br=new Set([this]):br.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function jf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Bw;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Xw.bind(null,e,t,r),t.then(e,e))}function Sf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nf(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Xt(-1,1),t.tag=2,xr(r,t,1))),r.lanes|=1),e)}var Mw=ir.ReactCurrentOwner,Je=!1;function Ue(e,t,r,n){t.child=e===null?Mg(t,null,r,n):Jn(t,e.child,r,n)}function _f(e,t,r,n,i){r=r.render;var s=t.ref;return Wn(t,i),n=wd(e,t,r,n,s,i),r=jd(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,rr(e,t,i)):(le&&r&&ud(t),t.flags|=1,Ue(e,t,n,i),t.child)}function Cf(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Id(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,dv(e,t,s,n,i)):(e=$a(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:is,r(a,n)&&e.ref===t.ref)return rr(e,t,i)}return t.flags|=1,e=jr(s,n),e.ref=t.ref,e.return=t,t.child=e}function dv(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(is(s,n)&&e.ref===t.ref)if(Je=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,rr(e,t,i)}return tc(e,t,r,n,i)}function hv(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Bn,Ze),Ze|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(Bn,Ze),Ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,se(Bn,Ze),Ze|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,se(Bn,Ze),Ze|=n;return Ue(e,t,i,r),t.child}function fv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function tc(e,t,r,n,i){var s=Ye(r)?tn:Be.current;return s=qn(t,s),Wn(t,i),r=wd(e,t,r,n,s,i),n=jd(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,rr(e,t,i)):(le&&n&&ud(t),t.flags|=1,Ue(e,t,r,i),t.child)}function kf(e,t,r,n,i){if(Ye(r)){var s=!0;Ja(t)}else s=!1;if(Wn(t,i),t.stateNode===null)Aa(e,t),lv(t,r,n),Zu(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=St(c):(c=Ye(r)?tn:Be.current,c=qn(t,c));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||u!==c)&&wf(t,a,n,c),lr=!1;var f=t.memoizedState;a.state=f,eo(t,n,a,i),u=t.memoizedState,l!==n||f!==u||Qe.current||lr?(typeof h=="function"&&(Xu(t,r,h,n),u=t.memoizedState),(l=lr||bf(t,r,l,n,f,u,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Ug(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Et(t.type,l),a.props=c,d=t.pendingProps,f=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=St(u):(u=Ye(r)?tn:Be.current,u=qn(t,u));var p=r.getDerivedStateFromProps;(h=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||f!==u)&&wf(t,a,n,u),lr=!1,f=t.memoizedState,a.state=f,eo(t,n,a,i);var m=t.memoizedState;l!==d||f!==m||Qe.current||lr?(typeof p=="function"&&(Xu(t,r,p,n),m=t.memoizedState),(c=lr||bf(t,r,c,n,f,m,u)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),a.props=n,a.state=m,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return rc(e,t,r,n,s,i)}function rc(e,t,r,n,i,s){fv(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&hf(t,r,!1),rr(e,t,s);n=t.stateNode,Mw.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Jn(t,e.child,null,s),t.child=Jn(t,null,l,s)):Ue(e,t,l,s),t.memoizedState=n.state,i&&hf(t,r,!0),t.child}function pv(e){var t=e.stateNode;t.pendingContext?df(e,t.pendingContext,t.pendingContext!==t.context):t.context&&df(e,t.context,!1),vd(e,t.containerInfo)}function Ef(e,t,r,n,i){return Kn(),dd(i),t.flags|=256,Ue(e,t,r,n),t.child}var nc={dehydrated:null,treeContext:null,retryLane:0};function ic(e){return{baseLanes:e,cachePool:null,transitions:null}}function mv(e,t,r){var n=t.pendingProps,i=ce.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),se(ce,i&1),e===null)return Qu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Mo(a,n,0,null),e=Xr(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ic(r),t.memoizedState=nc,e):_d(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Fw(e,t,a,n,l,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,l=i.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=jr(i,u),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=jr(l,s):(s=Xr(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?ic(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=nc,n}return s=e.child,e=s.sibling,n=jr(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function _d(e,t){return t=Mo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sa(e,t,r,n){return n!==null&&dd(n),Jn(t,e.child,null,r),e=_d(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fw(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=Gl(Error(E(422))),sa(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Mo({mode:"visible",children:n.children},i,0,null),s=Xr(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Jn(t,e.child,null,a),t.child.memoizedState=ic(a),t.memoizedState=nc,s);if(!(t.mode&1))return sa(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(E(419)),n=Gl(s,n,void 0),sa(e,t,a,n)}if(l=(a&e.childLanes)!==0,Je||l){if(n=Ne,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,tr(e,i),Rt(n,e,i,-1))}return Td(),n=Gl(Error(E(421))),sa(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Zw.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,rt=yr(i.nextSibling),it=t,le=!0,It=null,e!==null&&(gt[vt++]=Qt,gt[vt++]=Yt,gt[vt++]=rn,Qt=e.id,Yt=e.overflow,rn=t),t=_d(t,n.children),t.flags|=4096,t)}function Pf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Yu(e.return,t,r)}function ql(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function gv(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Ue(e,t,n.children,r),n=ce.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pf(e,r,t);else if(e.tag===19)Pf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(se(ce,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&to(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),ql(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&to(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}ql(t,!0,r,null,s);break;case"together":ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Aa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),sn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=jr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=jr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Uw(e,t,r){switch(t.tag){case 3:pv(t),Kn();break;case 5:zg(t);break;case 1:Ye(t.type)&&Ja(t);break;case 4:vd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;se(Xa,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(se(ce,ce.current&1),t.flags|=128,null):r&t.child.childLanes?mv(e,t,r):(se(ce,ce.current&1),e=rr(e,t,r),e!==null?e.sibling:null);se(ce,ce.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return gv(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),se(ce,ce.current),n)break;return null;case 22:case 23:return t.lanes=0,hv(e,t,r)}return rr(e,t,r)}var vv,sc,yv,xv;vv=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};sc=function(){};yv=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Jr(Wt.current);var s=null;switch(r){case"input":i=ku(e,i),n=ku(e,n),s=[];break;case"select":i=he({},i,{value:void 0}),n=he({},n,{value:void 0}),s=[];break;case"textarea":i=Du(e,i),n=Du(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=qa)}Iu(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Yi.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var u=n[c];if(l=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(s||(s=[]),s.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Yi.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ae("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};xv=function(e,t,r,n){r!==n&&(t.flags|=4)};function Si(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function zw(e,t,r){var n=t.pendingProps;switch(cd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Ye(t.type)&&Ka(),Re(t),null;case 3:return n=t.stateNode,Qn(),oe(Qe),oe(Be),xd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(na(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,It!==null&&(fc(It),It=null))),sc(e,t),Re(t),null;case 5:yd(t);var i=Jr(us.current);if(r=t.type,e!==null&&t.stateNode!=null)yv(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return Re(t),null}if(e=Jr(Wt.current),na(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Ut]=t,n[os]=s,e=(t.mode&1)!==0,r){case"dialog":ae("cancel",n),ae("close",n);break;case"iframe":case"object":case"embed":ae("load",n);break;case"video":case"audio":for(i=0;i<Oi.length;i++)ae(Oi[i],n);break;case"source":ae("error",n);break;case"img":case"image":case"link":ae("error",n),ae("load",n);break;case"details":ae("toggle",n);break;case"input":$h(n,s),ae("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ae("invalid",n);break;case"textarea":Mh(n,s),ae("invalid",n)}Iu(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&ra(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ra(n.textContent,l,e),i=["children",""+l]):Yi.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ae("scroll",n)}switch(r){case"input":Ks(n),Bh(n,s,!0);break;case"textarea":Ks(n),Fh(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=qa)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Ut]=t,e[os]=n,vv(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ou(r,n),r){case"dialog":ae("cancel",e),ae("close",e),i=n;break;case"iframe":case"object":case"embed":ae("load",e),i=n;break;case"video":case"audio":for(i=0;i<Oi.length;i++)ae(Oi[i],e);i=n;break;case"source":ae("error",e),i=n;break;case"img":case"image":case"link":ae("error",e),ae("load",e),i=n;break;case"details":ae("toggle",e),i=n;break;case"input":$h(e,n),i=ku(e,n),ae("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=he({},n,{value:void 0}),ae("invalid",e);break;case"textarea":Mh(e,n),i=Du(e,n),ae("invalid",e);break;default:i=n}Iu(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?Qm(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Km(e,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Xi(e,u):typeof u=="number"&&Xi(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yi.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ae("scroll",e):u!=null&&Jc(e,s,u,a))}switch(r){case"input":Ks(e),Bh(e,n,!1);break;case"textarea":Ks(e),Fh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+kr(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Mn(e,!!n.multiple,s,!1):n.defaultValue!=null&&Mn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=qa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(e&&t.stateNode!=null)xv(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=Jr(us.current),Jr(Wt.current),na(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ut]=t,(s=n.nodeValue!==r)&&(e=it,e!==null))switch(e.tag){case 3:ra(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ra(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ut]=t,t.stateNode=n}return Re(t),null;case 13:if(oe(ce),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&rt!==null&&t.mode&1&&!(t.flags&128))$g(),Kn(),t.flags|=98560,s=!1;else if(s=na(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(E(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(E(317));s[Ut]=t}else Kn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),s=!1}else It!==null&&(fc(It),It=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ce.current&1?be===0&&(be=3):Td())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return Qn(),sc(e,t),e===null&&ss(t.stateNode.containerInfo),Re(t),null;case 10:return pd(t.type._context),Re(t),null;case 17:return Ye(t.type)&&Ka(),Re(t),null;case 19:if(oe(ce),s=t.memoizedState,s===null)return Re(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)Si(s,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=to(e),a!==null){for(t.flags|=128,Si(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return se(ce,ce.current&1|2),t.child}e=e.sibling}s.tail!==null&&pe()>Xn&&(t.flags|=128,n=!0,Si(s,!1),t.lanes=4194304)}else{if(!n)if(e=to(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Si(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!le)return Re(t),null}else 2*pe()-s.renderingStartTime>Xn&&r!==1073741824&&(t.flags|=128,n=!0,Si(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=pe(),t.sibling=null,r=ce.current,se(ce,n?r&1|2:r&1),t):(Re(t),null);case 22:case 23:return Dd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ze&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function Ww(e,t){switch(cd(t),t.tag){case 1:return Ye(t.type)&&Ka(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qn(),oe(Qe),oe(Be),xd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yd(t),null;case 13:if(oe(ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Kn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(ce),null;case 4:return Qn(),null;case 10:return pd(t.type._context),null;case 22:case 23:return Dd(),null;case 24:return null;default:return null}}var aa=!1,$e=!1,Hw=typeof WeakSet=="function"?WeakSet:Set,I=null;function $n(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fe(e,t,n)}else r.current=null}function ac(e,t,r){try{r()}catch(n){fe(e,t,n)}}var Df=!1;function Vw(e,t){if(Wu=Ha,e=Ng(),ld(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==r||i!==0&&d.nodeType!==3||(l=a+i),d!==s||n!==0&&d.nodeType!==3||(u=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===r&&++c===i&&(l=a),f===s&&++h===n&&(u=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hu={focusedElem:e,selectionRange:r},Ha=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,x=m.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Et(t.type,y),x);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){fe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return m=Df,Df=!1,m}function Ui(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&ac(t,r,s)}i=i.next}while(i!==n)}}function $o(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function oc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function bv(e){var t=e.alternate;t!==null&&(e.alternate=null,bv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ut],delete t[os],delete t[qu],delete t[kw],delete t[Ew])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wv(e){return e.tag===5||e.tag===3||e.tag===4}function Tf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=qa));else if(n!==4&&(e=e.child,e!==null))for(lc(e,t,r),e=e.sibling;e!==null;)lc(e,t,r),e=e.sibling}function uc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(uc(e,t,r),e=e.sibling;e!==null;)uc(e,t,r),e=e.sibling}var Pe=null,Dt=!1;function sr(e,t,r){for(r=r.child;r!==null;)jv(e,t,r),r=r.sibling}function jv(e,t,r){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Po,r)}catch{}switch(r.tag){case 5:$e||$n(r,t);case 6:var n=Pe,i=Dt;Pe=null,sr(e,t,r),Pe=n,Dt=i,Pe!==null&&(Dt?(e=Pe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Pe.removeChild(r.stateNode));break;case 18:Pe!==null&&(Dt?(e=Pe,r=r.stateNode,e.nodeType===8?Fl(e.parentNode,r):e.nodeType===1&&Fl(e,r),rs(e)):Fl(Pe,r.stateNode));break;case 4:n=Pe,i=Dt,Pe=r.stateNode.containerInfo,Dt=!0,sr(e,t,r),Pe=n,Dt=i;break;case 0:case 11:case 14:case 15:if(!$e&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&ac(r,t,a),i=i.next}while(i!==n)}sr(e,t,r);break;case 1:if(!$e&&($n(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){fe(r,t,l)}sr(e,t,r);break;case 21:sr(e,t,r);break;case 22:r.mode&1?($e=(n=$e)||r.memoizedState!==null,sr(e,t,r),$e=n):sr(e,t,r);break;default:sr(e,t,r)}}function If(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Hw),t.forEach(function(n){var i=e1.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function _t(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Pe=l.stateNode,Dt=!1;break e;case 3:Pe=l.stateNode.containerInfo,Dt=!0;break e;case 4:Pe=l.stateNode.containerInfo,Dt=!0;break e}l=l.return}if(Pe===null)throw Error(E(160));jv(s,a,i),Pe=null,Dt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){fe(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sv(t,e),t=t.sibling}function Sv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(t,e),Mt(e),n&4){try{Ui(3,e,e.return),$o(3,e)}catch(y){fe(e,e.return,y)}try{Ui(5,e,e.return)}catch(y){fe(e,e.return,y)}}break;case 1:_t(t,e),Mt(e),n&512&&r!==null&&$n(r,r.return);break;case 5:if(_t(t,e),Mt(e),n&512&&r!==null&&$n(r,r.return),e.flags&32){var i=e.stateNode;try{Xi(i,"")}catch(y){fe(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Vm(i,s),Ou(l,a);var c=Ou(l,s);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];h==="style"?Qm(i,d):h==="dangerouslySetInnerHTML"?Km(i,d):h==="children"?Xi(i,d):Jc(i,h,d,c)}switch(l){case"input":Eu(i,s);break;case"textarea":Gm(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Mn(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Mn(i,!!s.multiple,s.defaultValue,!0):Mn(i,!!s.multiple,s.multiple?[]:"",!1))}i[os]=s}catch(y){fe(e,e.return,y)}}break;case 6:if(_t(t,e),Mt(e),n&4){if(e.stateNode===null)throw Error(E(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){fe(e,e.return,y)}}break;case 3:if(_t(t,e),Mt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{rs(t.containerInfo)}catch(y){fe(e,e.return,y)}break;case 4:_t(t,e),Mt(e);break;case 13:_t(t,e),Mt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ed=pe())),n&4&&If(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?($e=(c=$e)||h,_t(t,e),$e=c):_t(t,e),Mt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(I=e,h=e.child;h!==null;){for(d=I=h;I!==null;){switch(f=I,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ui(4,f,f.return);break;case 1:$n(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){fe(n,r,y)}}break;case 5:$n(f,f.return);break;case 22:if(f.memoizedState!==null){Af(d);continue}}p!==null?(p.return=f,I=p):Af(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,u=d.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Jm("display",a))}catch(y){fe(e,e.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){fe(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:_t(t,e),Mt(e),n&4&&If(e);break;case 21:break;default:_t(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(wv(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Xi(i,""),n.flags&=-33);var s=Tf(e);uc(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Tf(e);lc(e,l,a);break;default:throw Error(E(161))}}catch(u){fe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gw(e,t,r){I=e,Nv(e)}function Nv(e,t,r){for(var n=(e.mode&1)!==0;I!==null;){var i=I,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||aa;if(!a){var l=i.alternate,u=l!==null&&l.memoizedState!==null||$e;l=aa;var c=$e;if(aa=a,($e=u)&&!c)for(I=i;I!==null;)a=I,u=a.child,a.tag===22&&a.memoizedState!==null?Rf(i):u!==null?(u.return=a,I=u):Rf(i);for(;s!==null;)I=s,Nv(s),s=s.sibling;I=i,aa=l,$e=c}Of(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,I=s):Of(e)}}function Of(e){for(;I!==null;){var t=I;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$e||$o(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!$e)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Et(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&vf(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}vf(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&rs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}$e||t.flags&512&&oc(t)}catch(f){fe(t,t.return,f)}}if(t===e){I=null;break}if(r=t.sibling,r!==null){r.return=t.return,I=r;break}I=t.return}}function Af(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var r=t.sibling;if(r!==null){r.return=t.return,I=r;break}I=t.return}}function Rf(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$o(4,t)}catch(u){fe(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(u){fe(t,i,u)}}var s=t.return;try{oc(t)}catch(u){fe(t,s,u)}break;case 5:var a=t.return;try{oc(t)}catch(u){fe(t,a,u)}}}catch(u){fe(t,t.return,u)}if(t===e){I=null;break}var l=t.sibling;if(l!==null){l.return=t.return,I=l;break}I=t.return}}var qw=Math.ceil,io=ir.ReactCurrentDispatcher,Cd=ir.ReactCurrentOwner,wt=ir.ReactCurrentBatchConfig,q=0,Ne=null,ge=null,Te=0,Ze=0,Bn=Ir(0),be=0,fs=null,sn=0,Bo=0,kd=0,zi=null,Ke=null,Ed=0,Xn=1/0,Gt=null,so=!1,cc=null,br=null,oa=!1,fr=null,ao=0,Wi=0,dc=null,Ra=-1,La=0;function We(){return q&6?pe():Ra!==-1?Ra:Ra=pe()}function wr(e){return e.mode&1?q&2&&Te!==0?Te&-Te:Dw.transition!==null?(La===0&&(La=lg()),La):(e=Z,e!==0||(e=window.event,e=e===void 0?16:mg(e.type)),e):1}function Rt(e,t,r,n){if(50<Wi)throw Wi=0,dc=null,Error(E(185));ks(e,r,n),(!(q&2)||e!==Ne)&&(e===Ne&&(!(q&2)&&(Bo|=r),be===4&&cr(e,Te)),Xe(e,n),r===1&&q===0&&!(t.mode&1)&&(Xn=pe()+500,Ao&&Or()))}function Xe(e,t){var r=e.callbackNode;Db(e,t);var n=Wa(e,e===Ne?Te:0);if(n===0)r!==null&&Wh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Wh(r),t===1)e.tag===0?Pw(Lf.bind(null,e)):Ag(Lf.bind(null,e)),_w(function(){!(q&6)&&Or()}),r=null;else{switch(ug(n)){case 1:r=ed;break;case 4:r=ag;break;case 16:r=za;break;case 536870912:r=og;break;default:r=za}r=Iv(r,_v.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function _v(e,t){if(Ra=-1,La=0,q&6)throw Error(E(327));var r=e.callbackNode;if(Hn()&&e.callbackNode!==r)return null;var n=Wa(e,e===Ne?Te:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=oo(e,n);else{t=n;var i=q;q|=2;var s=kv();(Ne!==e||Te!==t)&&(Gt=null,Xn=pe()+500,Yr(e,t));do try{Qw();break}catch(l){Cv(e,l)}while(!0);fd(),io.current=s,q=i,ge!==null?t=0:(Ne=null,Te=0,t=be)}if(t!==0){if(t===2&&(i=Bu(e),i!==0&&(n=i,t=hc(e,i))),t===1)throw r=fs,Yr(e,0),cr(e,n),Xe(e,pe()),r;if(t===6)cr(e,n);else{if(i=e.current.alternate,!(n&30)&&!Kw(i)&&(t=oo(e,n),t===2&&(s=Bu(e),s!==0&&(n=s,t=hc(e,s))),t===1))throw r=fs,Yr(e,0),cr(e,n),Xe(e,pe()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:zr(e,Ke,Gt);break;case 3:if(cr(e,n),(n&130023424)===n&&(t=Ed+500-pe(),10<t)){if(Wa(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){We(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gu(zr.bind(null,e,Ke,Gt),t);break}zr(e,Ke,Gt);break;case 4:if(cr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-At(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=pe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qw(n/1960))-n,10<n){e.timeoutHandle=Gu(zr.bind(null,e,Ke,Gt),n);break}zr(e,Ke,Gt);break;case 5:zr(e,Ke,Gt);break;default:throw Error(E(329))}}}return Xe(e,pe()),e.callbackNode===r?_v.bind(null,e):null}function hc(e,t){var r=zi;return e.current.memoizedState.isDehydrated&&(Yr(e,t).flags|=256),e=oo(e,t),e!==2&&(t=Ke,Ke=r,t!==null&&fc(t)),e}function fc(e){Ke===null?Ke=e:Ke.push.apply(Ke,e)}function Kw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Lt(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cr(e,t){for(t&=~kd,t&=~Bo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-At(t),n=1<<r;e[r]=-1,t&=~n}}function Lf(e){if(q&6)throw Error(E(327));Hn();var t=Wa(e,0);if(!(t&1))return Xe(e,pe()),null;var r=oo(e,t);if(e.tag!==0&&r===2){var n=Bu(e);n!==0&&(t=n,r=hc(e,n))}if(r===1)throw r=fs,Yr(e,0),cr(e,t),Xe(e,pe()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zr(e,Ke,Gt),Xe(e,pe()),null}function Pd(e,t){var r=q;q|=1;try{return e(t)}finally{q=r,q===0&&(Xn=pe()+500,Ao&&Or())}}function an(e){fr!==null&&fr.tag===0&&!(q&6)&&Hn();var t=q;q|=1;var r=wt.transition,n=Z;try{if(wt.transition=null,Z=1,e)return e()}finally{Z=n,wt.transition=r,q=t,!(q&6)&&Or()}}function Dd(){Ze=Bn.current,oe(Bn)}function Yr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Nw(r)),ge!==null)for(r=ge.return;r!==null;){var n=r;switch(cd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ka();break;case 3:Qn(),oe(Qe),oe(Be),xd();break;case 5:yd(n);break;case 4:Qn();break;case 13:oe(ce);break;case 19:oe(ce);break;case 10:pd(n.type._context);break;case 22:case 23:Dd()}r=r.return}if(Ne=e,ge=e=jr(e.current,null),Te=Ze=t,be=0,fs=null,kd=Bo=sn=0,Ke=zi=null,Kr!==null){for(t=0;t<Kr.length;t++)if(r=Kr[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Kr=null}return e}function Cv(e,t){do{var r=ge;try{if(fd(),Ia.current=no,ro){for(var n=de.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ro=!1}if(nn=0,Se=xe=de=null,Fi=!1,cs=0,Cd.current=null,r===null||r.return===null){be=1,fs=t,ge=null;break}e:{var s=e,a=r.return,l=r,u=t;if(t=Te,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Sf(a);if(p!==null){p.flags&=-257,Nf(p,a,l,s,t),p.mode&1&&jf(s,c,t),t=p,u=c;var m=t.updateQueue;if(m===null){var y=new Set;y.add(u),t.updateQueue=y}else m.add(u);break e}else{if(!(t&1)){jf(s,c,t),Td();break e}u=Error(E(426))}}else if(le&&l.mode&1){var x=Sf(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Nf(x,a,l,s,t),dd(Yn(u,l));break e}}s=u=Yn(u,l),be!==4&&(be=2),zi===null?zi=[s]:zi.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=uv(s,u,t);gf(s,v);break e;case 1:l=u;var g=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(br===null||!br.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=cv(s,l,t);gf(s,w);break e}}s=s.return}while(s!==null)}Pv(r)}catch(S){t=S,ge===r&&r!==null&&(ge=r=r.return);continue}break}while(!0)}function kv(){var e=io.current;return io.current=no,e===null?no:e}function Td(){(be===0||be===3||be===2)&&(be=4),Ne===null||!(sn&268435455)&&!(Bo&268435455)||cr(Ne,Te)}function oo(e,t){var r=q;q|=2;var n=kv();(Ne!==e||Te!==t)&&(Gt=null,Yr(e,t));do try{Jw();break}catch(i){Cv(e,i)}while(!0);if(fd(),q=r,io.current=n,ge!==null)throw Error(E(261));return Ne=null,Te=0,be}function Jw(){for(;ge!==null;)Ev(ge)}function Qw(){for(;ge!==null&&!wb();)Ev(ge)}function Ev(e){var t=Tv(e.alternate,e,Ze);e.memoizedProps=e.pendingProps,t===null?Pv(e):ge=t,Cd.current=null}function Pv(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Ww(r,t),r!==null){r.flags&=32767,ge=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,ge=null;return}}else if(r=zw(r,t,Ze),r!==null){ge=r;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);be===0&&(be=5)}function zr(e,t,r){var n=Z,i=wt.transition;try{wt.transition=null,Z=1,Yw(e,t,r,n)}finally{wt.transition=i,Z=n}return null}function Yw(e,t,r,n){do Hn();while(fr!==null);if(q&6)throw Error(E(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(Tb(e,s),e===Ne&&(ge=Ne=null,Te=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||oa||(oa=!0,Iv(za,function(){return Hn(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=wt.transition,wt.transition=null;var a=Z;Z=1;var l=q;q|=4,Cd.current=null,Vw(e,r),Sv(r,e),vw(Hu),Ha=!!Wu,Hu=Wu=null,e.current=r,Gw(r),jb(),q=l,Z=a,wt.transition=s}else e.current=r;if(oa&&(oa=!1,fr=e,ao=i),s=e.pendingLanes,s===0&&(br=null),_b(r.stateNode),Xe(e,pe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(so)throw so=!1,e=cc,cc=null,e;return ao&1&&e.tag!==0&&Hn(),s=e.pendingLanes,s&1?e===dc?Wi++:(Wi=0,dc=e):Wi=0,Or(),null}function Hn(){if(fr!==null){var e=ug(ao),t=wt.transition,r=Z;try{if(wt.transition=null,Z=16>e?16:e,fr===null)var n=!1;else{if(e=fr,fr=null,ao=0,q&6)throw Error(E(331));var i=q;for(q|=4,I=e.current;I!==null;){var s=I,a=s.child;if(I.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(I=c;I!==null;){var h=I;switch(h.tag){case 0:case 11:case 15:Ui(8,h,s)}var d=h.child;if(d!==null)d.return=h,I=d;else for(;I!==null;){h=I;var f=h.sibling,p=h.return;if(bv(h),h===c){I=null;break}if(f!==null){f.return=p,I=f;break}I=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}I=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,I=a;else e:for(;I!==null;){if(s=I,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ui(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,I=v;break e}I=s.return}}var g=e.current;for(I=g;I!==null;){a=I;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,I=b;else e:for(a=g;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$o(9,l)}}catch(S){fe(l,l.return,S)}if(l===a){I=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,I=w;break e}I=l.return}}if(q=i,Or(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Po,e)}catch{}n=!0}return n}finally{Z=r,wt.transition=t}}return!1}function $f(e,t,r){t=Yn(r,t),t=uv(e,t,1),e=xr(e,t,1),t=We(),e!==null&&(ks(e,1,t),Xe(e,t))}function fe(e,t,r){if(e.tag===3)$f(e,e,r);else for(;t!==null;){if(t.tag===3){$f(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(br===null||!br.has(n))){e=Yn(r,e),e=cv(t,e,1),t=xr(t,e,1),e=We(),t!==null&&(ks(t,1,e),Xe(t,e));break}}t=t.return}}function Xw(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&r,Ne===e&&(Te&r)===r&&(be===4||be===3&&(Te&130023424)===Te&&500>pe()-Ed?Yr(e,0):kd|=r),Xe(e,t)}function Dv(e,t){t===0&&(e.mode&1?(t=Ys,Ys<<=1,!(Ys&130023424)&&(Ys=4194304)):t=1);var r=We();e=tr(e,t),e!==null&&(ks(e,t,r),Xe(e,r))}function Zw(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Dv(e,r)}function e1(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),Dv(e,r)}var Tv;Tv=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Je=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Je=!1,Uw(e,t,r);Je=!!(e.flags&131072)}else Je=!1,le&&t.flags&1048576&&Rg(t,Ya,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Aa(e,t),e=t.pendingProps;var i=qn(t,Be.current);Wn(t,r),i=wd(null,t,n,e,i,r);var s=jd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(n)?(s=!0,Ja(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gd(t),i.updater=Lo,t.stateNode=i,i._reactInternals=t,Zu(t,n,e,r),t=rc(null,t,n,!0,s,r)):(t.tag=0,le&&s&&ud(t),Ue(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Aa(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=r1(n),e=Et(n,e),i){case 0:t=tc(null,t,n,e,r);break e;case 1:t=kf(null,t,n,e,r);break e;case 11:t=_f(null,t,n,e,r);break e;case 14:t=Cf(null,t,n,Et(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Et(n,i),tc(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Et(n,i),kf(e,t,n,i,r);case 3:e:{if(pv(t),e===null)throw Error(E(387));n=t.pendingProps,s=t.memoizedState,i=s.element,Ug(e,t),eo(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Yn(Error(E(423)),t),t=Ef(e,t,n,r,i);break e}else if(n!==i){i=Yn(Error(E(424)),t),t=Ef(e,t,n,r,i);break e}else for(rt=yr(t.stateNode.containerInfo.firstChild),it=t,le=!0,It=null,r=Mg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kn(),n===i){t=rr(e,t,r);break e}Ue(e,t,n,r)}t=t.child}return t;case 5:return zg(t),e===null&&Qu(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Vu(n,i)?a=null:s!==null&&Vu(n,s)&&(t.flags|=32),fv(e,t),Ue(e,t,a,r),t.child;case 6:return e===null&&Qu(t),null;case 13:return mv(e,t,r);case 4:return vd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Jn(t,null,n,r):Ue(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Et(n,i),_f(e,t,n,i,r);case 7:return Ue(e,t,t.pendingProps,r),t.child;case 8:return Ue(e,t,t.pendingProps.children,r),t.child;case 12:return Ue(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,se(Xa,n._currentValue),n._currentValue=a,s!==null)if(Lt(s.value,a)){if(s.children===i.children&&!Qe.current){t=rr(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=Xt(-1,r&-r),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),Yu(s.return,r,t),l.lanes|=r;break}u=u.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(E(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Yu(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ue(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Wn(t,r),i=St(i),n=n(i),t.flags|=1,Ue(e,t,n,r),t.child;case 14:return n=t.type,i=Et(n,t.pendingProps),i=Et(n.type,i),Cf(e,t,n,i,r);case 15:return dv(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Et(n,i),Aa(e,t),t.tag=1,Ye(n)?(e=!0,Ja(t)):e=!1,Wn(t,r),lv(t,n,i),Zu(t,n,i,r),rc(null,t,n,!0,e,r);case 19:return gv(e,t,r);case 22:return hv(e,t,r)}throw Error(E(156,t.tag))};function Iv(e,t){return sg(e,t)}function t1(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,r,n){return new t1(e,t,r,n)}function Id(e){return e=e.prototype,!(!e||!e.isReactComponent)}function r1(e){if(typeof e=="function")return Id(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yc)return 11;if(e===Xc)return 14}return 2}function jr(e,t){var r=e.alternate;return r===null?(r=xt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $a(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")Id(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case En:return Xr(r.children,i,s,t);case Qc:a=8,i|=8;break;case Su:return e=xt(12,r,t,i|2),e.elementType=Su,e.lanes=s,e;case Nu:return e=xt(13,r,t,i),e.elementType=Nu,e.lanes=s,e;case _u:return e=xt(19,r,t,i),e.elementType=_u,e.lanes=s,e;case zm:return Mo(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fm:a=10;break e;case Um:a=9;break e;case Yc:a=11;break e;case Xc:a=14;break e;case or:a=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=xt(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Xr(e,t,r,n){return e=xt(7,e,n,t),e.lanes=r,e}function Mo(e,t,r,n){return e=xt(22,e,n,t),e.elementType=zm,e.lanes=r,e.stateNode={isHidden:!1},e}function Kl(e,t,r){return e=xt(6,e,null,t),e.lanes=r,e}function Jl(e,t,r){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function n1(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pl(0),this.expirationTimes=Pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Od(e,t,r,n,i,s,a,l,u){return e=new n1(e,t,r,l,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=xt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gd(s),e}function i1(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Ov(e){if(!e)return Er;e=e._reactInternals;e:{if(un(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(Ye(r))return Og(e,r,t)}return t}function Av(e,t,r,n,i,s,a,l,u){return e=Od(r,n,!0,e,i,s,a,l,u),e.context=Ov(null),r=e.current,n=We(),i=wr(r),s=Xt(n,i),s.callback=t??null,xr(r,s,i),e.current.lanes=i,ks(e,i,n),Xe(e,n),e}function Fo(e,t,r,n){var i=t.current,s=We(),a=wr(i);return r=Ov(r),t.context===null?t.context=r:t.pendingContext=r,t=Xt(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xr(i,t,a),e!==null&&(Rt(e,i,a,s),Ta(e,i,a)),a}function lo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ad(e,t){Bf(e,t),(e=e.alternate)&&Bf(e,t)}function s1(){return null}var Rv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rd(e){this._internalRoot=e}Uo.prototype.render=Rd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Fo(e,t,null,null)};Uo.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;an(function(){Fo(null,e,null,null)}),t[er]=null}};function Uo(e){this._internalRoot=e}Uo.prototype.unstable_scheduleHydration=function(e){if(e){var t=hg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ur.length&&t!==0&&t<ur[r].priority;r++);ur.splice(r,0,e),r===0&&pg(e)}};function Ld(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mf(){}function a1(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=lo(a);s.call(c)}}var a=Av(t,n,e,0,null,!1,!1,"",Mf);return e._reactRootContainer=a,e[er]=a.current,ss(e.nodeType===8?e.parentNode:e),an(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var c=lo(u);l.call(c)}}var u=Od(e,0,!1,null,null,!1,!1,"",Mf);return e._reactRootContainer=u,e[er]=u.current,ss(e.nodeType===8?e.parentNode:e),an(function(){Fo(t,u,r,n)}),u}function Wo(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var u=lo(a);l.call(u)}}Fo(t,a,e,i)}else a=a1(r,t,e,i,n);return lo(a)}cg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ii(t.pendingLanes);r!==0&&(td(t,r|1),Xe(t,pe()),!(q&6)&&(Xn=pe()+500,Or()))}break;case 13:an(function(){var n=tr(e,1);if(n!==null){var i=We();Rt(n,e,1,i)}}),Ad(e,1)}};rd=function(e){if(e.tag===13){var t=tr(e,134217728);if(t!==null){var r=We();Rt(t,e,134217728,r)}Ad(e,134217728)}};dg=function(e){if(e.tag===13){var t=wr(e),r=tr(e,t);if(r!==null){var n=We();Rt(r,e,t,n)}Ad(e,t)}};hg=function(){return Z};fg=function(e,t){var r=Z;try{return Z=e,t()}finally{Z=r}};Ru=function(e,t,r){switch(t){case"input":if(Eu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Oo(n);if(!i)throw Error(E(90));Hm(n),Eu(n,i)}}}break;case"textarea":Gm(e,r);break;case"select":t=r.value,t!=null&&Mn(e,!!r.multiple,t,!1)}};Zm=Pd;eg=an;var o1={usingClientEntryPoint:!1,Events:[Ps,In,Oo,Ym,Xm,Pd]},Ni={findFiberByHostInstance:qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l1={bundleType:Ni.bundleType,version:Ni.version,rendererPackageName:Ni.rendererPackageName,rendererConfig:Ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ng(e),e===null?null:e.stateNode},findFiberByHostInstance:Ni.findFiberByHostInstance||s1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var la=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!la.isDisabled&&la.supportsFiber)try{Po=la.inject(l1),zt=la}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o1;lt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ld(t))throw Error(E(200));return i1(e,t,null,r)};lt.createRoot=function(e,t){if(!Ld(e))throw Error(E(299));var r=!1,n="",i=Rv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Od(e,1,!1,null,null,r,!1,n,i),e[er]=t.current,ss(e.nodeType===8?e.parentNode:e),new Rd(t)};lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=ng(t),e=e===null?null:e.stateNode,e};lt.flushSync=function(e){return an(e)};lt.hydrate=function(e,t,r){if(!zo(t))throw Error(E(200));return Wo(null,e,t,!0,r)};lt.hydrateRoot=function(e,t,r){if(!Ld(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Rv;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Av(t,null,e,1,r??null,i,!1,s,a),e[er]=t.current,ss(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Uo(t)};lt.render=function(e,t,r){if(!zo(t))throw Error(E(200));return Wo(null,e,t,!1,r)};lt.unmountComponentAtNode=function(e){if(!zo(e))throw Error(E(40));return e._reactRootContainer?(an(function(){Wo(null,null,e,!1,function(){e._reactRootContainer=null,e[er]=null})}),!0):!1};lt.unstable_batchedUpdates=Pd;lt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!zo(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Wo(e,t,r,!1,n)};lt.version="18.3.1-next-f1338f8080-20240426";function Lv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lv)}catch(e){console.error(e)}}Lv(),Lm.exports=lt;var $d=Lm.exports;const u1=zc($d);var $v,Ff=$d;$v=Ff.createRoot,Ff.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ps.apply(this,arguments)}var pr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(pr||(pr={}));const Uf="popstate";function c1(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:a,hash:l}=n.location;return pc("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:uo(i)}return h1(t,r,null,e)}function ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function d1(){return Math.random().toString(36).substr(2,8)}function zf(e,t){return{usr:e.state,key:e.key,idx:t}}function pc(e,t,r,n){return r===void 0&&(r=null),ps({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?oi(t):t,{state:r,key:t&&t.key||n||d1()})}function uo(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function oi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function h1(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,l=pr.Pop,u=null,c=h();c==null&&(c=0,a.replaceState(ps({},a.state,{idx:c}),""));function h(){return(a.state||{idx:null}).idx}function d(){l=pr.Pop;let x=h(),v=x==null?null:x-c;c=x,u&&u({action:l,location:y.location,delta:v})}function f(x,v){l=pr.Push;let g=pc(y.location,x,v);c=h()+1;let b=zf(g,c),w=y.createHref(g);try{a.pushState(b,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(w)}s&&u&&u({action:l,location:y.location,delta:1})}function p(x,v){l=pr.Replace;let g=pc(y.location,x,v);c=h();let b=zf(g,c),w=y.createHref(g);a.replaceState(b,"",w),s&&u&&u({action:l,location:y.location,delta:0})}function m(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof x=="string"?x:uo(x);return g=g.replace(/ $/,"%20"),ve(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let y={get action(){return l},get location(){return e(i,a)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Uf,d),u=x,()=>{i.removeEventListener(Uf,d),u=null}},createHref(x){return t(i,x)},createURL:m,encodeLocation(x){let v=m(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(x){return a.go(x)}};return y}var Wf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Wf||(Wf={}));function f1(e,t,r){return r===void 0&&(r="/"),p1(e,t,r)}function p1(e,t,r,n){let i=typeof t=="string"?oi(t):t,s=Bd(i.pathname||"/",r);if(s==null)return null;let a=Mv(e);m1(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=k1(s);l=N1(a[u],c)}return l}function Mv(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(ve(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=Sr([n,u.relativePath]),h=r.concat(u);s.children&&s.children.length>0&&(ve(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Mv(s.children,t,h,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:j1(c,s.index),routesMeta:h})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let u of Fv(s.path))i(s,a,u)}),t}function Fv(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=Fv(n.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...a),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function m1(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:S1(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const g1=/^:[\w-]+$/,v1=3,y1=2,x1=1,b1=10,w1=-2,Hf=e=>e==="*";function j1(e,t){let r=e.split("/"),n=r.length;return r.some(Hf)&&(n+=w1),t&&(n+=y1),r.filter(i=>!Hf(i)).reduce((i,s)=>i+(g1.test(s)?v1:s===""?x1:b1),n)}function S1(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function N1(e,t,r){let{routesMeta:n}=e,i={},s="/",a=[];for(let l=0;l<n.length;++l){let u=n[l],c=l===n.length-1,h=s==="/"?t:t.slice(s.length)||"/",d=_1({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),f=u.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:Sr([s,d.pathname]),pathnameBase:T1(Sr([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Sr([s,d.pathnameBase]))}return a}function _1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=C1(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((c,h,d)=>{let{paramName:f,isOptional:p}=h;if(f==="*"){let y=l[d]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=l[d];return p&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function C1(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Bv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function k1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Bd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function E1(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?oi(e):e;return{pathname:r?r.startsWith("/")?r:P1(r,t):t,search:I1(n),hash:O1(i)}}function P1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Ql(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function D1(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Uv(e,t){let r=D1(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zv(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=oi(e):(i=ps({},e),ve(!i.pathname||!i.pathname.includes("?"),Ql("?","pathname","search",i)),ve(!i.pathname||!i.pathname.includes("#"),Ql("#","pathname","hash",i)),ve(!i.search||!i.search.includes("#"),Ql("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=r;else{let d=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}l=d>=0?t[d]:"/"}let u=E1(i,l),c=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const Sr=e=>e.join("/").replace(/\/\/+/g,"/"),T1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),I1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,O1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function A1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Wv=["post","put","patch","delete"];new Set(Wv);const R1=["get",...Wv];new Set(R1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ms(){return ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ms.apply(this,arguments)}const Md=j.createContext(null),L1=j.createContext(null),cn=j.createContext(null),Ho=j.createContext(null),Ar=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Hv=j.createContext(null);function $1(e,t){let{relative:r}=t===void 0?{}:t;Ts()||ve(!1);let{basename:n,navigator:i}=j.useContext(cn),{hash:s,pathname:a,search:l}=Gv(e,{relative:r}),u=a;return n!=="/"&&(u=a==="/"?n:Sr([n,a])),i.createHref({pathname:u,search:l,hash:s})}function Ts(){return j.useContext(Ho)!=null}function li(){return Ts()||ve(!1),j.useContext(Ho).location}function Vv(e){j.useContext(cn).static||j.useLayoutEffect(e)}function dn(){let{isDataRoute:e}=j.useContext(Ar);return e?Y1():B1()}function B1(){Ts()||ve(!1);let e=j.useContext(Md),{basename:t,future:r,navigator:n}=j.useContext(cn),{matches:i}=j.useContext(Ar),{pathname:s}=li(),a=JSON.stringify(Uv(i,r.v7_relativeSplatPath)),l=j.useRef(!1);return Vv(()=>{l.current=!0}),j.useCallback(function(c,h){if(h===void 0&&(h={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let d=zv(c,JSON.parse(a),s,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Sr([t,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[t,n,a,s,e])}function M1(){let{matches:e}=j.useContext(Ar),t=e[e.length-1];return t?t.params:{}}function Gv(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=j.useContext(cn),{matches:i}=j.useContext(Ar),{pathname:s}=li(),a=JSON.stringify(Uv(i,n.v7_relativeSplatPath));return j.useMemo(()=>zv(e,JSON.parse(a),s,r==="path"),[e,a,s,r])}function F1(e,t){return U1(e,t)}function U1(e,t,r,n){Ts()||ve(!1);let{navigator:i}=j.useContext(cn),{matches:s}=j.useContext(Ar),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=li(),h;if(t){var d;let x=typeof t=="string"?oi(t):t;u==="/"||(d=x.pathname)!=null&&d.startsWith(u)||ve(!1),h=x}else h=c;let f=h.pathname||"/",p=f;if(u!=="/"){let x=u.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=f1(e,{pathname:p}),y=G1(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Sr([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Sr([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n);return t&&y?j.createElement(Ho.Provider,{value:{location:ms({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:pr.Pop}},y):y}function z1(){let e=Q1(),t=A1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:i},r):null,null)}const W1=j.createElement(z1,null);class H1 extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?j.createElement(Ar.Provider,{value:this.props.routeContext},j.createElement(Hv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V1(e){let{routeContext:t,match:r,children:n}=e,i=j.useContext(Md);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(Ar.Provider,{value:t},n)}function G1(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let h=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);h>=0||ve(!1),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:f,errors:p}=r,m=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((h,d,f)=>{let p,m=!1,y=null,x=null;r&&(p=l&&d.route.id?l[d.route.id]:void 0,y=d.route.errorElement||W1,u&&(c<0&&f===0?(X1("route-fallback"),m=!0,x=null):c===f&&(m=!0,x=d.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,f+1)),g=()=>{let b;return p?b=y:m?b=x:d.route.Component?b=j.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=h,j.createElement(V1,{match:d,routeContext:{outlet:h,matches:v,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?j.createElement(H1,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var qv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qv||{}),Kv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kv||{});function q1(e){let t=j.useContext(Md);return t||ve(!1),t}function K1(e){let t=j.useContext(L1);return t||ve(!1),t}function J1(e){let t=j.useContext(Ar);return t||ve(!1),t}function Jv(e){let t=J1(),r=t.matches[t.matches.length-1];return r.route.id||ve(!1),r.route.id}function Q1(){var e;let t=j.useContext(Hv),r=K1(),n=Jv();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Y1(){let{router:e}=q1(qv.UseNavigateStable),t=Jv(Kv.UseNavigateStable),r=j.useRef(!1);return Vv(()=>{r.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ms({fromRouteId:t},s)))},[e,t])}const Vf={};function X1(e,t,r){Vf[e]||(Vf[e]=!0)}function Z1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Le(e){ve(!1)}function ej(e){let{basename:t="/",children:r=null,location:n,navigationType:i=pr.Pop,navigator:s,static:a=!1,future:l}=e;Ts()&&ve(!1);let u=t.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:u,navigator:s,static:a,future:ms({v7_relativeSplatPath:!1},l)}),[u,l,s,a]);typeof n=="string"&&(n=oi(n));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:m="default"}=n,y=j.useMemo(()=>{let x=Bd(h,u);return x==null?null:{location:{pathname:x,search:d,hash:f,state:p,key:m},navigationType:i}},[u,h,d,f,p,m,i]);return y==null?null:j.createElement(cn.Provider,{value:c},j.createElement(Ho.Provider,{children:r,value:y}))}function tj(e){let{children:t,location:r}=e;return F1(mc(t),r)}new Promise(()=>{});function mc(e,t){t===void 0&&(t=[]);let r=[];return j.Children.forEach(e,(n,i)=>{if(!j.isValidElement(n))return;let s=[...t,i];if(n.type===j.Fragment){r.push.apply(r,mc(n.props.children,s));return}n.type!==Le&&ve(!1),!n.props.index||!n.props.children||ve(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=mc(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gc.apply(this,arguments)}function rj(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function nj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ij(e,t){return e.button===0&&(!t||t==="_self")&&!nj(e)}function vc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function sj(e,t){let r=vc(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}const aj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oj="6";try{window.__reactRouterVersion=oj}catch{}const lj="startTransition",Gf=Xx[lj];function uj(e){let{basename:t,children:r,future:n,window:i}=e,s=j.useRef();s.current==null&&(s.current=c1({window:i,v5Compat:!0}));let a=s.current,[l,u]=j.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},h=j.useCallback(d=>{c&&Gf?Gf(()=>u(d)):u(d)},[u,c]);return j.useLayoutEffect(()=>a.listen(h),[a,h]),j.useEffect(()=>Z1(n),[n]),j.createElement(ej,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const cj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H=j.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:l,target:u,to:c,preventScrollReset:h,viewTransition:d}=t,f=rj(t,aj),{basename:p}=j.useContext(cn),m,y=!1;if(typeof c=="string"&&dj.test(c)&&(m=c,cj))try{let b=new URL(window.location.href),w=c.startsWith("//")?new URL(b.protocol+c):new URL(c),S=Bd(w.pathname,p);w.origin===b.origin&&S!=null?c=S+w.search+w.hash:y=!0}catch{}let x=$1(c,{relative:i}),v=hj(c,{replace:a,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:d});function g(b){n&&n(b),b.defaultPrevented||v(b)}return j.createElement("a",gc({},f,{href:m||x,onClick:y||s?n:g,ref:r,target:u}))});var qf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qf||(qf={}));var Kf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Kf||(Kf={}));function hj(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}=t===void 0?{}:t,u=dn(),c=li(),h=Gv(e,{relative:a});return j.useCallback(d=>{if(ij(d,r)){d.preventDefault();let f=n!==void 0?n:uo(c)===uo(h);u(e,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[c,u,h,n,i,r,e,s,a,l])}function fj(e){let t=j.useRef(vc(e)),r=j.useRef(!1),n=li(),i=j.useMemo(()=>sj(n.search,r.current?null:t.current),[n.search]),s=dn(),a=j.useCallback((l,u)=>{const c=vc(typeof l=="function"?l(i):l);r.current=!0,s("?"+c,u)},[s,i]);return[i,a]}var yc=function(e,t){return yc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},yc(e,t)};function Qv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");yc(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var co=function(){return co=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},co.apply(this,arguments)};function ui(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Yv(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(i<3?a(s):i>3?a(t,r,s):a(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Xv(e,t){return function(r,n){t(r,n,e)}}function Zv(e,t,r,n,i,s){function a(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=n.kind,u=l==="getter"?"get":l==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,h=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),d,f=!1,p=r.length-1;p>=0;p--){var m={};for(var y in n)m[y]=y==="access"?{}:n[y];for(var y in n.access)m.access[y]=n.access[y];m.addInitializer=function(v){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(v||null))};var x=(0,r[p])(l==="accessor"?{get:h.get,set:h.set}:h[u],m);if(l==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(d=a(x.get))&&(h.get=d),(d=a(x.set))&&(h.set=d),(d=a(x.init))&&i.unshift(d)}else(d=a(x))&&(l==="field"?i.unshift(d):h[u]=d)}c&&Object.defineProperty(c,n.name,h),f=!0}function e0(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function t0(e){return typeof e=="symbol"?e:"".concat(e)}function r0(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function n0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function A(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(h){try{c(n.next(h))}catch(d){a(d)}}function u(h){try{c(n.throw(h))}catch(d){a(d)}}function c(h){h.done?s(h.value):i(h.value).then(l,u)}c((n=n.apply(e,t||[])).next())})}function i0(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(h){return u([c,h])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(h){c=[6,h],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Vo=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function s0(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Vo(t,e,r)}function ho(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fd(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function a0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Fd(arguments[t]));return e}function o0(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)n[i]=s[a];return n}function l0(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Zn(e){return this instanceof Zn?(this.v=e,this):new Zn(e)}function u0(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(m){return Promise.resolve(m).then(p,d)}}function l(p,m){n[p]&&(i[p]=function(y){return new Promise(function(x,v){s.push([p,y,x,v])>1||u(p,y)})},m&&(i[p]=m(i[p])))}function u(p,m){try{c(n[p](m))}catch(y){f(s[0][3],y)}}function c(p){p.value instanceof Zn?Promise.resolve(p.value.v).then(h,d):f(s[0][2],p)}function h(p){u("next",p)}function d(p){u("throw",p)}function f(p,m){p(m),s.shift(),s.length&&u(s[0][0],s[0][1])}}function c0(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(a){return(r=!r)?{value:Zn(e[i](a)),done:!1}:s?s(a):a}:s}}function d0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ho=="function"?ho(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(a){return new Promise(function(l,u){a=e[s](a),i(l,u,a.done,a.value)})}}function i(s,a,l,u){Promise.resolve(u).then(function(c){s({value:c,done:l})},a)}}function h0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var pj=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},xc=function(e){return xc=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},xc(e)};function f0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=xc(e),n=0;n<r.length;n++)r[n]!=="default"&&Vo(t,e,r[n]);return pj(t,e),t}function p0(e){return e&&e.__esModule?e:{default:e}}function m0(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function g0(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function v0(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function y0(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var mj=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function x0(e){function t(s){e.error=e.hasError?new mj(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(a){return t(a),i()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function b0(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,a){return n?t?".jsx":".js":i&&(!s||!a)?r:i+s+"."+a.toLowerCase()+"js"}):e}const gj={__extends:Qv,__assign:co,__rest:ui,__decorate:Yv,__param:Xv,__esDecorate:Zv,__runInitializers:e0,__propKey:t0,__setFunctionName:r0,__metadata:n0,__awaiter:A,__generator:i0,__createBinding:Vo,__exportStar:s0,__values:ho,__read:Fd,__spread:a0,__spreadArrays:o0,__spreadArray:l0,__await:Zn,__asyncGenerator:u0,__asyncDelegator:c0,__asyncValues:d0,__makeTemplateObject:h0,__importStar:f0,__importDefault:p0,__classPrivateFieldGet:m0,__classPrivateFieldSet:g0,__classPrivateFieldIn:v0,__addDisposableResource:y0,__disposeResources:x0,__rewriteRelativeImportExtension:b0},vj=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:y0,get __assign(){return co},__asyncDelegator:c0,__asyncGenerator:u0,__asyncValues:d0,__await:Zn,__awaiter:A,__classPrivateFieldGet:m0,__classPrivateFieldIn:v0,__classPrivateFieldSet:g0,__createBinding:Vo,__decorate:Yv,__disposeResources:x0,__esDecorate:Zv,__exportStar:s0,__extends:Qv,__generator:i0,__importDefault:p0,__importStar:f0,__makeTemplateObject:h0,__metadata:n0,__param:Xv,__propKey:t0,__read:Fd,__rest:ui,__rewriteRelativeImportExtension:b0,__runInitializers:e0,__setFunctionName:r0,__spread:a0,__spreadArray:l0,__spreadArrays:o0,__values:ho,default:gj},Symbol.toStringTag,{value:"Module"})),yj="modulepreload",xj=function(e){return"/"+e},Jf={},ci=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(u=>{if(u=xj(u),u in Jf)return;Jf[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":yj,c||(d.as="script"),d.crossOrigin="",d.href=u,l&&d.setAttribute("nonce",l),document.head.appendChild(d),c)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},bj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ci(async()=>{const{default:n}=await Promise.resolve().then(()=>hn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ud extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Qf extends Ud{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Yf extends Ud{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Xf extends Ud{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var bc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(bc||(bc={}));class wj{constructor(t,{headers:r={},customFetch:n,region:i=bc.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=bj(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return A(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:s,method:a,body:l,signal:u}=n;let c={},{region:h}=n;h||(h=this.region);const d=new URL(`${this.url}/${r}`);h&&h!=="any"&&(c["x-region"]=h,d.searchParams.set("forceFunctionRegion",h));let f;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(c["Content-Type"]="text/plain",f=l):typeof FormData<"u"&&l instanceof FormData?f=l:(c["Content-Type"]="application/json",f=JSON.stringify(l)):f=l;const p=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:f,signal:u}).catch(v=>{throw v.name==="AbortError"?v:new Qf(v)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new Yf(p);if(!p.ok)throw new Xf(p);let y=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),x;return y==="application/json"?x=yield p.json():y==="application/octet-stream"||y==="application/pdf"?x=yield p.blob():y==="text/event-stream"?x=p:y==="multipart/form-data"?x=yield p.formData():x=yield p.text(),{data:x,error:null,response:p}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new Qf(s)}:{data:null,error:s,response:s instanceof Xf||s instanceof Yf?s.context:void 0}}})}}var ze={};const di=Nm(vj);var ua={},ca={},da={},ha={},fa={},jj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ei=jj();const Sj=ei.fetch,w0=ei.fetch.bind(ei),j0=ei.Headers,Nj=ei.Request,_j=ei.Response,hn=Object.freeze(Object.defineProperty({__proto__:null,Headers:j0,Request:Nj,Response:_j,default:w0,fetch:Sj},Symbol.toStringTag,{value:"Module"})),Cj=Nm(hn);var pa={},Zf;function S0(){if(Zf)return pa;Zf=1,Object.defineProperty(pa,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return pa.default=e,pa}var ep;function N0(){if(ep)return fa;ep=1,Object.defineProperty(fa,"__esModule",{value:!0});const e=di,t=e.__importDefault(Cj),r=e.__importDefault(S0());class n{constructor(s){var a,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var h,d,f,p;let m=null,y=null,x=null,v=c.status,g=c.statusText;if(c.ok){if(this.method!=="HEAD"){const N=await c.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?y=N:y=JSON.parse(N))}const w=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&S&&S.length>1&&(x=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,x=null,v=406,g="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const w=await c.text();try{m=JSON.parse(w),Array.isArray(m)&&c.status===404&&(y=[],m=null,v=200,g="OK")}catch{c.status===404&&w===""?(v=204,g="No Content"):m={message:w}}if(m&&this.isMaybeSingle&&(!((p=m==null?void 0:m.details)===null||p===void 0)&&p.includes("0 rows"))&&(m=null,v=200,g="OK"),m&&this.shouldThrowOnError)throw new r.default(m)}return{error:m,data:y,count:x,status:v,statusText:g}});return this.shouldThrowOnError||(u=u.catch(c=>{var h,d,f;return{error:{message:`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,a)}returns(){return this}overrideTypes(){return this}}return fa.default=n,fa}var tp;function _0(){if(tp)return ha;tp=1,Object.defineProperty(ha,"__esModule",{value:!0});const t=di.__importDefault(N0());class r extends t.default{select(i){let s=!1;const a=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:l,referencedTable:u=l}={}){const c=u?`${u}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:l=!1,wal:u=!1,format:c="text"}={}){var h;const d=[i?"analyze":null,s?"verbose":null,a?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),f=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return ha.default=r,ha}var rp;function zd(){if(rp)return da;rp=1,Object.defineProperty(da,"__esModule",{value:!0});const t=di.__importDefault(_0()),r=new RegExp("[,()]");class n extends t.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const l=Array.from(new Set(a)).map(u=>typeof u=="string"&&r.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:l,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${c}fts${h}.${a}`),this}match(s){return Object.entries(s).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(s,a,l){return this.url.searchParams.append(s,`not.${a}.${l}`),this}or(s,{foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,a,l){return this.url.searchParams.append(s,`${a}.${l}`),this}}return da.default=n,da}var np;function C0(){if(np)return ca;np=1,Object.defineProperty(ca,"__esModule",{value:!0});const t=di.__importDefault(zd());class r{constructor(i,{headers:s={},schema:a,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=l}select(i,s){const{head:a=!1,count:l}=s??{},u=a?"HEAD":"GET";let c=!1;const h=(i??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var l;const u="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(c.length>0){const h=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:l,defaultToNull:u=!0}={}){var c;const h="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:s}={}){var a;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return ca.default=r,ca}var ip;function kj(){if(ip)return ua;ip=1,Object.defineProperty(ua,"__esModule",{value:!0});const e=di,t=e.__importDefault(C0()),r=e.__importDefault(zd());class n{constructor(s,{headers:a={},schema:l,fetch:u}={}){this.url=s,this.headers=new Headers(a),this.schemaName=l,this.fetch=u}from(s){const a=new URL(`${this.url}/${s}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:l=!1,get:u=!1,count:c}={}){var h;let d;const f=new URL(`${this.url}/rpc/${s}`);let p;l||u?(d=l?"HEAD":"GET",Object.entries(a).filter(([y,x])=>x!==void 0).map(([y,x])=>[y,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([y,x])=>{f.searchParams.append(y,x)})):(d="POST",p=a);const m=new Headers(this.headers);return c&&m.set("Prefer",`count=${c}`),new r.default({method:d,url:f,headers:m,schema:this.schemaName,body:p,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return ua.default=n,ua}Object.defineProperty(ze,"__esModule",{value:!0});var k0=ze.PostgrestError=$0=ze.PostgrestBuilder=R0=ze.PostgrestTransformBuilder=O0=ze.PostgrestFilterBuilder=T0=ze.PostgrestQueryBuilder=P0=ze.PostgrestClient=void 0;const hi=di,E0=hi.__importDefault(kj());var P0=ze.PostgrestClient=E0.default;const D0=hi.__importDefault(C0());var T0=ze.PostgrestQueryBuilder=D0.default;const I0=hi.__importDefault(zd());var O0=ze.PostgrestFilterBuilder=I0.default;const A0=hi.__importDefault(_0());var R0=ze.PostgrestTransformBuilder=A0.default;const L0=hi.__importDefault(N0());var $0=ze.PostgrestBuilder=L0.default;const B0=hi.__importDefault(S0());k0=ze.PostgrestError=B0.default;var M0=ze.default={PostgrestClient:E0.default,PostgrestQueryBuilder:D0.default,PostgrestFilterBuilder:I0.default,PostgrestTransformBuilder:A0.default,PostgrestBuilder:L0.default,PostgrestError:B0.default};const Ej=Sm({__proto__:null,get PostgrestBuilder(){return $0},get PostgrestClient(){return P0},get PostgrestError(){return k0},get PostgrestFilterBuilder(){return O0},get PostgrestQueryBuilder(){return T0},get PostgrestTransformBuilder(){return R0},default:M0},[ze]),{PostgrestClient:Pj,PostgrestQueryBuilder:iT,PostgrestFilterBuilder:sT,PostgrestTransformBuilder:aT,PostgrestBuilder:oT,PostgrestError:lT}=M0||Ej;class Dj{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Tj="2.78.0",Ij=`realtime-js/${Tj}`,Oj="1.0.0",wc=1e4,Aj=1e3,Rj=100;var Hi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Hi||(Hi={}));var ye;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ye||(ye={}));var Tt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Tt||(Tt={}));var jc;(function(e){e.websocket="websocket"})(jc||(jc={}));var Vr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Vr||(Vr={}));class Lj{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+i));a=a+i;const u=n.decode(t.slice(a,a+s));a=a+s;const c=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class F0{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ne||(ne={}));const sp=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,a)=>(s[a]=$j(a,e,t,i),s),{}):{}},$j=(e,t,r,n)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?U0(s,a):Sc(a)},U0=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Uj(t,r)}switch(e){case ne.bool:return Bj(t);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return Mj(t);case ne.json:case ne.jsonb:return Fj(t);case ne.timestamp:return zj(t);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return Sc(t);default:return Sc(t)}},Sc=e=>e,Bj=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Mj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Fj=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Uj=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>U0(t,l))}return e},zj=e=>typeof e=="string"?e.replace(" ","T"):e,z0=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Yl{constructor(t,r,n={},i=wc){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ap;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ap||(ap={}));class Vi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vi.syncState(this.state,i,s,a),this.pendingDiffs.forEach(u=>{this.state=Vi.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Vi.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),l={},u={};return this.map(s,(c,h)=>{a[c]||(u[c]=h)}),this.map(a,(c,h)=>{const d=s[c];if(d){const f=h.map(x=>x.presence_ref),p=d.map(x=>x.presence_ref),m=h.filter(x=>p.indexOf(x.presence_ref)<0),y=d.filter(x=>f.indexOf(x.presence_ref)<0);m.length>0&&(l[c]=m),y.length>0&&(u[c]=y)}else l[c]=h}),this.syncDiff(s,{joins:l,leaves:u},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,u)=>{var c;const h=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(u),h.length>0){const d=t[l].map(p=>p.presence_ref),f=h.filter(p=>d.indexOf(p.presence_ref)<0);t[l].unshift(...f)}n(l,h,u)}),this.map(a,(l,u)=>{let c=t[l];if(!c)return;const h=u.map(d=>d.presence_ref);c=c.filter(d=>h.indexOf(d.presence_ref)<0),t[l]=c,i(l,c,u),c.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var op;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(op||(op={}));var Gi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Gi||(Gi={}));var qt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(qt||(qt={}));class Wd{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Yl(this,Tt.join,this.params,this.timeout),this.rejoinTimer=new F0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tt.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Vi(this),this.broadcastEndpointURL=z0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ye.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Gi.PRESENCE]&&this.bindings[Gi.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},f={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(qt.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(qt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){t==null||t(qt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,v=[];for(let g=0;g<x;g++){const b=y[g],{filter:{event:w,schema:S,table:N,filter:_}}=b,k=p&&p[g];if(k&&k.event===w&&k.schema===S&&k.table===N&&k.filter===_)v.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),this.state=ye.errored,t==null||t(qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(qt.SUBSCRIBED);return}}).receive("error",p=>{this.state=ye.errored,t==null||t(qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ye.joined&&t===Gi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const c=await l.json();u=c.error||c.message||u}catch{}return Promise.reject(new Error(u))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ye.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Yl(this,Tt.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ye.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Yl(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Rj){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:u,leave:c,join:h}=Tt;if(n&&[l,u,c,h].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,y,x;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((x=(y=p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(p=>p.callback(f,n)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var m,y,x,v,g,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const w=p.id,S=(m=p.filter)===null||m===void 0?void 0:m.event;return w&&((y=r.ids)===null||y===void 0?void 0:y.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const w=(g=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:y,table:x,commit_timestamp:v,type:g,errors:b}=m;f=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:v,eventType:g,new:{},old:{},errors:b}),this._getPayloadRecords(m))}p.callback(f,n)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Wd.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Tt.close,{},t)}_onError(t){this._on(Tt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=sp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=sp(t.columns,t.old_record)),r}}const Xl=()=>{},ma={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Wj=[1e3,2e3,5e3,1e4],Hj=1e4,Vj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Gj{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wc,this.transport=null,this.heartbeatIntervalMs=ma.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xl,this.ref=0,this.reconnectTimer=null,this.logger=Xl,this.conn=null,this.sendBuffer=[],this.serializer=new Lj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>ci(async()=>{const{default:l}=await Promise.resolve().then(()=>hn);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${jc.websocket}`,this.httpEndpoint=z0(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Dj.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Oj}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Hi.connecting:return Vr.Connecting;case Hi.open:return Vr.Open;case Hi.closing:return Vr.Closing;default:return Vr.Closed}}isConnected(){return this.connectionState()===Vr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Wd(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Aj,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ma.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,l=a?`(${a})`:"",u=s.status||"";this.log("receive",`${u} ${n} ${i} ${l}`.trim(),s),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Tt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Vj],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Ij};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Tt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new F0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ma.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,a,l,u,c,h;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:wc,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:ma.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Xl,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:d=>Wj[d-1]||Hj,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(d,f)=>f(JSON.stringify(d)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Hd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ue(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class qj extends Hd{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Nc extends Hd{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Vd=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ci(async()=>{const{default:n}=await Promise.resolve().then(()=>hn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Kj=()=>A(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ci(()=>Promise.resolve().then(()=>hn),void 0)).Response:Response}),_c=e=>{if(Array.isArray(e))return e.map(r=>_c(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=_c(n)}),t},Jj=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Zl=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Qj=(e,t,r)=>A(void 0,void 0,void 0,function*(){const n=yield Kj();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new qj(Zl(i),s,a))}).catch(i=>{t(new Nc(Zl(i),i))}):t(new Nc(Zl(e),e))}),Yj=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(Jj(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Is(e,t,r,n,i,s){return A(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,Yj(t,n,i,s)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>Qj(u,l,n))})})}function gs(e,t,r,n){return A(this,void 0,void 0,function*(){return Is(e,"GET",t,r,n)})}function Pt(e,t,r,n,i){return A(this,void 0,void 0,function*(){return Is(e,"POST",t,n,i,r)})}function Cc(e,t,r,n,i){return A(this,void 0,void 0,function*(){return Is(e,"PUT",t,n,i,r)})}function Xj(e,t,r,n){return A(this,void 0,void 0,function*(){return Is(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Gd(e,t,r,n,i){return A(this,void 0,void 0,function*(){return Is(e,"DELETE",t,n,i,r)})}class Zj{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return A(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ue(t))return{data:null,error:t};throw t}})}}var W0;class eS{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[W0]="BlobDownloadBuilder",this.promise=null}asStream(){return new Zj(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return A(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ue(t))return{data:null,error:t};throw t}})}}W0=Symbol.toStringTag;const tS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rS{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Vd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return A(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},lp),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const c=this._removeEmptyFolders(r),h=this._getFinalPath(c),d=yield(t=="PUT"?Cc:Pt)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}upload(t,r,n){return A(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return A(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:lp.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const d=yield Cc(this.fetch,l.toString(),u,{headers:h});return{data:{path:s,fullPath:d.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ue(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return A(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Pt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new Hd("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}update(t,r,n){return A(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return A(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ue(i))return{data:null,error:i};throw i}})}copy(t,r,n){return A(this,void 0,void 0,function*(){try{return{data:{path:(yield Pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ue(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return A(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Pt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ue(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return A(this,void 0,void 0,function*(){try{const i=yield Pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ue(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"",l=this._getFinalPath(t),u=()=>gs(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new eS(u,this.shouldThrowOnError)}info(t){return A(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield gs(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:_c(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}exists(t){return A(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Xj(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n)&&n instanceof Nc){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&i.push(u);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(t){return A(this,void 0,void 0,function*(){try{return{data:yield Gd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}list(t,r,n){return A(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},tS),r),{prefix:t||""});return{data:yield Pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ue(i))return{data:null,error:i};throw i}})}listV2(t,r){return A(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Pt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const H0="2.78.0",V0={"X-Client-Info":`storage-js/${H0}`};class nS{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},V0),r),this.fetch=Vd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return A(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield gs(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}getBucket(t){return A(this,void 0,void 0,function*(){try{return{data:yield gs(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}createBucket(t){return A(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ue(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return A(this,void 0,void 0,function*(){try{return{data:yield Cc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}emptyBucket(t){return A(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}deleteBucket(t){return A(this,void 0,void 0,function*(){try{return{data:yield Gd(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class iS{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},V0),r),this.fetch=Vd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return A(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}listBuckets(t){return A(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield gs(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}deleteBucket(t){return A(this,void 0,void 0,function*(){try{return{data:yield Gd(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}}const qd={"X-Client-Info":`storage-js/${H0}`,"Content-Type":"application/json"};class G0 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function et(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class eu extends G0{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sS extends G0{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var up;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(up||(up={}));const Kd=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ci(async()=>{const{default:n}=await Promise.resolve().then(()=>hn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},aS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},cp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oS=(e,t,r)=>A(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new eu(cp(a),i,l))}).catch(()=>{const a=i+"",l=s.statusText||`HTTP ${i} error`;t(new eu(l,i,a))});else{const a=i+"",l=s.statusText||`HTTP ${i} error`;t(new eu(l,i,a))}}else t(new sS(cp(e),e))}),lS=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(aS(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function uS(e,t,r,n,i,s){return A(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,lS(t,n,i,s)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;const c=u.headers.get("content-type");return!c||!c.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>oS(u,l,n))})})}function tt(e,t,r,n,i){return A(this,void 0,void 0,function*(){return uS(e,"POST",t,n,i,r)})}class cS{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qd),r),this.fetch=Kd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return A(this,void 0,void 0,function*(){try{return{data:(yield tt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}getIndex(t,r){return A(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}listIndexes(t){return A(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return A(this,void 0,void 0,function*(){try{return{data:(yield tt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}}class dS{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qd),r),this.fetch=Kd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return A(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield tt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}getVectors(t){return A(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}listVectors(t){return A(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield tt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}queryVectors(t){return A(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}deleteVectors(t){return A(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield tt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}}class hS{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qd),r),this.fetch=Kd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return A(this,void 0,void 0,function*(){try{return{data:(yield tt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}getBucket(t){return A(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}listBuckets(){return A(this,arguments,void 0,function*(t={}){try{return{data:yield tt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}deleteBucket(t){return A(this,void 0,void 0,function*(){try{return{data:(yield tt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}}class fS extends hS{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new pS(this.url,this.headers,t,this.fetch)}}class pS extends cS{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return A(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return A(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return A(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return A(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new mS(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class mS extends dS{constructor(t,r,n,i,s){super(t,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return A(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return A(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return A(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return A(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return A(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class gS extends nS{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new rS(this.url,this.headers,t,this.fetch)}get vectors(){return new fS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new iS(this.url+"/iceberg",this.headers,this.fetch)}}const vS="2.78.0";let Ai="";typeof Deno<"u"?Ai="deno":typeof document<"u"?Ai="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ai="react-native":Ai="node";const yS={"X-Client-Info":`supabase-js-${Ai}/${vS}`},xS={headers:yS},bS={schema:"public"},wS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jS={},SS=e=>{let t;return e?t=e:typeof fetch>"u"?t=w0:t=fetch,(...r)=>t(...r)},NS=()=>typeof Headers>"u"?j0:Headers,_S=(e,t,r)=>{const n=SS(r),i=NS();return async(s,a)=>{var l;const u=(l=await t())!==null&&l!==void 0?l:e;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(s,Object.assign(Object.assign({},a),{headers:c}))}};function CS(e){return e.endsWith("/")?e:e+"/"}function kS(e,t){var r,n;const{db:i,auth:s,realtime:a,global:l}=e,{db:u,auth:c,realtime:h,global:d}=t,f={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function ES(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(CS(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const q0="2.78.0",_n=30*1e3,kc=3,tu=kc*_n,PS="http://localhost:9999",DS="supabase.auth.token",TS={"X-Client-Info":`gotrue-js/${q0}`},Ec="X-Supabase-Api-Version",K0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},IS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,OS=10*60*1e3;class vs extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class AS extends vs{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function RS(e){return $(e)&&e.name==="AuthApiError"}class Gr extends vs{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Rr extends vs{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Ct extends Rr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function LS(e){return $(e)&&e.name==="AuthSessionMissingError"}class gn extends Rr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ga extends Rr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class va extends Rr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $S(e){return $(e)&&e.name==="AuthImplicitGrantRedirectError"}class dp extends Rr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pc extends Rr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ru(e){return $(e)&&e.name==="AuthRetryableFetchError"}class hp extends Rr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Dc extends Rr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const fo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fp=` 	
\r=`.split(""),BS=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<fp.length;t+=1)e[fp[t].charCodeAt(0)]=-2;for(let t=0;t<fo.length;t+=1)e[fo[t].charCodeAt(0)]=t;return e})();function pp(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fo[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fo[n]),t.queuedBits-=6}}function J0(e,t,r){const n=BS[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function mp(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{US(a,n,r)};for(let a=0;a<e.length;a+=1)J0(e.charCodeAt(a),i,s);return t.join("")}function MS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function FS(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}MS(n,t)}}function US(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Vn(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)J0(e.charCodeAt(i),r,n);return new Uint8Array(t)}function zS(e){const t=[];return FS(e,r=>t.push(r)),new Uint8Array(t)}function Qr(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>pp(i,r,n)),pp(null,r,n),t.join("")}function WS(e){return Math.round(Date.now()/1e3)+e}function HS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Fe=()=>typeof window<"u"&&typeof document<"u",Br={tested:!1,writable:!1},Q0=()=>{if(!Fe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Br.tested)return Br.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Br.tested=!0,Br.writable=!0}catch{Br.tested=!0,Br.writable=!1}return Br.writable};function VS(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const Y0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ci(async()=>{const{default:n}=await Promise.resolve().then(()=>hn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},GS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Cn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Mr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ar=async(e,t)=>{await e.removeItem(t)};class Go{constructor(){this.promise=new Go.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Go.promiseConstructor=Promise;function nu(e){const t=e.split(".");if(t.length!==3)throw new Dc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!IS.test(t[n]))throw new Dc("JWT not in base64url format");return{header:JSON.parse(mp(t[0])),payload:JSON.parse(mp(t[1])),signature:Vn(t[2]),raw:{header:t[0],payload:t[1]}}}async function qS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function KS(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function JS(e){return("0"+e.toString(16)).substr(-2)}function QS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,JS).join("")}async function YS(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function XS(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await YS(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vn(e,t,r=!1){const n=QS();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Cn(e,`${t}-code-verifier`,i);const s=await XS(n);return[s,n===s?"plain":"s256"]}const ZS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function eN(e){const t=e.headers.get(Ec);if(!t||!t.match(ZS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function tN(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function rN(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yn(e){if(!nN.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function iu(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function iN(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function gp(e){return JSON.parse(JSON.stringify(e))}const Wr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sN=[502,503,504];async function vp(e){var t;if(!GS(e))throw new Pc(Wr(e),0);if(sN.includes(e.status))throw new Pc(Wr(e),e.status);let r;try{r=await e.json()}catch(s){throw new Gr(Wr(s),s)}let n;const i=eN(e);if(i&&i.getTime()>=K0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new hp(Wr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ct}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new hp(Wr(r),e.status,r.weak_password.reasons);throw new AS(Wr(r),e.status||500,n)}const aN=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function W(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Ec]||(s[Ec]=K0["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await oN(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function oN(e,t,r,n,i,s){const a=aN(t,n,i,s);let l;try{l=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new Pc(Wr(u),0)}if(l.ok||await vp(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await vp(u)}}function kt(e){var t;let r=null;cN(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=WS(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function yp(e){const t=kt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function dr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function lN(e){return{data:e,error:null}}function uN(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=ui(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function xp(e){return e}function cN(e){return e.access_token&&e.refresh_token&&e.expires_in}const su=["global","local","others"];class dN{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Y0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=su[0]){if(su.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${su.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:dr})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ui(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:uN,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:dr})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},h=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:xp});if(h.error)throw h.error;const d=await h.json(),f=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);c[`${x}Page`]=y}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if($(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){yn(t);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:dr})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){yn(t);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:dr})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){yn(t);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:dr})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){yn(t.userId);try{const{data:r,error:n}=await W(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if($(r))return{data:null,error:r};throw r}}async _deleteFactor(t){yn(t.userId),yn(t.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},h=await W(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:xp});if(h.error)throw h.error;const d=await h.json(),f=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);c[`${x}Page`]=y}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if($(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await W(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await W(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await W(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}}function bp(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const xn={debug:!!(globalThis&&Q0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class X0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class hN extends X0{}async function fN(e,t,r){xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),xn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hN(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(xn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function pN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Z0(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function mN(e){return parseInt(e,16)}function gN(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function vN(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:l,requestId:u,resources:c,scheme:h,uri:d,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=Z0(e.address),m=h?`${h}://${n}`:n,y=e.statement?`${e.statement}
`:"",x=`${m} wants you to sign in with your Ethereum account:
${p}

${y}`;let v=`URI: ${d}
Version: ${f}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),u&&(v+=`
Request ID: ${u}`),c){let g=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);g+=`
- ${b}`}v+=g}return`${x}
${v}`}class me extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class po extends me{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function yN({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new me({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new me({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new me({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new me({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new me({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new me({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new me({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new me({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(ey(a)){if(s.rp.id!==a)return new me({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new me({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new me({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function xN({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new me({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new me({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(ey(n)){if(r.rpId!==n)return new me({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new me({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class bN{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const wN=new bN;function jN(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=ui(e,["challenge","user","excludeCredentials"]),s=Vn(t).buffer,a=Object.assign(Object.assign({},r),{id:Vn(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];l.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:Vn(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function SN(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ui(e,["challenge","allowCredentials"]),i=Vn(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Vn(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function NN(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Qr(new Uint8Array(e.response.attestationObject)),clientDataJSON:Qr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function _N(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Qr(new Uint8Array(i.authenticatorData)),clientDataJSON:Qr(new Uint8Array(i.clientDataJSON)),signature:Qr(new Uint8Array(i.signature)),userHandle:i.userHandle?Qr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ey(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function wp(){var e,t;return!!(Fe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function CN(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new po("Browser returned unexpected credential type",t)}:{data:null,error:new po("Empty credential response",t)}}catch(t){return{data:null,error:yN({error:t,options:e})}}}async function kN(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new po("Browser returned unexpected credential type",t)}:{data:null,error:new po("Empty credential response",t)}}catch(t){return{data:null,error:xN({error:t,options:e})}}}const EN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},PN={userVerification:"preferred",hints:["security-key"]};function mo(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(t(a)){const l=n[s];t(l)?n[s]=mo(l,a):n[s]=mo(a)}else n[s]=a}return n}function DN(e,t){return mo(EN,e,t||{})}function TN(e,t){return mo(PN,e,t||{})}class IN{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const u=i??wN.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=DN(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:h,error:d}=await CN({publicKey:c,signal:u});return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}case"request":{const c=TN(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:h,error:d}=await kN(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:u}));return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}}}catch(a){return $(a)?{data:null,error:a}:{data:null,error:new Gr("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!r)return{data:null,error:new vs("rpId is required for WebAuthn authentication")};try{if(!wp())return{data:null,error:new Gr("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:l};const{webauthn:u}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(a){return $(a)?{data:null,error:a}:{data:null,error:new Gr("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!r)return{data:null,error:new vs("rpId is required for WebAuthn registration")};try{if(!wp())return{data:null,error:new Gr("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(h=>{var d;return(d=h.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:u,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:c}}catch(a){return $(a)?{data:null,error:a}:{data:null,error:new Gr("Unexpected error in register",a)}}}}pN();const ON={url:PS,storageKey:DS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:TS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function jp(e,t,r){return await r()}const bn={};class ys{get jwks(){var t,r;return(r=(t=bn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=bn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ys.nextInstanceID,ys.nextInstanceID+=1,this.instanceID>0&&Fe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},ON),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new dN({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Y0(i.fetch),this.lock=i.lock||jp,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Fe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=fN:this.lock=jp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new IN(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Q0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bp(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=bp(this.memoryStorage)),Fe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${q0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=VS(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Fe()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),$S(s)){const u=(t=s.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $(r)?{error:r}:{error:new Gr("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:kt}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:h,password:d,options:f}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await vn(this.storage,this.storageKey)),s=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:kt})}else if("phone"in t){const{phone:h,password:d,options:f}=t;s=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:kt})}else throw new ga("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:l}=t;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yp})}else if("phone"in t){const{phone:s,password:a,options:l}=t;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yp})}else throw new ga("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new gn}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,a,l,u,c,h,d,f;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:y,wallet:x,statement:v,options:g}=t;let b;if(Fe())if(typeof x=="object")b=x;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")b=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=x}const w=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),S=await b.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=Z0(S[0]);let _=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const C=await b.request({method:"eth_chainId"});_=mN(C)}const k={domain:w.host,address:N,statement:v,uri:w.href,version:"1",chainId:_,nonce:(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(h=g==null?void 0:g.signInWithEthereum)===null||h===void 0?void 0:h.resources};p=vN(k),m=await b.request({method:"personal_sign",params:[gN(p),N]})}try{const{data:y,error:x}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:kt});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new gn}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if($(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(t){var r,n,i,s,a,l,u,c,h,d,f,p;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:x,wallet:v,statement:g,options:b}=t;let w;if(Fe())if(typeof v=="object")w=v;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))w=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const N=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),g?{statement:g}:null));let _;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")_=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)_=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)m=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),y=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(h=b==null?void 0:b.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const N=await w.signMessage(new TextEncoder().encode(m),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=N}}try{const{data:x,error:v}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Qr(y)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:kt});if(v)throw v;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new gn}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:v})}catch(x){if($(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await Mr(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:kt});if(await ar(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new gn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if($(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,l=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:kt}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new gn}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:l,options:u}=t;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await vn(this.storage,this.storageKey));const{error:d}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:u}=t,{data:c,error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(s=u==null?void 0:u.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new ga("You must provide either an email or phone number.")}catch(l){if($(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:kt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await vn(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:lN})}catch(s){if($(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ct;const{error:i}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if($(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await W(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:l}=await W(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new ga("You must provide either an email or phone number and a type")}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Mr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<tu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Mr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=iu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=iN(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:dr}):await this._useSession(async r=>{var n,i,s;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:dr})})}catch(r){if($(r))return LS(r)&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Ct;const a=i.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await vn(this.storage,this.storageKey));const{data:c,error:h}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:dr});if(h)throw h;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ct;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=nu(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if($(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ct;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Fe())throw new va("No browser detected.");if(t.error||t.error_description||t.error_code)throw new va(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new dp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new va("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new dp("No code detected.");const{data:g,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:u,token_type:c}=t;if(!s||!l||!a||!c)throw new va("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(l);let f=h+d;u&&(f=parseInt(u));const p=f-h;p*1e3<=_n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const m=f-d;h-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,h):h-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,h);const{data:y,error:x}=await this._getUser(s);if(x)throw x;const v={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:f,refresh_token:a,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if($(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Mr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(RS(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=HS(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await vn(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if($(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,l,u,c,h;const{data:d,error:f}=s;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Fe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if($(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:l,token:u,access_token:c,nonce:h}=t,d=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:u,access_token:c,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:kt}),{data:f,error:p}=d;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new gn}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:p})}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await KS(async i=>(i>0&&await qS(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kt})),(i,s)=>{const a=200*Math.pow(2,i);return s&&ru(s)&&Date.now()+a-n<_n})}catch(n){if(this._debug(r,"error",n),$(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Fe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Mr(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Mr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Cn(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:iu()}else if(i&&!i.user&&!i.user){const a=await Mr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await ar(this.storage,this.storageKey+"-user"),await Cn(this.storage,this.storageKey,i)):i.user=iu()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<tu;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${tu}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),ru(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Go;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Ct;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),$(s)){const a={data:null,error:s};return ru(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Cn(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=gp(i);await Cn(this.storage,this.storageKey,s)}else{const i=gp(r);await Cn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ar(this.storage,this.storageKey),await ar(this.storage,this.storageKey+"-code-verifier"),await ar(this.storage,this.storageKey+"-user"),this.userStorage&&await ar(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Fe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_n);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/_n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${_n}ms, refresh threshold is ${kc} ticks`),i<=kc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof X0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await vn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await W(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:c}=await W(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&u.type==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?NN(t.webauthn.credential_response):_N(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(r){if($(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const a=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:jN(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:SN(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if($(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=nu(n.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?{data:null,error:i}:n?await W(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new Ct}})}catch(r){if($(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Ct};const a=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Fe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if($(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Ct};const a=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Fe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if($(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+OS>i)return n;const{data:s,error:a}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};n=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:u}}=nu(n);r!=null&&r.allowExpired||tN(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const h=rN(i.alg),d=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,a,zS(`${l}.${u}`)))throw new Dc("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}}ys.nextInstanceID=0;const AN=ys;class RN extends AN{constructor(t){super(t)}}class LN{constructor(t,r,n){var i,s,a;this.supabaseUrl=t,this.supabaseKey=r;const l=ES(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:bS,realtime:jS,auth:Object.assign(Object.assign({},wS),{storageKey:u}),global:xS},h=kS(n??{},c);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=_S(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Pj(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new gS(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new wj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:l,lock:u,debug:c},h,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new RN({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),h),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:l,lock:u,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Gj(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $N=(e,t,r)=>new LN(e,t,r);function BN(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}BN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const MN="https://hmwcjdlynbiokknbtrne.supabase.co",FN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhtd2NqZGx5bmJpb2trbmJ0cm5lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE4NzgyNDAsImV4cCI6MjA3NzQ1NDI0MH0.yxYhgDxyg58NvvCLgPg0wEG1gFSbSaz5IzUI9tIZNZY",J=$N(MN,FN),ty=j.createContext(void 0);function UN({children:e}){const[t,r]=j.useState(null),[n,i]=j.useState(null),[s,a]=j.useState(!0),[l,u]=j.useState(!1);j.useEffect(()=>{J.auth.getSession().then(({data:{session:m}})=>{r((m==null?void 0:m.user)??null),m!=null&&m.user?c(m.user.id):a(!1)});const{data:{subscription:p}}=J.auth.onAuthStateChange((m,y)=>{r((y==null?void 0:y.user)??null),y!=null&&y.user?c(y.user.id):(i(null),u(!1),a(!1))});return()=>p.unsubscribe()},[]);async function c(p){var m;try{const{data:y,error:x}=await J.from("profiles").select("*").eq("id",p).maybeSingle();if(x)throw x;i(y),u((y==null?void 0:y.user_type)==="admin"||((m=y==null?void 0:y.email)==null?void 0:m.includes("admin")))}catch(y){console.error("Error loading profile:",y)}finally{a(!1)}}async function h(p,m,y){const{data:x,error:v}=await J.auth.signUp({email:p,password:m});if(v)throw v;if(x.user){const{error:g}=await J.from("profiles").insert({id:x.user.id,email:p,full_name:y.full_name,user_type:y.user_type,organization_name:y.organization_name,practicing_certificate:y.practicing_certificate});if(g)throw g}}async function d(p,m){const{error:y}=await J.auth.signInWithPassword({email:p,password:m});if(y)throw y}async function f(){const{error:p}=await J.auth.signOut();if(p)throw p;i(null),u(!1)}return o.jsx(ty.Provider,{value:{user:t,profile:n,loading:s,isAdmin:l,signUp:h,signIn:d,signOut:f},children:e})}function He(){const e=j.useContext(ty);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ry=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...l},u)=>j.createElement("svg",{ref:u,...WN,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:ry("lucide",i),...l},[...a.map(([c,h])=>j.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=(e,t)=>{const r=j.forwardRef(({className:n,...i},s)=>j.createElement(HN,{ref:s,iconNode:t,className:ry(`lucide-${zN(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=L("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=L("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=L("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=L("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=L("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=L("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=L("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=L("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=L("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=L("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=L("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=L("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=L("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=L("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=L("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=L("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=L("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=L("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=L("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=L("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=L("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=L("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=L("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=L("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=L("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=L("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=L("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=L("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=L("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=L("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=L("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=L("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=L("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=L("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=L("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=L("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=L("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=L("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=L("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=L("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=L("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=L("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=L("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=L("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=L("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=L("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=L("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=L("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=L("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=L("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=L("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=L("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=L("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=L("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=L("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=L("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=L("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function y2(){const{user:e,profile:t,signOut:r}=He(),n=dn(),[i,s]=j.useState(!1);async function a(){await r(),n("/")}return o.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs(H,{to:"/",className:"flex items-center gap-2 text-teal-700 hover:text-teal-800 transition",children:[o.jsx("div",{className:"w-8 h-8 bg-teal-600 rounded-full flex items-center justify-center",children:o.jsx(Zr,{className:"w-5 h-5 text-white"})}),o.jsx("span",{className:"font-bold text-xl",children:"HakiChain"})]}),o.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[o.jsx(H,{to:"/",className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Home"}),o.jsx(H,{to:"/bounties",className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Explore Bounties"}),o.jsx(H,{to:"/documentation",className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Documentation"}),e&&t?o.jsxs("div",{className:"flex items-center gap-4 ml-4 pl-4 border-l border-gray-200",children:[o.jsx(H,{to:"/dashboard",className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Dashboard"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium text-gray-900",children:t.full_name}),o.jsx("div",{className:"text-gray-500 capitalize",children:t.user_type})]}),o.jsx("button",{onClick:a,className:"p-2 text-gray-600 hover:text-red-600 transition",title:"Sign out",children:o.jsx(Ic,{className:"w-5 h-5"})})]})]}):o.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[o.jsx(H,{to:"/login",className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Sign In"}),o.jsx(H,{to:"/signup",className:"bg-teal-600 hover:bg-teal-700 text-white px-5 py-2 rounded-full font-medium transition",children:"Sign Up"})]})]}),o.jsx("button",{onClick:()=>s(!i),className:"md:hidden p-2 text-gray-600 hover:text-teal-600",children:i?o.jsx(Xo,{className:"w-6 h-6"}):o.jsx(a2,{className:"w-6 h-6"})})]}),i&&o.jsx("div",{className:"md:hidden py-4 border-t border-gray-200",children:o.jsxs("nav",{className:"flex flex-col gap-4",children:[o.jsx(H,{to:"/",onClick:()=>s(!1),className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Home"}),o.jsx(H,{to:"/bounties",onClick:()=>s(!1),className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Explore Bounties"}),o.jsx(H,{to:"/documentation",onClick:()=>s(!1),className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Documentation"}),e&&t?o.jsxs(o.Fragment,{children:[o.jsx(H,{to:"/dashboard",onClick:()=>s(!1),className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Dashboard"}),o.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[o.jsxs("div",{className:"text-sm mb-3",children:[o.jsx("div",{className:"font-medium text-gray-900",children:t.full_name}),o.jsx("div",{className:"text-gray-500 capitalize",children:t.user_type})]}),o.jsxs("button",{onClick:()=>{a(),s(!1)},className:"text-red-600 hover:text-red-700 transition font-medium flex items-center gap-2",children:[o.jsx(Ic,{className:"w-4 h-4"}),"Sign Out"]})]})]}):o.jsxs("div",{className:"flex flex-col gap-3 pt-4 border-t border-gray-200",children:[o.jsx(H,{to:"/login",onClick:()=>s(!1),className:"text-gray-700 hover:text-teal-600 transition font-medium",children:"Sign In"}),o.jsx(H,{to:"/signup",onClick:()=>s(!1),className:"bg-teal-600 hover:bg-teal-700 text-white px-5 py-2 rounded-full font-medium transition text-center",children:"Sign Up"})]})]})})]})})}function x2(){return o.jsx("footer",{className:"bg-gray-900 text-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[o.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[o.jsxs("div",{children:[o.jsxs(H,{to:"/",className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"w-8 h-8 bg-teal-600 rounded-full flex items-center justify-center",children:o.jsx(Zr,{className:"w-5 h-5 text-white"})}),o.jsx("span",{className:"font-bold text-xl",children:"HakiChain"})]}),o.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Blockchain-powered legal justice platform connecting NGOs, donors, and lawyers for positive social impact."}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("a",{href:"#",className:"w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center hover:bg-teal-600 transition",children:o.jsx(g2,{className:"w-4 h-4"})}),o.jsx("a",{href:"#",className:"w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center hover:bg-teal-600 transition",children:o.jsx(t2,{className:"w-4 h-4"})}),o.jsx("a",{href:"#",className:"w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center hover:bg-teal-600 transition",children:o.jsx(i2,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-4",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[o.jsx("li",{children:o.jsx(H,{to:"/",className:"hover:text-teal-400 transition",children:"Home"})}),o.jsx("li",{children:o.jsx(H,{to:"/bounties",className:"hover:text-teal-400 transition",children:"Explore Bounties"})}),o.jsx("li",{children:o.jsx(H,{to:"/documentation",className:"hover:text-teal-400 transition",children:"Case Studies"})}),o.jsx("li",{children:o.jsx(H,{to:"/documentation",className:"hover:text-teal-400 transition",children:"Blog"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-4",children:"Resources"}),o.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[o.jsx("li",{children:o.jsx(H,{to:"/documentation",className:"hover:text-teal-400 transition",children:"Documentation"})}),o.jsx("li",{children:o.jsx(H,{to:"/documentation",className:"hover:text-teal-400 transition",children:"FAQs"})}),o.jsx("li",{children:o.jsx(H,{to:"/documentation",className:"hover:text-teal-400 transition",children:"Case Studies"})}),o.jsx("li",{children:o.jsx(H,{to:"/documentation",className:"hover:text-teal-400 transition",children:"Blog"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-4",children:"Contact"}),o.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[o.jsxs("li",{children:["Email: ",o.jsx("a",{href:"mailto:info@hakichain.com",className:"hover:text-teal-400 transition",children:"info@hakichain.com"})]}),o.jsxs("li",{children:["Support: ",o.jsx("a",{href:"mailto:support@hakichain.com",className:"hover:text-teal-400 transition",children:"support@hakichain.com"})]}),o.jsxs("li",{children:["Phone: ",o.jsx("a",{href:"tel:+254011015464",className:"hover:text-teal-400 transition",children:"+254(0)11015464"})]})]})]})]}),o.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-sm text-gray-400",children:o.jsxs("p",{children:[" ",new Date().getFullYear()," HakiChain. All rights reserved. Blockchain-powered legal justice platform."]})})]})})}const b2=["What are my rights as a tenant in Kenya?","How do I file for divorce in Kenya?","What is the process for registering a business?","How do I report domestic violence?"],_i={rights:"As a tenant in Kenya, you have rights including the right to a written lease agreement, protection from arbitrary eviction, and the right to safe and habitable housing.",divorce:"To file for divorce in Kenya, you need to petition the court through a lawyer. The process includes filing documents, attending hearings, and obtaining a decree.",business:"To register a business in Kenya, visit the DGSB (Directorate of General Services B) office with your ID, complete the registration form, and pay the registration fee.",domestic:"If you experience domestic violence, you can file for a protection order at the magistrate court, contact the police, or reach out to local organizations like Kenya Red Cross for support.",default:"Thank you for your question! For more detailed legal advice, please consult with a qualified lawyer on our platform."};function w2(){const[e,t]=j.useState(!1),[r,n]=j.useState(!1),[i,s]=j.useState([{id:"1",text:"Hi! I'm HakiBot, your AI legal assistant. I can help you understand Kenyan law, legal processes, and guide you to the right resources. What legal question can I help you with today?",sender:"bot",timestamp:new Date}]),[a,l]=j.useState(""),u=j.useRef(null),c=()=>{var d;(d=u.current)==null||d.scrollIntoView({behavior:"smooth"})};j.useEffect(()=>{c()},[i]);const h=d=>{if(!d.trim())return;const f={id:Date.now().toString(),text:d,sender:"user",timestamp:new Date};s(p=>[...p,f]),l(""),setTimeout(()=>{let p=_i.default;d.toLowerCase().includes("tenant")||d.toLowerCase().includes("rights")?p=_i.rights:d.toLowerCase().includes("divorce")?p=_i.divorce:d.toLowerCase().includes("business")||d.toLowerCase().includes("register")?p=_i.business:(d.toLowerCase().includes("domestic")||d.toLowerCase().includes("violence"))&&(p=_i.domestic);const m={id:(Date.now()+1).toString(),text:p,sender:"bot",timestamp:new Date};s(y=>[...y,m])},500)};return o.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[e&&!r&&o.jsxs("div",{className:"chatbot-enter bg-white rounded-xl shadow-2xl w-96 flex flex-col h-96 mb-4 border border-gray-200",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-xl p-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg",children:"HakiBot"}),o.jsx("p",{className:"text-sm text-blue-100",children:"Legal AI Assistant"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>n(!0),className:"p-1 hover:bg-blue-500 rounded transition",title:"Minimize",children:o.jsx(l2,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>t(!1),className:"p-1 hover:bg-blue-500 rounded transition",title:"Close",children:o.jsx(Xo,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[i.map(d=>o.jsx("div",{className:`chatbot-message flex ${d.sender==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg ${d.sender==="user"?"bg-blue-600 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:[o.jsx("p",{className:"text-sm",children:d.text}),o.jsx("p",{className:`text-xs mt-1 ${d.sender==="user"?"text-blue-100":"text-gray-600"}`,children:d.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},d.id)),o.jsx("div",{ref:u})]}),i.length<=1&&o.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 bg-white",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Quick questions:"}),o.jsx("div",{className:"space-y-2",children:b2.slice(0,2).map((d,f)=>o.jsxs("button",{onClick:()=>h(d),className:"w-full text-left text-xs bg-gray-100 hover:bg-gray-200 p-2 rounded transition text-gray-700",children:[d.substring(0,30),"..."]},f))})]}),o.jsxs("div",{className:"border-t border-gray-200 p-3 bg-white rounded-b-xl",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:a,onChange:d=>l(d.target.value),onKeyPress:d=>d.key==="Enter"&&h(a),placeholder:"Ask me about Kenyan law...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),o.jsx("button",{onClick:()=>h(a),className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-lg transition",title:"Send",children:o.jsx(d2,{className:"w-4 h-4"})})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"For personalized advice, consult a qualified lawyer"})]})]}),e&&r&&o.jsx("div",{className:"chatbot-enter bg-blue-600 text-white rounded-lg shadow-lg p-3 mb-4 w-64 cursor-pointer",onClick:()=>n(!1),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-sm",children:"HakiBot"}),o.jsx("p",{className:"text-xs text-blue-100",children:"Click to expand"})]}),o.jsx(s2,{className:"w-4 h-4"})]})}),!e&&o.jsx("button",{onClick:()=>t(!0),className:"bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 shadow-lg hover:shadow-xl transition transform hover:scale-110 animate-pulse-soft",title:"Open HakiBot",children:o.jsx(o2,{className:"w-6 h-6"})})]})}function au(e={}){const t=j.useRef(null),[r,n]=j.useState(!1);return j.useEffect(()=>{const i=new IntersectionObserver(([s])=>{s.isIntersecting&&(n(!0),i.unobserve(s.target))},{threshold:.1,...e});return t.current&&i.observe(t.current),()=>i.disconnect()},[e]),[t,r]}function j2(){const[e,t]=au(),[r,n]=au(),[i,s]=au(),{profile:a}=He(),l=dn(),u=()=>{a&&a.user_type==="lawyer"?l("/dashboard"):l("/login")};return o.jsxs("div",{className:"min-h-screen",children:[o.jsx("section",{className:"relative bg-gradient-to-br from-teal-800 via-teal-700 to-blue-900 text-white py-24",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6",children:o.jsxs("div",{className:"text-center max-w-4xl mx-auto animate-fade-in-up",children:[o.jsxs("h1",{className:"text-5xl font-bold mb-6 leading-tight",children:["Professional ",o.jsx("span",{className:"text-teal-300",children:"Legal Tools"})," for Modern Lawyers"]}),o.jsx("p",{className:"text-xl mb-8 text-teal-100 animate-slide-down",style:{animationDelay:"0.2s"},children:"TRUSTED BY LEGAL PROFESSIONALS"}),o.jsxs("div",{className:"flex gap-4 justify-center flex-wrap animate-fade-in-up",style:{animationDelay:"0.4s"},children:[o.jsx("button",{onClick:u,className:"bg-teal-500 hover:bg-teal-600 text-white px-8 py-3 rounded-full font-medium transition",children:"Access Lawyer Dashboard"}),o.jsx(H,{to:"/bounties",className:"bg-white hover:bg-gray-100 text-teal-800 px-8 py-3 rounded-full font-medium transition",children:"Explore Bounties"})]})]})})}),o.jsx("section",{className:"py-20 bg-gray-50",ref:e,children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs("div",{className:`text-center mb-16 ${t?"animate-fade-in-up":"opacity-0"}`,children:[o.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Complete Legal Practice Management"}),o.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Everything you need to run a modern legal practice, from case management to client acquisition and payment processing."})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[0,1,2,3,4,5].map(c=>o.jsx("div",{className:`transition-all duration-700 ${t?"animate-fade-in-up":"opacity-0"}`,style:{animationDelay:`${c*.15}s`},children:o.jsx(S2,{index:c})},c))})]})}),o.jsx("section",{className:"py-20 bg-white",ref:r,children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsx("h2",{className:`text-4xl font-bold text-center mb-16 ${n?"animate-fade-in-up":"opacity-0"}`,children:"Why Legal Professionals Choose HakiChain"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[o.jsx("div",{className:n?"animate-fade-in-left":"opacity-0",children:o.jsx("img",{src:"https://images.pexels.com/photos/5668858/pexels-photo-5668858.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Legal professionals collaborating",className:"rounded-lg shadow-xl"})}),o.jsx("div",{className:"space-y-6",children:[0,1,2,3].map(c=>o.jsx("div",{className:`transition-all duration-700 ${n?"animate-fade-in-right":"opacity-0"}`,style:{animationDelay:`${c*.15}s`},children:o.jsx(N2,{index:c})},c))})]}),o.jsx("div",{className:"mt-16 text-center",children:o.jsx(H,{to:"/signup",className:`inline-block bg-teal-600 hover:bg-teal-700 text-white px-10 py-4 rounded-full font-medium text-lg transition ${n?"animate-fade-in-up":"opacity-0"}`,children:"Start Using Tools"})})]})}),o.jsx("section",{className:"py-20 bg-gray-50",ref:i,children:o.jsxs("div",{className:"max-w-5xl mx-auto px-6 text-center",children:[o.jsx("h2",{className:`text-4xl font-bold mb-12 ${s?"animate-fade-in-up":"opacity-0"}`,children:"Trusted by Legal Professionals"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[0,1,2,3].map(c=>o.jsx("div",{className:`transition-all duration-700 ${s?"animate-fade-in-up":"opacity-0"}`,style:{animationDelay:`${c*.1}s`},children:o.jsx(_2,{index:c})},c))})]})}),o.jsx("section",{className:"py-20 bg-gradient-to-br from-teal-700 to-blue-800 text-white",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center animate-fade-in-up",children:[o.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Ready to Transform Your Legal Practice?"}),o.jsx("p",{className:"text-xl mb-8 text-teal-100",children:"Join HakiChain today and access the tools you need to manage cases efficiently, connect with quality clients, and grow your practice."}),o.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[o.jsx("button",{onClick:u,className:"bg-white hover:bg-gray-100 text-teal-800 px-8 py-3 rounded-full font-medium transition",children:"Access Lawyer Dashboard"}),o.jsx(H,{to:"/signup",className:"bg-teal-500 hover:bg-teal-600 text-white px-8 py-3 rounded-full font-medium transition border-2 border-white",children:"Register as Lawyer"})]}),o.jsxs("p",{className:"mt-6 text-teal-200",children:["Already have an account?"," ",o.jsx(H,{to:"/login",className:"underline hover:text-white",children:"Sign in here"})]})]})})]})}function S2({index:e}){const r=[{icon:o.jsx(ny,{className:"w-8 h-8 text-teal-600"}),title:"Case Management Dashboard",description:"Track cases, deadlines, and milestones with comprehensive analytics and automated reminders.",items:["Case timeline tracking","Deadline management","Progress analytics"]},{icon:o.jsx(Ki,{className:"w-8 h-8 text-blue-600"}),title:"Client Matching System",description:"AI-powered system connects you with verified clients who need your specific expertise.",items:["Specialty-based matching","Verified client profiles","Smart recommendations"]},{icon:o.jsx(Jo,{className:"w-8 h-8 text-yellow-600"}),title:"Bounty Marketplace",description:"Access funded legal cases with transparent payment terms and milestone-based compensation.",items:["Guaranteed payments","Milestone tracking","Transparent funding"]},{icon:o.jsx(go,{className:"w-8 h-8 text-green-600"}),title:"Document Verification",description:"Blockchain-secured document verification and smart contract automation for legal processes.",items:["Blockchain verification","Digital signatures","Tamper-proof records"]},{icon:o.jsx(Zr,{className:"w-8 h-8 text-purple-600"}),title:"Payment & Escrow",description:"Secure blockchain-based payment processing with automated escrow for client protection.",items:["Automated escrow","Smart contracts","Client protection"]},{icon:o.jsx(Oc,{className:"w-8 h-8 text-red-600"}),title:"Analytics & Reporting",description:"Comprehensive performance analytics and automated reporting for better practice management.",items:["Performance metrics","Financial reports","Practice insights"]}][e];return o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition",children:[o.jsx("div",{className:"mb-4",children:r.icon}),o.jsx("h3",{className:"text-xl font-bold mb-3",children:r.title}),o.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),o.jsx("ul",{className:"space-y-2",children:r.items.map((n,i)=>o.jsxs("li",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("span",{className:"w-1.5 h-1.5 bg-teal-500 rounded-full"}),n]},i))})]})}function N2({index:e}){const r=[{title:"Save 40% of Administrative Time",description:"Automated case tracking, deadline management, and client communication reduce administrative overhead significantly."},{title:"Guaranteed Payment Security",description:"Blockchain-based escrow system ensures you get paid for completed work with transparent milestone-based payments."},{title:"Access to Quality Clients",description:"Connect with verified NGOs and clients who have pre-funded legal cases that match your expertise."},{title:"Build Professional Reputation",description:"Transparent performance tracking and client reviews help you build a verified reputation in the legal community."}][e];return o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:o.jsx("div",{className:"w-3 h-3 bg-teal-600 rounded-full"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg mb-2",children:r.title}),o.jsx("p",{className:"text-gray-600",children:r.description})]})]})}function _2({index:e}){const r=[{number:"150+",label:"Verified Lawyers"},{number:"500+",label:"Cases Managed"},{number:"98%",label:"Payment Success"},{number:"40%",label:"Time Saved"}][e];return o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-teal-600 mb-2",children:r.number}),o.jsx("div",{className:"text-gray-600",children:r.label})]})}function C2(){const[e,t]=j.useState(""),[r,n]=j.useState(""),[i,s]=j.useState(""),[a,l]=j.useState(!1),u=dn(),{signIn:c}=He();async function h(d){d.preventDefault(),s(""),l(!0);try{await c(e,r),u("/dashboard")}catch(f){s("Failed to sign in. Please check your credentials."),console.error(f)}finally{l(!1)}}return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:o.jsx("div",{className:"max-w-md w-full",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),o.jsx("p",{className:"text-gray-600",children:"Sign in to access your HakiChain dashboard"})]}),i&&o.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:i}),o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Yd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{id:"email",type:"email",value:e,onChange:d=>t(d.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"you@example.com"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Tc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{id:"password",type:"password",value:r,onChange:d=>n(d.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:""})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",className:"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500"}),o.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),o.jsx(H,{to:"/forgot-password",className:"text-sm text-teal-600 hover:text-teal-700",children:"Forgot your password?"})]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 rounded-lg font-medium transition disabled:opacity-50 disabled:cursor-not-allowed text-white bg-teal-600 hover:bg-teal-700",children:a?"Signing in...":"Sign In"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",o.jsx(H,{to:"/signup",className:"text-teal-600 hover:text-teal-700 font-medium",children:"Sign up"})]})})]})})})}function k2(){const[e,t]=j.useState("select"),[r,n]=j.useState("lawyer"),[i,s]=j.useState({fullName:"",email:"",password:"",confirmPassword:"",organizationName:"",practicingCertificate:""}),[a,l]=j.useState(""),[u,c]=j.useState(!1),h=dn(),{signUp:d}=He();function f(m){n(m),t("form")}async function p(m){if(m.preventDefault(),l(""),i.password!==i.confirmPassword){l("Passwords do not match");return}if(i.password.length<6){l("Password must be at least 6 characters");return}c(!0);try{await d(i.email,i.password,{full_name:i.fullName,user_type:r,organization_name:i.organizationName||void 0,practicing_certificate:i.practicingCertificate||void 0}),h("/login")}catch(y){l(y.message||"Failed to create account"),console.error(y)}finally{c(!1)}}return e==="select"?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:o.jsx("div",{className:"max-w-2xl w-full",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Your Account"}),o.jsx("p",{className:"text-gray-600",children:"Join HakiChain and make a difference"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-4",children:"I am registering as a:"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsxs("button",{onClick:()=>f("lawyer"),className:"p-6 border-2 border-gray-200 rounded-xl hover:border-teal-500 hover:bg-teal-50 transition group",children:[o.jsx(Zr,{className:"w-12 h-12 mx-auto mb-3 text-gray-400 group-hover:text-teal-600"}),o.jsx("div",{className:"font-bold text-gray-900",children:"Lawyer"})]}),o.jsxs("button",{onClick:()=>f("ngo"),className:"p-6 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition group",children:[o.jsx(Sp,{className:"w-12 h-12 mx-auto mb-3 text-gray-400 group-hover:text-blue-600"}),o.jsx("div",{className:"font-bold text-gray-900",children:"NGO"})]}),o.jsxs("button",{onClick:()=>f("donor"),className:"p-6 border-2 border-gray-200 rounded-xl hover:border-purple-500 hover:bg-purple-50 transition group",children:[o.jsx(r2,{className:"w-12 h-12 mx-auto mb-3 text-gray-400 group-hover:text-purple-600"}),o.jsx("div",{className:"font-bold text-gray-900",children:"Donor"})]})]})]}),o.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",o.jsx(H,{to:"/login",className:"text-teal-600 hover:text-teal-700 font-medium",children:"Sign in"})]})]})})}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:o.jsx("div",{className:"max-w-md w-full",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Your Account"}),o.jsx("p",{className:"text-gray-600",children:"Join HakiChain and make a difference"})]}),a&&o.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:a}),o.jsxs("form",{onSubmit:p,className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Yo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{id:"fullName",type:"text",value:i.fullName,onChange:m=>s({...i,fullName:m.target.value}),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"John Doe"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Yd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{id:"email",type:"email",value:i.email,onChange:m=>s({...i,email:m.target.value}),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"you@example.com"})]})]}),r==="ngo"&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"organizationName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Sp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{id:"organizationName",type:"text",value:i.organizationName,onChange:m=>s({...i,organizationName:m.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Your NGO name"})]})]}),r==="lawyer"&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"practicingCertificate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Practicing Certificate"}),o.jsxs("div",{className:"relative",children:[o.jsx(nr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{id:"practicingCertificate",type:"text",value:i.practicingCertificate,onChange:m=>s({...i,practicingCertificate:m.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"LSK12345"})]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Your LSK Number will be verified before you can accept bounties."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Tc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{id:"password",type:"password",value:i.password,onChange:m=>s({...i,password:m.target.value}),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:""})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Tc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{id:"confirmPassword",type:"password",value:i.confirmPassword,onChange:m=>s({...i,confirmPassword:m.target.value}),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:""})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:()=>t("select"),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 rounded-lg font-medium transition",children:"Back"}),o.jsx("button",{type:"submit",disabled:u,className:"flex-1 bg-teal-600 hover:bg-teal-700 text-white py-3 rounded-lg font-medium transition disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating...":"Create Account"})]})]}),o.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:["Already have an account?"," ",o.jsx(H,{to:"/login",className:"text-teal-600 hover:text-teal-700 font-medium",children:"Sign in"})]})]})})})}function E2(){const[e,t]=j.useState([]),[r,n]=j.useState(!0),[i,s]=j.useState(""),[a,l]=j.useState("All Categories");j.useEffect(()=>{u()},[]);async function u(){try{const{data:d,error:f}=await J.from("bounties").select("*").eq("status","open").order("created_at",{ascending:!1});if(f)throw f;t(d||[])}catch(d){console.error("Error loading bounties:",d)}finally{n(!1)}}const c=e.filter(d=>{const f=d.title.toLowerCase().includes(i.toLowerCase())||d.description.toLowerCase().includes(i.toLowerCase()),p=a==="All Categories"||d.category===a;return f&&p}),h=["All Categories",...new Set(e.map(d=>d.category))];return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-gradient-to-br from-teal-700 to-blue-800 text-white py-16",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Explore Legal Bounties"}),o.jsx("p",{className:"text-xl text-teal-100",children:"Browse through legal cases that need your expertise or support"})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search bounties...",value:i,onChange:d=>s(d.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),o.jsx("select",{value:a,onChange:d=>l(d.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white",children:h.map(d=>o.jsx("option",{value:d,children:d},d))})]}),r?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block w-8 h-8 border-4 border-teal-600 border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading bounties..."})]}):c.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-600",children:"No bounties found matching your criteria."})}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(d=>o.jsx(P2,{bounty:d},d.id))})]})]})}function P2({bounty:e}){const t=e.current_funding/e.funding_goal*100,r=e.deadline?Math.ceil((new Date(e.deadline).getTime()-Date.now())/(1e3*60*60*24)):null;return o.jsx(H,{to:`/bounties/${e.id}`,className:"block",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition p-6 h-full",children:[o.jsx("div",{className:"flex items-start justify-between mb-3",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"inline-block px-3 py-1 bg-teal-100 text-teal-700 text-xs font-medium rounded-full mb-2",children:["$",e.funding_goal.toLocaleString()]}),o.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-2",children:e.title})]})}),o.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:e.description}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(sy,{className:"w-4 h-4"}),o.jsx("span",{children:e.jurisdiction})]}),r!==null&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Ht,{className:"w-4 h-4"}),o.jsx("span",{children:r>0?`${r} days remaining`:"Deadline passed"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(ay,{className:"w-4 h-4"}),o.jsx("span",{children:e.category})]})]}),o.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[o.jsx("span",{className:"text-gray-600",children:"Funding Progress"}),o.jsxs("span",{className:"font-medium text-teal-600",children:["$",e.current_funding.toLocaleString()," / $",e.funding_goal.toLocaleString()]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-teal-600 h-2 rounded-full transition-all",style:{width:`${Math.min(t,100)}%`}})})]}),e.tags&&e.tags.length>0&&o.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:e.tags.slice(0,3).map((n,i)=>o.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:n},i))})]})})}function D2(){const{id:e}=M1(),{profile:t}=He(),[r,n]=j.useState(null),[i,s]=j.useState([]),[a,l]=j.useState([]),[u,c]=j.useState(!0),[h,d]=j.useState(!1),[f,p]=j.useState(!1);j.useEffect(()=>{if(e){m();const x=setInterval(()=>{m()},3e3);return()=>clearInterval(x)}},[e]);async function m(){try{const[x,v,g]=await Promise.all([J.from("bounties").select("*").eq("id",e).maybeSingle(),J.from("milestones").select("*").eq("bounty_id",e).order("order_index"),J.from("donations").select("*").eq("bounty_id",e).order("created_at",{ascending:!1})]);if(x.error)throw x.error;if(v.error)throw v.error;if(g.error)throw g.error;n(x.data),s(v.data||[]),l(g.data||[])}catch(x){console.error("Error loading bounty details:",x)}finally{c(!1)}}if(u)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-block w-8 h-8 border-4 border-teal-600 border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading bounty details..."})]})});if(!r)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-gray-600",children:"Bounty not found"}),o.jsx(H,{to:"/bounties",className:"text-teal-600 hover:text-teal-700 mt-4 inline-block",children:"Back to bounties"})]})});const y=r.current_funding/r.funding_goal*100;return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs(H,{to:"/bounties",className:"inline-flex items-center gap-2 text-teal-600 hover:text-teal-700 mb-6",children:[o.jsx(VN,{className:"w-4 h-4"}),"Back to Bounties"]}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{children:[o.jsxs("div",{className:"inline-block px-3 py-1 bg-teal-100 text-teal-700 text-sm font-medium rounded-full mb-3",children:["$",r.funding_goal.toLocaleString()]}),o.jsx("h1",{className:"text-3xl font-bold mb-2",children:r.title})]})}),o.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(sy,{className:"w-4 h-4"}),o.jsx("span",{children:r.jurisdiction})]}),r.deadline&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qo,{className:"w-4 h-4"}),o.jsxs("span",{children:["Due: ",new Date(r.deadline).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ay,{className:"w-4 h-4"}),o.jsx("span",{children:r.category})]})]}),o.jsxs("div",{className:"prose max-w-none",children:[o.jsx("h3",{className:"text-lg font-bold mb-3",children:"Description"}),o.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:r.description})]}),r.tags&&r.tags.length>0&&o.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[o.jsx("h4",{className:"font-medium mb-3",children:"Tags"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map((x,v)=>o.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:x},v))})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Milestones"}),o.jsx("div",{className:"space-y-4",children:i.length===0?o.jsx("p",{className:"text-gray-500",children:"No milestones defined yet."}):i.map((x,v)=>o.jsx(T2,{milestone:x,index:v},x.id))})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsx("h3",{className:"font-bold mb-4",children:"Funding Progress"}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"text-gray-600",children:"Raised"}),o.jsxs("span",{className:"font-bold text-teal-600",children:["$",r.current_funding.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-sm mb-3",children:[o.jsx("span",{className:"text-gray-600",children:"Goal"}),o.jsxs("span",{className:"font-medium",children:["$",r.funding_goal.toLocaleString()]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:o.jsx("div",{className:"bg-teal-600 h-3 rounded-full transition-all",style:{width:`${Math.min(y,100)}%`}})})]}),(t==null?void 0:t.user_type)==="donor"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:()=>d(!0),className:"w-full bg-teal-600 hover:bg-teal-700 text-white py-3 rounded-lg font-medium transition flex items-center justify-center gap-2",children:[o.jsx(v2,{className:"w-5 h-5"}),"Connect Wallet to Donate"]}),o.jsxs("button",{onClick:()=>d(!0),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition flex items-center justify-center gap-2",children:[o.jsx(XN,{className:"w-5 h-5"}),"Pay with M-Pesa"]})]}),(t==null?void 0:t.user_type)==="lawyer"&&r.status==="open"&&o.jsx("button",{onClick:()=>p(!0),className:"w-full bg-teal-600 hover:bg-teal-700 text-white py-3 rounded-lg font-medium transition",children:"Apply for this Case"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsxs("h3",{className:"font-bold mb-4",children:["Donors (",a.length,")"]}),a.length===0?o.jsx("p",{className:"text-gray-500 text-sm",children:"No donations yet"}):o.jsx("div",{className:"space-y-3",children:a.slice(0,5).map(x=>o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-600",children:x.is_anonymous?"Anonymous Donor":"Supporter"}),o.jsxs("span",{className:"font-medium text-teal-600",children:["$",x.amount.toLocaleString()]})]},x.id))})]})]})]})]}),h&&o.jsx(I2,{bounty:r,onClose:()=>d(!1),onSuccess:m}),f&&o.jsx(O2,{bountyId:r.id,onClose:()=>p(!1)})]})}function T2({milestone:e,index:t}){const r={pending:"bg-gray-100 text-gray-700",in_progress:"bg-blue-100 text-blue-700",completed:"bg-yellow-100 text-yellow-700",verified:"bg-green-100 text-green-700"};return o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center text-teal-700 font-bold text-sm",children:t+1}),o.jsx("h4",{className:"font-bold",children:e.title})]}),o.jsx("p",{className:"text-gray-600 text-sm mb-3",children:e.description})]}),o.jsxs("div",{className:"flex flex-col items-end gap-2",children:[o.jsxs("span",{className:"font-bold text-teal-600",children:["$",e.amount.toLocaleString()]}),o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r[e.status]}`,children:e.status.replace("_"," ")})]})]}),e.due_date&&o.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[o.jsx(qo,{className:"w-3 h-3"}),"Due: ",new Date(e.due_date).toLocaleDateString()]}),e.status==="verified"&&e.verified_at&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 flex items-center gap-2 text-sm text-green-600",children:[o.jsx(Ko,{className:"w-4 h-4"}),"Verified on ",new Date(e.verified_at).toLocaleDateString()]})]})}function I2({bounty:e,onClose:t,onSuccess:r}){const[n,i]=j.useState(""),[s,a]=j.useState(!1),[l,u]=j.useState(!1),{profile:c}=He();async function h(){if(!n||Number.parseFloat(n)<=0){alert("Please enter a valid amount");return}u(!0);try{const d=Number.parseFloat(n),f=e.current_funding+d,{error:p}=await J.from("bounties").update({current_funding:f}).eq("id",e.id);if(p)throw p;const{error:m}=await J.from("donations").insert({bounty_id:e.id,donor_id:s?null:c==null?void 0:c.id,amount:d,is_anonymous:s,payment_method:"mpesa"});if(m)throw m;alert("Donation successful! Thank you for supporting this case."),r(),t()}catch(d){console.error("Error donating:",d),alert("Failed to process donation. Please try again.")}finally{u(!1)}}return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[o.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Donate to this Case"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Donation Amount (USD)"}),o.jsxs("div",{className:"relative",children:[o.jsx(Jo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"number",value:n,onChange:d=>i(d.target.value),placeholder:"100",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 mb-6 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s,onChange:d=>a(d.target.checked),className:"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Make this donation anonymous"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:t,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 rounded-lg font-medium transition",children:"Cancel"}),o.jsx("button",{onClick:h,disabled:l,className:"flex-1 bg-teal-600 hover:bg-teal-700 text-white py-3 rounded-lg font-medium transition disabled:opacity-50",children:l?"Processing...":"Donate"})]})]})})}function O2({bountyId:e,onClose:t}){const[r,n]=j.useState(""),[i,s]=j.useState(!1),{profile:a}=He();async function l(){if(!r.trim()){alert("Please enter your proposal");return}s(!0);try{const{error:u}=await J.from("applications").insert({bounty_id:e,lawyer_id:a==null?void 0:a.id,proposal:r});if(u)throw u;alert("Application submitted successfully!"),t()}catch(u){console.error("Error applying:",u),alert("Failed to submit application")}finally{s(!1)}}return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-6",children:[o.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Apply for this Case"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Proposal"}),o.jsx("textarea",{value:r,onChange:u=>n(u.target.value),rows:8,placeholder:"Explain your approach to this case, relevant experience, and timeline...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:t,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 rounded-lg font-medium transition",children:"Cancel"}),o.jsx("button",{onClick:l,disabled:i,className:"flex-1 bg-teal-600 hover:bg-teal-700 text-white py-3 rounded-lg font-medium transition disabled:opacity-50",children:i?"Submitting...":"Submit Application"})]})]})})}let Ac={},ly;function ou(e={}){Ac={animate:!0,allowClose:!0,overlayClickBehavior:"close",overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...e}}function O(e){return e?Ac[e]:Ac}function A2(e){ly=e}function yt(){return ly}let vo={};function ya(e,t){vo[e]=t}function en(e){var t;(t=vo[e])==null||t.call(vo)}function R2(){vo={}}function xa(e,t,r,n){return(e/=n/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t}function uy(e){const t='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return e.flatMap(r=>{const n=r.matches(t),i=Array.from(r.querySelectorAll(t));return[...n?[r]:[],...i]}).filter(r=>getComputedStyle(r).pointerEvents!=="none"&&B2(r))}function cy(e){if(!e||$2(e))return;const t=O("smoothScroll"),r=e.offsetHeight>window.innerHeight;e.scrollIntoView({behavior:!t||L2(e)?"auto":"smooth",inline:"center",block:r?"start":"center"})}function L2(e){if(!e||!e.parentElement)return;const t=e.parentElement;return t.scrollHeight>t.clientHeight}function $2(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function B2(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}let yo={};function je(e,t){yo[e]=t}function R(e){return e?yo[e]:yo}function kp(){yo={}}function M2(e,t,r,n){let i=R("__activeStagePosition");const s=i||r.getBoundingClientRect(),a=n.getBoundingClientRect(),l=xa(e,s.x,a.x-s.x,t),u=xa(e,s.y,a.y-s.y,t),c=xa(e,s.width,a.width-s.width,t),h=xa(e,s.height,a.height-s.height,t);i={x:l,y:u,width:c,height:h},hy(i),je("__activeStagePosition",i)}function dy(e){if(!e)return;const t=e.getBoundingClientRect(),r={x:t.x,y:t.y,width:t.width,height:t.height};je("__activeStagePosition",r),hy(r)}function F2(){const e=R("__activeStagePosition"),t=R("__overlaySvg");if(!e)return;if(!t){console.warn("No stage svg found.");return}const r=window.innerWidth,n=window.innerHeight;t.setAttribute("viewBox",`0 0 ${r} ${n}`)}function U2(e){const t=z2(e);document.body.appendChild(t),my(t,r=>{r.target.tagName==="path"&&en("overlayClick")}),je("__overlaySvg",t)}function hy(e){const t=R("__overlaySvg");if(!t){U2(e);return}const r=t.firstElementChild;if((r==null?void 0:r.tagName)!=="path")throw new Error("no path element found in stage svg");r.setAttribute("d",fy(e))}function z2(e){const t=window.innerWidth,r=window.innerHeight,n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.classList.add("driver-overlay","driver-overlay-animated"),n.setAttribute("viewBox",`0 0 ${t} ${r}`),n.setAttribute("xmlSpace","preserve"),n.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),n.setAttribute("version","1.1"),n.setAttribute("preserveAspectRatio","xMinYMin slice"),n.style.fillRule="evenodd",n.style.clipRule="evenodd",n.style.strokeLinejoin="round",n.style.strokeMiterlimit="2",n.style.zIndex="10000",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%";const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",fy(e)),i.style.fill=O("overlayColor")||"rgb(0,0,0)",i.style.opacity=`${O("overlayOpacity")}`,i.style.pointerEvents="auto",i.style.cursor="auto",n.appendChild(i),n}function fy(e){const t=window.innerWidth,r=window.innerHeight,n=O("stagePadding")||0,i=O("stageRadius")||0,s=e.width+n*2,a=e.height+n*2,l=Math.min(i,s/2,a/2),u=Math.floor(Math.max(l,0)),c=e.x-n+u,h=e.y-n,d=s-u*2,f=a-u*2;return`M${t},0L0,0L0,${r}L${t},${r}L${t},0Z
    M${c},${h} h${d} a${u},${u} 0 0 1 ${u},${u} v${f} a${u},${u} 0 0 1 -${u},${u} h-${d} a${u},${u} 0 0 1 -${u},-${u} v-${f} a${u},${u} 0 0 1 ${u},-${u} z`}function W2(){const e=R("__overlaySvg");e&&e.remove()}function H2(){const e=document.getElementById("driver-dummy-element");if(e)return e;let t=document.createElement("div");return t.id="driver-dummy-element",t.style.width="0",t.style.height="0",t.style.pointerEvents="none",t.style.opacity="0",t.style.position="fixed",t.style.top="50%",t.style.left="50%",document.body.appendChild(t),t}function Ep(e){const{element:t}=e;let r=typeof t=="function"?t():typeof t=="string"?document.querySelector(t):t;r||(r=H2()),G2(r,e)}function V2(){const e=R("__activeElement"),t=R("__activeStep");e&&(dy(e),F2(),vy(e,t))}function G2(e,t){var r;const n=Date.now(),i=R("__activeStep"),s=R("__activeElement")||e,a=!s||s===e,l=e.id==="driver-dummy-element",u=s.id==="driver-dummy-element",c=O("animate"),h=t.onHighlightStarted||O("onHighlightStarted"),d=(t==null?void 0:t.onHighlighted)||O("onHighlighted"),f=(i==null?void 0:i.onDeselected)||O("onDeselected"),p=O(),m=R();!a&&f&&f(u?void 0:s,i,{config:p,state:m,driver:yt()}),h&&h(l?void 0:e,t,{config:p,state:m,driver:yt()});const y=!a&&c;let x=!1;Y2(),je("previousStep",i),je("previousElement",s),je("activeStep",t),je("activeElement",e);const v=()=>{if(R("__transitionCallback")!==v)return;const g=Date.now()-n,b=400-g<=400/2;t.popover&&b&&!x&&y&&(Pp(e,t),x=!0),O("animate")&&g<400?M2(g,400,s,e):(dy(e),d&&d(l?void 0:e,t,{config:O(),state:R(),driver:yt()}),je("__transitionCallback",void 0),je("__previousStep",i),je("__previousElement",s),je("__activeStep",t),je("__activeElement",e)),window.requestAnimationFrame(v)};je("__transitionCallback",v),window.requestAnimationFrame(v),cy(e),!y&&t.popover&&Pp(e,t),s.classList.remove("driver-active-element","driver-no-interaction"),s.removeAttribute("aria-haspopup"),s.removeAttribute("aria-expanded"),s.removeAttribute("aria-controls"),((r=t.disableActiveInteraction)!=null?r:O("disableActiveInteraction"))&&e.classList.add("driver-no-interaction"),e.classList.add("driver-active-element"),e.setAttribute("aria-haspopup","dialog"),e.setAttribute("aria-expanded","true"),e.setAttribute("aria-controls","driver-popover-content")}function q2(){var e;(e=document.getElementById("driver-dummy-element"))==null||e.remove(),document.querySelectorAll(".driver-active-element").forEach(t=>{t.classList.remove("driver-active-element","driver-no-interaction"),t.removeAttribute("aria-haspopup"),t.removeAttribute("aria-expanded"),t.removeAttribute("aria-controls")})}function xs(){const e=R("__resizeTimeout");e&&window.cancelAnimationFrame(e),je("__resizeTimeout",window.requestAnimationFrame(V2))}function K2(e){var t;if(!R("isInitialized")||!(e.key==="Tab"||e.keyCode===9))return;const r=R("__activeElement"),n=(t=R("popover"))==null?void 0:t.wrapper,i=uy([...n?[n]:[],...r?[r]:[]]),s=i[0],a=i[i.length-1];if(e.preventDefault(),e.shiftKey){const l=i[i.indexOf(document.activeElement)-1]||a;l==null||l.focus()}else{const l=i[i.indexOf(document.activeElement)+1]||s;l==null||l.focus()}}function py(e){var t;((t=O("allowKeyboardControl"))==null||t)&&(e.key==="Escape"?en("escapePress"):e.key==="ArrowRight"?en("arrowRightPress"):e.key==="ArrowLeft"&&en("arrowLeftPress"))}function my(e,t,r){const n=(i,s)=>{const a=i.target;e.contains(a)&&((!r||r(a))&&(i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation()),s==null||s(i))};document.addEventListener("pointerdown",n,!0),document.addEventListener("mousedown",n,!0),document.addEventListener("pointerup",n,!0),document.addEventListener("mouseup",n,!0),document.addEventListener("click",i=>{n(i,t)},!0)}function J2(){window.addEventListener("keyup",py,!1),window.addEventListener("keydown",K2,!1),window.addEventListener("resize",xs),window.addEventListener("scroll",xs)}function Q2(){window.removeEventListener("keyup",py),window.removeEventListener("resize",xs),window.removeEventListener("scroll",xs)}function Y2(){const e=R("popover");e&&(e.wrapper.style.display="none")}function Pp(e,t){var r,n;let i=R("popover");i&&document.body.removeChild(i.wrapper),i=Z2(),document.body.appendChild(i.wrapper);const{title:s,description:a,showButtons:l,disableButtons:u,showProgress:c,nextBtnText:h=O("nextBtnText")||"Next &rarr;",prevBtnText:d=O("prevBtnText")||"&larr; Previous",progressText:f=O("progressText")||"{current} of {total}"}=t.popover||{};i.nextButton.innerHTML=h,i.previousButton.innerHTML=d,i.progress.innerHTML=f,s?(i.title.innerHTML=s,i.title.style.display="block"):i.title.style.display="none",a?(i.description.innerHTML=a,i.description.style.display="block"):i.description.style.display="none";const p=l||O("showButtons"),m=c||O("showProgress")||!1,y=(p==null?void 0:p.includes("next"))||(p==null?void 0:p.includes("previous"))||m;i.closeButton.style.display=p.includes("close")?"block":"none",y?(i.footer.style.display="flex",i.progress.style.display=m?"block":"none",i.nextButton.style.display=p.includes("next")?"block":"none",i.previousButton.style.display=p.includes("previous")?"block":"none"):i.footer.style.display="none";const x=u||O("disableButtons")||[];x!=null&&x.includes("next")&&(i.nextButton.disabled=!0,i.nextButton.classList.add("driver-popover-btn-disabled")),x!=null&&x.includes("previous")&&(i.previousButton.disabled=!0,i.previousButton.classList.add("driver-popover-btn-disabled")),x!=null&&x.includes("close")&&(i.closeButton.disabled=!0,i.closeButton.classList.add("driver-popover-btn-disabled"));const v=i.wrapper;v.style.display="block",v.style.left="",v.style.top="",v.style.bottom="",v.style.right="",v.id="driver-popover-content",v.setAttribute("role","dialog"),v.setAttribute("aria-labelledby","driver-popover-title"),v.setAttribute("aria-describedby","driver-popover-description");const g=i.arrow;g.className="driver-popover-arrow";const b=((r=t.popover)==null?void 0:r.popoverClass)||O("popoverClass")||"";v.className=`driver-popover ${b}`.trim(),my(i.wrapper,_=>{var k,C,D;const M=_.target,te=((k=t.popover)==null?void 0:k.onNextClick)||O("onNextClick"),Q=((C=t.popover)==null?void 0:C.onPrevClick)||O("onPrevClick"),Y=((D=t.popover)==null?void 0:D.onCloseClick)||O("onCloseClick");if(M.closest(".driver-popover-next-btn"))return te?te(e,t,{config:O(),state:R(),driver:yt()}):en("nextClick");if(M.closest(".driver-popover-prev-btn"))return Q?Q(e,t,{config:O(),state:R(),driver:yt()}):en("prevClick");if(M.closest(".driver-popover-close-btn"))return Y?Y(e,t,{config:O(),state:R(),driver:yt()}):en("closeClick")},_=>!(i!=null&&i.description.contains(_))&&!(i!=null&&i.title.contains(_))&&typeof _.className=="string"&&_.className.includes("driver-popover")),je("popover",i);const w=((n=t.popover)==null?void 0:n.onPopoverRender)||O("onPopoverRender");w&&w(i,{config:O(),state:R(),driver:yt()}),vy(e,t),cy(v);const S=e.classList.contains("driver-dummy-element"),N=uy([v,...S?[]:[e]]);N.length>0&&N[0].focus()}function gy(){const e=R("popover");if(!(e!=null&&e.wrapper))return;const t=e.wrapper.getBoundingClientRect(),r=O("stagePadding")||0,n=O("popoverOffset")||0;return{width:t.width+r+n,height:t.height+r+n,realWidth:t.width,realHeight:t.height}}function Dp(e,t){const{elementDimensions:r,popoverDimensions:n,popoverPadding:i,popoverArrowDimensions:s}=t;return e==="start"?Math.max(Math.min(r.top-i,window.innerHeight-n.realHeight-s.width),s.width):e==="end"?Math.max(Math.min(r.top-(n==null?void 0:n.realHeight)+r.height+i,window.innerHeight-(n==null?void 0:n.realHeight)-s.width),s.width):e==="center"?Math.max(Math.min(r.top+r.height/2-(n==null?void 0:n.realHeight)/2,window.innerHeight-(n==null?void 0:n.realHeight)-s.width),s.width):0}function Tp(e,t){const{elementDimensions:r,popoverDimensions:n,popoverPadding:i,popoverArrowDimensions:s}=t;return e==="start"?Math.max(Math.min(r.left-i,window.innerWidth-n.realWidth-s.width),s.width):e==="end"?Math.max(Math.min(r.left-(n==null?void 0:n.realWidth)+r.width+i,window.innerWidth-(n==null?void 0:n.realWidth)-s.width),s.width):e==="center"?Math.max(Math.min(r.left+r.width/2-(n==null?void 0:n.realWidth)/2,window.innerWidth-(n==null?void 0:n.realWidth)-s.width),s.width):0}function vy(e,t){const r=R("popover");if(!r)return;const{align:n="start",side:i="left"}=(t==null?void 0:t.popover)||{},s=n,a=e.id==="driver-dummy-element"?"over":i,l=O("stagePadding")||0,u=gy(),c=r.arrow.getBoundingClientRect(),h=e.getBoundingClientRect(),d=h.top-u.height;let f=d>=0;const p=window.innerHeight-(h.bottom+u.height);let m=p>=0;const y=h.left-u.width;let x=y>=0;const v=window.innerWidth-(h.right+u.width);let g=v>=0;const b=!f&&!m&&!x&&!g;let w=a;if(a==="top"&&f?g=x=m=!1:a==="bottom"&&m?g=x=f=!1:a==="left"&&x?g=f=m=!1:a==="right"&&g&&(x=f=m=!1),a==="over"){const S=window.innerWidth/2-u.realWidth/2,N=window.innerHeight/2-u.realHeight/2;r.wrapper.style.left=`${S}px`,r.wrapper.style.right="auto",r.wrapper.style.top=`${N}px`,r.wrapper.style.bottom="auto"}else if(b){const S=window.innerWidth/2-(u==null?void 0:u.realWidth)/2,N=10;r.wrapper.style.left=`${S}px`,r.wrapper.style.right="auto",r.wrapper.style.bottom=`${N}px`,r.wrapper.style.top="auto"}else if(x){const S=Math.min(y,window.innerWidth-(u==null?void 0:u.realWidth)-c.width),N=Dp(s,{elementDimensions:h,popoverDimensions:u,popoverPadding:l,popoverArrowDimensions:c});r.wrapper.style.left=`${S}px`,r.wrapper.style.top=`${N}px`,r.wrapper.style.bottom="auto",r.wrapper.style.right="auto",w="left"}else if(g){const S=Math.min(v,window.innerWidth-(u==null?void 0:u.realWidth)-c.width),N=Dp(s,{elementDimensions:h,popoverDimensions:u,popoverPadding:l,popoverArrowDimensions:c});r.wrapper.style.right=`${S}px`,r.wrapper.style.top=`${N}px`,r.wrapper.style.bottom="auto",r.wrapper.style.left="auto",w="right"}else if(f){const S=Math.min(d,window.innerHeight-u.realHeight-c.width);let N=Tp(s,{elementDimensions:h,popoverDimensions:u,popoverPadding:l,popoverArrowDimensions:c});r.wrapper.style.top=`${S}px`,r.wrapper.style.left=`${N}px`,r.wrapper.style.bottom="auto",r.wrapper.style.right="auto",w="top"}else if(m){const S=Math.min(p,window.innerHeight-(u==null?void 0:u.realHeight)-c.width);let N=Tp(s,{elementDimensions:h,popoverDimensions:u,popoverPadding:l,popoverArrowDimensions:c});r.wrapper.style.left=`${N}px`,r.wrapper.style.bottom=`${S}px`,r.wrapper.style.top="auto",r.wrapper.style.right="auto",w="bottom"}b?r.arrow.classList.add("driver-popover-arrow-none"):X2(s,w,e)}function X2(e,t,r){const n=R("popover");if(!n)return;const i=r.getBoundingClientRect(),s=gy(),a=n.arrow,l=s.width,u=window.innerWidth,c=i.width,h=i.left,d=s.height,f=window.innerHeight,p=i.top,m=i.height;a.className="driver-popover-arrow";let y=t,x=e;if(t==="top"?(h+c<=0?(y="right",x="end"):h+c-l<=0&&(y="top",x="start"),h>=u?(y="left",x="end"):h+l>=u&&(y="top",x="end")):t==="bottom"?(h+c<=0?(y="right",x="start"):h+c-l<=0&&(y="bottom",x="start"),h>=u?(y="left",x="start"):h+l>=u&&(y="bottom",x="end")):t==="left"?(p+m<=0?(y="bottom",x="end"):p+m-d<=0&&(y="left",x="start"),p>=f?(y="top",x="end"):p+d>=f&&(y="left",x="end")):t==="right"&&(p+m<=0?(y="bottom",x="start"):p+m-d<=0&&(y="right",x="start"),p>=f?(y="top",x="start"):p+d>=f&&(y="right",x="end")),!y)a.classList.add("driver-popover-arrow-none");else{a.classList.add(`driver-popover-arrow-side-${y}`),a.classList.add(`driver-popover-arrow-align-${x}`);const v=r.getBoundingClientRect(),g=a.getBoundingClientRect(),b=O("stagePadding")||0,w=v.left-b<window.innerWidth&&v.right+b>0&&v.top-b<window.innerHeight&&v.bottom+b>0;t==="bottom"&&w&&(g.x>v.x&&g.x+g.width<v.x+v.width?n.wrapper.style.transform="translateY(0)":(a.classList.remove(`driver-popover-arrow-align-${x}`),a.classList.add("driver-popover-arrow-none"),n.wrapper.style.transform=`translateY(-${b/2}px)`))}}function Z2(){const e=document.createElement("div");e.classList.add("driver-popover");const t=document.createElement("div");t.classList.add("driver-popover-arrow");const r=document.createElement("header");r.id="driver-popover-title",r.classList.add("driver-popover-title"),r.style.display="none",r.innerText="Popover Title";const n=document.createElement("div");n.id="driver-popover-description",n.classList.add("driver-popover-description"),n.style.display="none",n.innerText="Popover description is here";const i=document.createElement("button");i.type="button",i.classList.add("driver-popover-close-btn"),i.setAttribute("aria-label","Close"),i.innerHTML="&times;";const s=document.createElement("footer");s.classList.add("driver-popover-footer");const a=document.createElement("span");a.classList.add("driver-popover-progress-text"),a.innerText="";const l=document.createElement("span");l.classList.add("driver-popover-navigation-btns");const u=document.createElement("button");u.type="button",u.classList.add("driver-popover-prev-btn"),u.innerHTML="&larr; Previous";const c=document.createElement("button");return c.type="button",c.classList.add("driver-popover-next-btn"),c.innerHTML="Next &rarr;",l.appendChild(u),l.appendChild(c),s.appendChild(a),s.appendChild(l),e.appendChild(i),e.appendChild(t),e.appendChild(r),e.appendChild(n),e.appendChild(s),{wrapper:e,arrow:t,title:r,description:n,footer:s,previousButton:u,nextButton:c,closeButton:i,footerButtons:l,progress:a}}function e_(){var e;const t=R("popover");t&&((e=t.wrapper.parentElement)==null||e.removeChild(t.wrapper))}function t_(e={}){ou(e);function t(){O("allowClose")&&h()}function r(){const f=O("overlayClickBehavior");if(O("allowClose")&&f==="close"){h();return}f==="nextStep"&&n()}function n(){const f=R("activeIndex"),p=O("steps")||[];if(typeof f>"u")return;const m=f+1;p[m]?c(m):h()}function i(){const f=R("activeIndex"),p=O("steps")||[];if(typeof f>"u")return;const m=f-1;p[m]?c(m):h()}function s(f){(O("steps")||[])[f]?c(f):h()}function a(){var f;if(R("__transitionCallback"))return;const p=R("activeIndex"),m=R("__activeStep"),y=R("__activeElement");if(typeof p>"u"||typeof m>"u"||typeof R("activeIndex")>"u")return;const x=((f=m.popover)==null?void 0:f.onPrevClick)||O("onPrevClick");if(x)return x(y,m,{config:O(),state:R(),driver:yt()});i()}function l(){var f;if(R("__transitionCallback"))return;const p=R("activeIndex"),m=R("__activeStep"),y=R("__activeElement");if(typeof p>"u"||typeof m>"u")return;const x=((f=m.popover)==null?void 0:f.onNextClick)||O("onNextClick");if(x)return x(y,m,{config:O(),state:R(),driver:yt()});n()}function u(){R("isInitialized")||(je("isInitialized",!0),document.body.classList.add("driver-active",O("animate")?"driver-fade":"driver-simple"),J2(),ya("overlayClick",r),ya("escapePress",t),ya("arrowLeftPress",a),ya("arrowRightPress",l))}function c(f=0){var p,m,y,x,v,g,b,w;const S=O("steps");if(!S){console.error("No steps to drive through"),h();return}if(!S[f]){h();return}je("__activeOnDestroyed",document.activeElement),je("activeIndex",f);const N=S[f],_=S[f+1],k=S[f-1],C=((p=N.popover)==null?void 0:p.doneBtnText)||O("doneBtnText")||"Done",D=O("allowClose"),M=typeof((m=N.popover)==null?void 0:m.showProgress)<"u"?(y=N.popover)==null?void 0:y.showProgress:O("showProgress"),te=(((x=N.popover)==null?void 0:x.progressText)||O("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${f+1}`).replace("{{total}}",`${S.length}`),Q=((v=N.popover)==null?void 0:v.showButtons)||O("showButtons"),Y=["next","previous",...D?["close"]:[]].filter(T=>!(Q!=null&&Q.length)||Q.includes(T)),Oe=((g=N.popover)==null?void 0:g.onNextClick)||O("onNextClick"),we=((b=N.popover)==null?void 0:b.onPrevClick)||O("onPrevClick"),dt=((w=N.popover)==null?void 0:w.onCloseClick)||O("onCloseClick");Ep({...N,popover:{showButtons:Y,nextBtnText:_?void 0:C,disableButtons:[...k?[]:["previous"]],showProgress:M,progressText:te,onNextClick:Oe||(()=>{_?c(f+1):h()}),onPrevClick:we||(()=>{c(f-1)}),onCloseClick:dt||(()=>{h()}),...(N==null?void 0:N.popover)||{}}})}function h(f=!0){const p=R("__activeElement"),m=R("__activeStep"),y=R("__activeOnDestroyed"),x=O("onDestroyStarted");if(f&&x){const b=!p||(p==null?void 0:p.id)==="driver-dummy-element";x(b?void 0:p,m,{config:O(),state:R(),driver:yt()});return}const v=(m==null?void 0:m.onDeselected)||O("onDeselected"),g=O("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),Q2(),e_(),q2(),W2(),R2(),kp(),p&&m){const b=p.id==="driver-dummy-element";v&&v(b?void 0:p,m,{config:O(),state:R(),driver:yt()}),g&&g(b?void 0:p,m,{config:O(),state:R(),driver:yt()})}y&&y.focus()}const d={isActive:()=>R("isInitialized")||!1,refresh:xs,drive:(f=0)=>{u(),c(f)},setConfig:ou,setSteps:f=>{kp(),ou({...O(),steps:f})},getConfig:O,getState:R,getActiveIndex:()=>R("activeIndex"),isFirstStep:()=>R("activeIndex")===0,isLastStep:()=>{const f=O("steps")||[],p=R("activeIndex");return p!==void 0&&p===f.length-1},getActiveStep:()=>R("activeStep"),getActiveElement:()=>R("activeElement"),getPreviousElement:()=>R("previousElement"),getPreviousStep:()=>R("previousStep"),moveNext:n,movePrevious:i,moveTo:s,hasNextStep:()=>{const f=O("steps")||[],p=R("activeIndex");return p!==void 0&&!!f[p+1]},hasPreviousStep:()=>{const f=O("steps")||[],p=R("activeIndex");return p!==void 0&&!!f[p-1]},highlight:f=>{u(),Ep({...f,popover:f.popover?{showButtons:[],showProgress:!1,progressText:"",...f.popover}:void 0})},destroy:()=>{h(!1)}};return A2(d),d}function fn({onComplete:e}){return j.useEffect(()=>{const t=t_({showProgress:!0,steps:[{element:'[data-tour="overview"]',popover:{title:"Overview Dashboard",description:"This is your performance overview  active cases, earnings, ratings, and reminders.",side:"right",align:"start"}},{element:'[data-tour="cases"]',popover:{title:"Cases",description:"View all cases you're working on or applied for with detailed progress tracking.",side:"right",align:"start"}},{element:'[data-tour="haki-lens"]',popover:{title:"HakiLens",description:"Search case law with AI-powered deep research. Auto-detect, crawl listings, or research single cases.",side:"right",align:"start"}},{element:'[data-tour="haki-draft"]',popover:{title:"HakiDraft",description:"Generate professional legal documents with AI assistance across multiple practice areas.",side:"right",align:"start"}},{element:'[data-tour="haki-review"]',popover:{title:"HakiReview",description:"Upload and analyze legal documents with AI-powered review and chat assistance.",side:"right",align:"start"}},{element:'[data-tour="haki-reminders"]',popover:{title:"HakiReminders",description:"Never miss a deadline with AI-powered reminders and Kanban workflow management.",side:"right",align:"start"}},{element:'[data-tour="documents"]',popover:{title:"Documents",description:"Central repository for all your case documents, searchable and organized.",side:"right",align:"start"}}],onDestroyStarted:()=>{t.destroy(),e()}});return t.drive(),()=>{t.destroy()}},[e]),null}function Lr({onTourStart:e}){const[t,r]=j.useState(!0),n=li(),i=[{id:"overview",label:"Overview",icon:n2,href:"/dashboard"},{id:"cases",label:"Cases",icon:qi,href:"/cases"},{id:"haki-lens",label:"HakiLens",icon:Pr,href:"/haki-lens"},{id:"haki-draft",label:"HakiDraft",icon:Zd,href:"/haki-draft"},{id:"haki-review",label:"HakiReview",icon:Qd,href:"/haki-review"},{id:"haki-reminders",label:"HakiReminders",icon:Ht,href:"/haki-reminders"},{id:"documents",label:"Documents",icon:nr,href:"/haki-docs"}],s=a=>n.pathname===a;return o.jsx("aside",{className:`fixed left-0 top-0 h-screen bg-white border-r border-gray-200 transition-all duration-300 z-50 ${t?"w-[280px]":"w-[64px]"}`,style:{overflowY:"auto"},children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:t?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-500 to-emerald-600 rounded-lg flex items-center justify-center text-white font-bold text-lg",children:"HC"}),o.jsx("span",{className:"font-bold text-gray-900 text-lg",children:"HakiChain"})]}),o.jsx("button",{onClick:()=>r(!1),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition",title:"Collapse sidebar",children:o.jsx(JN,{className:"w-5 h-5"})})]}):o.jsx("button",{onClick:()=>r(!0),className:"w-full p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition flex items-center justify-center",title:"Expand sidebar",children:o.jsx(QN,{className:"w-5 h-5"})})}),o.jsx("nav",{className:"flex-1 py-4 px-3 space-y-1",children:i.map(a=>o.jsxs(H,{to:a.href,"data-tour":a.id,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition group ${s(a.href)?"bg-teal-50 text-teal-700 font-medium border-l-4 border-teal-600":"text-gray-700 hover:bg-gray-50 border-l-4 border-transparent"}`,title:t?void 0:a.label,children:[o.jsx(a.icon,{className:"w-5 h-5 flex-shrink-0"}),t&&o.jsx("span",{className:"text-sm",children:a.label})]},a.id))}),o.jsxs("div",{className:"border-t border-gray-200 p-3 space-y-1",children:[o.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 transition text-left",title:t?void 0:"Take Tour",children:[o.jsx(iy,{className:"w-5 h-5 flex-shrink-0"}),t&&o.jsx("span",{className:"text-sm",children:"Take Tour"})]}),o.jsxs(H,{to:"/settings",className:"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 transition",title:t?void 0:"Settings",children:[o.jsx(h2,{className:"w-5 h-5 flex-shrink-0"}),t&&o.jsx("span",{className:"text-sm",children:"Settings"})]})]})]})})}function r_(){const{profile:e}=He(),[t,r]=j.useState([]),[n,i]=j.useState([]),[s,a]=j.useState([]),[l,u]=j.useState([]),[c,h]=j.useState(!0),[d,f]=j.useState(!1),[p]=fj(),m=p.get("tab")||"overview";j.useEffect(()=>{e&&(y(),!localStorage.getItem(`tour-seen-${e.id}`)&&e.user_type==="lawyer"&&f(!0))},[e]);async function y(){try{if((e==null?void 0:e.user_type)==="ngo"){const{data:x,error:v}=await J.from("bounties").select("*").eq("ngo_id",e.id).order("created_at",{ascending:!1});if(v)throw v;r(x||[])}else if((e==null?void 0:e.user_type)==="lawyer"){const[x,v,g,b]=await Promise.all([J.from("applications").select("*, bounties(*)").eq("lawyer_id",e.id).order("applied_at",{ascending:!1}),J.from("milestones").select("*, bounties!inner(*)").eq("bounties.ngo_id",e.id).order("created_at",{ascending:!1}),J.from("bounties").select("*").eq("status","open").order("created_at",{ascending:!1}).limit(5),J.from("reminders").select("*").eq("lawyer_id",e.id).eq("status","scheduled").order("scheduled_date",{ascending:!0})]);if(x.error)throw x.error;if(v.error)throw v.error;if(g.error)throw g.error;b.error?(console.error("Error loading reminders:",b.error),u([])):u(b.data||[]),i(x.data||[]),a(v.data||[]),r(g.data||[])}}catch(x){console.error("Error loading dashboard:",x)}finally{h(!1)}}return c?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-block w-8 h-8 border-4 border-teal-600 border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):(e==null?void 0:e.user_type)==="ngo"?o.jsx(n_,{bounties:t,onRefresh:y}):(e==null?void 0:e.user_type)==="lawyer"?o.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[d&&o.jsx(fn,{onComplete:()=>{localStorage.setItem(`tour-seen-${e.id}`,"true"),f(!1)}}),o.jsx(Lr,{onTourStart:()=>f(!0)}),o.jsx("div",{className:"flex-1 ml-[280px]",children:o.jsx(i_,{applications:n,milestones:s,recommendedCases:t,reminders:l,profile:e,activeTab:m})})]}):(e==null?void 0:e.user_type)==="donor"?o.jsx(l_,{}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("p",{className:"text-gray-600",children:"Please complete your profile to access the dashboard"})})}function n_({bounties:e,onRefresh:t}){const[r,n]=j.useState(!1),i={total:e.length,open:e.filter(s=>s.status==="open").length,inProgress:e.filter(s=>s.status==="in_progress").length,completed:e.filter(s=>s.status==="completed").length,totalFunding:e.reduce((s,a)=>s+a.funding_goal,0)};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"NGO Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Manage your legal bounties and track progress"})]}),o.jsxs("button",{onClick:()=>n(!0),className:"bg-teal-600 hover:bg-teal-700 text-white px-6 py-3 rounded-lg font-medium transition flex items-center gap-2",children:[o.jsx(Qo,{className:"w-5 h-5"}),"Create Bounty"]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(Jt,{icon:o.jsx(qi,{className:"w-6 h-6"}),label:"Total Cases",value:i.total}),o.jsx(Jt,{icon:o.jsx(Ht,{className:"w-6 h-6"}),label:"Open Cases",value:i.open,color:"blue"}),o.jsx(Jt,{icon:o.jsx(m2,{className:"w-6 h-6"}),label:"In Progress",value:i.inProgress,color:"yellow"}),o.jsx(Jt,{icon:o.jsx(Ko,{className:"w-6 h-6"}),label:"Completed",value:i.completed,color:"green"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-6",children:"Your Bounties"}),e.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't created any bounties yet"}),o.jsx("button",{onClick:()=>n(!0),className:"text-teal-600 hover:text-teal-700 font-medium",children:"Create your first bounty"})]}):o.jsx("div",{className:"space-y-4",children:e.map(s=>o.jsx(s_,{bounty:s},s.id))})]})]}),r&&o.jsx(a_,{onClose:()=>n(!1),onSuccess:t})]})}function i_({applications:e,milestones:t,recommendedCases:r,reminders:n,profile:i,activeTab:s}){const a={applications:e.length,accepted:e.filter(u=>u.status==="accepted").length,pending:e.filter(u=>u.status==="pending").length,activeCases:e.filter(u=>u.status==="accepted").length,successRate:85,earnings:25e3},l=[{type:"milestone",title:"Milestone completed: Initial Documentation",case:"Land Rights Case",time:"2 days ago"},{type:"case",title:"New case assigned: Environmental Justice",case:"",time:"3 days ago"},{type:"rating",title:"Received 5-star rating",case:"Domestic Violence Case",time:"1 week ago"}];return o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 md:pl-0",children:[o.jsx("div",{className:"bg-white border-b border-gray-200",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-1",children:["Welcome back, ",i.full_name]}),o.jsx("p",{className:"text-gray-600",children:"Here's an overview of your cases and performance"})]}),o.jsxs(H,{to:"/bounties",className:"bg-teal-600 hover:bg-teal-700 text-white px-6 py-3 rounded-lg font-medium transition flex items-center gap-2",children:[o.jsx(Qo,{className:"w-5 h-5"}),"Browse Bounties"]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsx(Jt,{label:"Active Cases",value:a.activeCases,icon:o.jsx(qi,{className:"w-6 h-6"}),color:"bg-teal-50",iconColor:"text-teal-600"}),o.jsx(Jt,{label:"Success Rate",value:`${a.successRate}%`,change:"+5% from average",icon:o.jsx(f2,{className:"w-6 h-6"}),color:"bg-blue-50",iconColor:"text-blue-600"}),o.jsx(Jt,{label:"Rating",value:"4.8/5.0",change:"Top 10% of lawyers",icon:o.jsx(Cp,{className:"w-6 h-6"}),color:"bg-yellow-50",iconColor:"text-yellow-600"}),o.jsx(Jt,{label:"Total Earnings",value:`$${a.earnings.toLocaleString()}`,change:"+12.5% from last month",icon:o.jsx(Jo,{className:"w-6 h-6"}),color:"bg-green-50",iconColor:"text-green-600"}),o.jsx(Jt,{label:"Due Today",value:0,icon:o.jsx(Ht,{className:"w-6 h-6"}),color:"bg-red-50",iconColor:"text-red-600"})]})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[s==="overview"&&o.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsx(o_,{reminders:n,profile:i}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Active Cases"}),e.filter(u=>u.status==="accepted").length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Jd,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"No active cases yet"}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Start by browsing available bounties"}),o.jsx(H,{to:"/bounties",className:"inline-block bg-teal-600 hover:bg-teal-700 text-white px-6 py-2 rounded-lg font-medium transition",children:"Browse Bounties"})]}):o.jsx("div",{className:"space-y-3",children:e.filter(u=>u.status==="accepted").map(u=>{var c,h;return o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-teal-300 transition",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:((c=u.bounties)==null?void 0:c.title)||"Case Title"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:((h=u.bounties)==null?void 0:h.category)||"Category"})]},u.id)})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Recent Activity"}),o.jsx("a",{href:"#",className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"View All "})]}),o.jsx("div",{className:"space-y-4",children:l.map((u,c)=>o.jsxs("div",{className:"flex gap-3 pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[o.jsxs("div",{className:"flex-shrink-0 w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center",children:[u.type==="milestone"&&o.jsx(Ko,{className:"w-4 h-4 text-teal-600"}),u.type==="case"&&o.jsx(qi,{className:"w-4 h-4 text-teal-600"}),u.type==="rating"&&o.jsx(Cp,{className:"w-4 h-4 text-teal-600"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.title}),u.case&&o.jsx("p",{className:"text-xs text-gray-500",children:u.case}),o.jsx("p",{className:"text-xs text-gray-500",children:u.time})]})]},c))})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Recommended Cases"}),o.jsx(H,{to:"/bounties",className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"View All "})]}),o.jsx("div",{className:"space-y-3",children:r.length===0?o.jsx("p",{className:"text-gray-500 text-sm",children:"No available cases at the moment"}):r.map(u=>o.jsxs(H,{to:`/bounties/${u.id}`,className:"block border border-gray-200 rounded-lg p-3 hover:border-teal-300 transition",children:[o.jsx("h4",{className:"font-medium text-sm text-gray-900",children:u.title}),o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:u.category}),o.jsxs("p",{className:"text-sm font-medium text-teal-600 mt-2",children:["$",u.funding_goal.toLocaleString()]})]},u.id))})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Application Status"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Active Applications"}),o.jsx("p",{className:"text-2xl font-bold text-teal-600 mt-2",children:e.filter(u=>u.status==="pending").length})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Accepted"}),o.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:e.filter(u=>u.status==="accepted").length})]})]}),o.jsx("a",{href:"#",className:"inline-block mt-4 text-teal-600 hover:text-teal-700 text-sm font-medium",children:"View Details "})]})]})]}),s==="haki-lens"&&o.jsx(wn,{icon:o.jsx(Pr,{className:"w-12 h-12"}),title:"HakiLens - Legal Research",description:"AI-powered legal research hub for case law and precedents"}),s==="haki-draft"&&o.jsx(wn,{icon:o.jsx(Zd,{className:"w-12 h-12"}),title:"HakiDraft - AI Document Generator",description:"Generate professional legal documents with AI assistance"}),s==="haki-review"&&o.jsx(wn,{icon:o.jsx(Qd,{className:"w-12 h-12"}),title:"HakiReview - Document Analysis",description:"AI-powered document analysis and legal review"}),s==="haki-reminders"&&o.jsx(wn,{icon:o.jsx(Ht,{className:"w-12 h-12"}),title:"HakiReminders - Task Management",description:"Calendar-based task and deadline manager"}),s==="documents"&&o.jsx(wn,{icon:o.jsx(nr,{className:"w-12 h-12"}),title:"HakiDocs - Document Repository",description:"Secure repository for uploading and managing legal files"}),s==="cases"&&o.jsx(wn,{icon:o.jsx(qi,{className:"w-12 h-12"}),title:"Cases Management",description:"Manage all your legal cases and track progress"})]})]})}function wn({icon:e,title:t,description:r}){return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[o.jsx("div",{className:"text-teal-600 flex justify-center mb-4",children:e}),o.jsx("h2",{className:"text-3xl font-bold mb-2",children:t}),o.jsx("p",{className:"text-gray-600 mb-6",children:r}),o.jsx("p",{className:"text-gray-500",children:"Coming soon..."})]})}function Jt({label:e,value:t,change:r,icon:n,color:i="bg-gray-50",iconColor:s="text-gray-600"}){return o.jsxs("div",{className:`${i} rounded-lg p-4 border border-gray-200`,children:[o.jsx("div",{className:`${s} mb-3`,children:n}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t}),o.jsx("div",{className:"text-xs text-gray-600 mt-1",children:e}),r&&o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:r})]})}function s_({bounty:e}){const t={open:"bg-blue-100 text-blue-700",in_progress:"bg-yellow-100 text-yellow-700",completed:"bg-green-100 text-green-700",cancelled:"bg-gray-100 text-gray-700"};return o.jsxs(H,{to:`/bounties/${e.id}`,className:"block border border-gray-200 rounded-lg p-4 hover:border-teal-300 transition",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h3",{className:"font-bold",children:e.title}),o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${t[e.status]}`,children:e.status.replace("_"," ")})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:e.jurisdiction}),o.jsxs("span",{className:"font-bold text-teal-600",children:["$",e.funding_goal.toLocaleString()]})]})]})}function a_({onClose:e,onSuccess:t}){const{profile:r}=He(),[n,i]=j.useState({title:"",description:"",jurisdiction:"",category:"",fundingGoal:"",deadline:"",tags:""}),[s,a]=j.useState(!1);async function l(u){u.preventDefault(),a(!0);try{const{error:c}=await J.from("bounties").insert({ngo_id:r==null?void 0:r.id,title:n.title,description:n.description,jurisdiction:n.jurisdiction,category:n.category,funding_goal:Number.parseInt(n.fundingGoal),deadline:n.deadline||null,tags:n.tags.split(",").map(h=>h.trim()).filter(Boolean)});if(c)throw c;t(),e()}catch(c){console.error("Error creating bounty:",c),alert("Failed to create bounty")}finally{a(!1)}}return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:o.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-6 my-8",children:[o.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Create New Bounty"}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Case Title"}),o.jsx("input",{type:"text",value:n.title,onChange:u=>i({...n,title:u.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Land Rights Dispute"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:n.description,onChange:u=>i({...n,description:u.target.value}),required:!0,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Detailed description of the legal case..."})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jurisdiction"}),o.jsx("input",{type:"text",value:n.jurisdiction,onChange:u=>i({...n,jurisdiction:u.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Eastern Province, Kenya"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{value:n.category,onChange:u=>i({...n,category:u.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select category"}),o.jsx("option",{value:"Land Rights",children:"Land Rights"}),o.jsx("option",{value:"Domestic Violence",children:"Domestic Violence"}),o.jsx("option",{value:"Environmental Justice",children:"Environmental Justice"}),o.jsx("option",{value:"Labor Rights",children:"Labor Rights"}),o.jsx("option",{value:"Child Protection",children:"Child Protection"}),o.jsx("option",{value:"Other",children:"Other"})]})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funding Goal (USD)"}),o.jsx("input",{type:"number",value:n.fundingGoal,onChange:u=>i({...n,fundingGoal:u.target.value}),required:!0,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"2500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deadline (Optional)"}),o.jsx("input",{type:"date",value:n.deadline,onChange:u=>i({...n,deadline:u.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),o.jsx("input",{type:"text",value:n.tags,onChange:u=>i({...n,tags:u.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"land rights, indigenous communities, corporate accountability"})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 rounded-lg font-medium transition",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:s,className:"flex-1 bg-teal-600 hover:bg-teal-700 text-white py-3 rounded-lg font-medium transition disabled:opacity-50",children:s?"Creating...":"Create Bounty"})]})]})]})})}function o_({reminders:e,profile:t}){const r=new Date().toISOString().split("T")[0],n=new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0],i=e.filter(l=>l.scheduled_date===r),s=e.filter(l=>l.scheduled_date>r&&l.scheduled_date<=n),a=i.length>0;return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Automated Reminder System"}),o.jsx(H,{to:"/haki-reminders",children:o.jsx(Ht,{className:"w-5 h-5 text-gray-400 hover:text-teal-600 transition cursor-pointer"})})]}),o.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-2",children:[o.jsx(H,{to:"/haki-reminders",className:"flex-1 min-w-[200px]",children:o.jsxs("div",{className:`bg-blue-50 border ${a?"border-blue-500":"border-blue-300"} rounded-xl p-4 hover:shadow-md transition`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("div",{className:"text-sm text-blue-700 font-medium",children:"Due Today"}),a&&o.jsx(Jd,{className:"w-4 h-4 text-blue-600"})]}),o.jsx("div",{className:"text-3xl font-bold text-blue-900",children:i.length}),a&&o.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Action required!"})]})}),o.jsx(H,{to:"/haki-reminders",className:"flex-1 min-w-[200px]",children:o.jsxs("div",{className:"bg-purple-50 border border-purple-300 rounded-xl p-4 hover:shadow-md transition",children:[o.jsx("div",{className:"text-sm text-purple-700 font-medium mb-2",children:"Upcoming (7 days)"}),o.jsx("div",{className:"text-3xl font-bold text-purple-900",children:s.length})]})}),o.jsx("div",{className:"flex-1 min-w-[200px]",children:o.jsxs("div",{className:"bg-green-50 border border-green-300 rounded-xl p-4",children:[o.jsx("div",{className:"text-sm text-green-700 font-medium mb-2",children:"Last Check"}),o.jsx("div",{className:"text-sm text-green-900",children:t!=null&&t.last_reminder_check?new Date(t.last_reminder_check).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"Never"}),(t==null?void 0:t.last_reminder_check)&&Date.now()-new Date(t.last_reminder_check).getTime()>24*60*60*1e3&&o.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-pink-200 text-pink-800 text-xs rounded-full",children:"Inactive"})]})})]}),a&&o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs(H,{to:"/haki-reminders",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition",children:[o.jsx(Ht,{className:"w-4 h-4"}),"Process Due Reminders"]})})]})}function l_(){return o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Donor Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Support legal cases and track your impact"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[o.jsx(Jo,{className:"w-16 h-16 mx-auto mb-4 text-teal-600"}),o.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Start Making an Impact"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Browse available legal cases and support those in need"}),o.jsx(H,{to:"/bounties",className:"inline-block bg-teal-600 hover:bg-teal-700 text-white px-8 py-3 rounded-lg font-medium transition",children:"Browse Cases"})]})]})})}function u_(){const[e,t]=j.useState({bounties:!1,matching:!1,funding:!1,communication:!1,compliance:!1}),r=n=>{t(i=>({...i,[n]:!i[n]}))};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-gradient-to-br from-teal-700 to-blue-800 text-white py-16",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Documentation"}),o.jsx("p",{className:"text-xl text-teal-100",children:"Everything you need to know about using HakiChain"})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[o.jsx("div",{className:"mb-12",children:o.jsx("input",{type:"text",placeholder:"Search documentation...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:[o.jsx(jn,{icon:o.jsx(GN,{className:"w-8 h-8 text-teal-600"}),title:"Getting Started",items:["Introduction to HakiChain","Quick Start Guide","Platform Overview","Whitepaper"]}),o.jsx(jn,{icon:o.jsx(Ki,{className:"w-8 h-8 text-blue-600"}),title:"User Guides",items:["For NGOs","For Lawyers","For Donors"]}),o.jsx(jn,{icon:o.jsx(YN,{className:"w-8 h-8 text-purple-600"}),title:"Technical Documentation",items:["Smart Contracts","API Reference","Blockchain Integration"]}),o.jsx(jn,{icon:o.jsx(Zr,{className:"w-8 h-8 text-green-600"}),title:"Platform Features",items:["Legal Bounties","Milestone System","Lawyer Matching"]}),o.jsx(jn,{icon:o.jsx(go,{className:"w-8 h-8 text-red-600"}),title:"Legal & Compliance",items:["Terms of Service","Privacy Policy","Data Protection Policy","KYC/AML Policy","Consumer Protection Policy"]}),o.jsx(jn,{icon:o.jsx(iy,{className:"w-8 h-8 text-yellow-600"}),title:"Support",items:["FAQ","Contact Support","Community Forum"]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(Ci,{title:"Legal Bounties - Complete Guide",isExpanded:e.bounties,onToggle:()=>r("bounties"),icon:o.jsx(Zr,{className:"w-6 h-6"}),children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-3",children:"What are Legal Bounties?"}),o.jsx("p",{className:"text-gray-700",children:"Legal bounties are crowdfunded legal cases where donors contribute funds to support specific legal actions, and lawyers compete to take on those cases. The system ensures transparency, accountability, and fair compensation for all parties involved."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-4",children:"Key Features"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(ba,{title:"Transparent Funding",items:["No minimum contribution","Anonymous options available","Tax-deductible receipts"]}),o.jsx(ba,{title:"Milestone-Based Payments",items:["Competitive lawyer selection","Milestone-based payments","Escrow protection"]}),o.jsx(ba,{title:"Benefits for Legal Access",items:["Access to quality legal representation","Transparent cost structure","Community-driven justice"]}),o.jsx(ba,{title:"Benefits for Organizations",items:["Larger contribution amounts","Strategic partnerships","Impact reporting"]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-4",children:"Bounty Lifecycle"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(wa,{number:"1",title:"Creation",description:"NGO or individual creates a bounty with funding goal. Timeline: 1-2 days. Role: NGO/Individual"}),o.jsx(wa,{number:"2",title:"Funding",description:"Donors contribute funds to reach funding goal. Timeline: 7-30 days. Role: Donors"}),o.jsx(wa,{number:"3",title:"Selection",description:"Lawyers apply and the best candidate is chosen. Timeline: 3-7 days. Role: Lawyers"}),o.jsx(wa,{number:"4",title:"Resolution",description:"Case proceeds with milestone-based progress updates. Timeline: Variable. Role: Lawyer + Client"})]})]})]})}),o.jsx(Ci,{title:"Lawyer Matching - AI-Powered System",isExpanded:e.matching,onToggle:()=>r("matching"),icon:o.jsx(Ki,{className:"w-6 h-6"}),children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-3",children:"How Lawyer Matching Works"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"Our advanced AI matching algorithm analyzes multiple factors including practice area expertise, geographic compatibility, experience level, availability, reputation, and fee structure to find the perfect lawyer-case fit."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-4",children:"Matching Algorithm Factors"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(Ip,{title:"Primary Factors (Weight: 60%)",items:["Practice Area Match","Geographic Compatibility","Experience Level"]}),o.jsx(Ip,{title:"Secondary Factors (Weight: 40%)",items:["Reputation Score","Availability","Fee Compatibility"]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-3",children:"Lawyer Profile Components"}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("ul",{className:"space-y-3",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Professional Credentials:"})," Law degree, bar admission, practice areas, years of experience"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Performance Metrics:"})," Case success rate, client satisfaction, average case duration"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Personal Information:"})," Languages spoken, communication preferences, availability, personal approach"]})]})})]})]})}),o.jsx(Ci,{title:"Funding Mechanisms & Lawyer Selection",isExpanded:e.funding,onToggle:()=>r("funding"),icon:o.jsx(Zr,{className:"w-6 h-6"}),children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-4",children:"How Bounties Get Funded"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsx(lu,{title:"Individual Donations",items:["No minimum contribution","Anonymous options","Tax-deductible receipts"]}),o.jsx(lu,{title:"NGO Funding",items:["Larger amounts","Strategic partnerships","Impact reporting"]}),o.jsx(lu,{title:"Corporate Sponsorship",items:["CSR benefits","Brand visibility","Legal expertise access"]})]})]}),o.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-bold mb-3 text-teal-900",children:"Milestone System"}),o.jsx("p",{className:"text-teal-800 mb-4",children:"Payments are released based on predefined milestones to ensure accountability and progress tracking:"}),o.jsxs("ul",{className:"space-y-2 text-teal-800",children:[o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Initial Retainer (20%):"})," Released upon lawyer selection"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Milestone Payments:"})," Released as work is completed and verified"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Final Payment (Remaining):"})," Released upon case completion and verification"]})]})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-bold mb-3 text-blue-900",children:"Escrow Protection"}),o.jsx("p",{className:"text-blue-800",children:"All funds are held in smart contract escrow until milestones are verified and approved, ensuring protection for both lawyers and clients."})]})]})}),o.jsx(Ci,{title:"Communication & Coordination",isExpanded:e.communication,onToggle:()=>r("communication"),icon:o.jsx(Ki,{className:"w-6 h-6"}),children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-4",children:"Best Practices"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(Op,{title:"For Lawyers",items:["Profile Optimization - Keep information current","Application Strategy - Tailor to specific cases","Maintain high response rates","Show commitment to client success"]}),o.jsx(Op,{title:"For Clients",items:["Case Preparation - Provide detailed information","Define timeline requirements","Set clear expectations and goals","Establish budget constraints"]})]})]}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-bold mb-3 text-yellow-900",children:"Quality Assurance Process"}),o.jsxs("ul",{className:"space-y-2 text-yellow-800",children:[o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Credential Verification:"})," Bar admission and license status checks"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Performance Monitoring:"})," Case outcome tracking and client satisfaction"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Continuous Improvement:"})," Regular feedback and algorithm refinement"]})]})]})]})}),o.jsx(Ci,{title:"Legal & Compliance",isExpanded:e.compliance,onToggle:()=>r("compliance"),icon:o.jsx(go,{className:"w-6 h-6"}),children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-4",children:"Important Documents"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(Sn,{title:"Terms of Service",description:"Legal terms and conditions of platform use"}),o.jsx(Sn,{title:"Privacy Policy",description:"How we handle and protect your data"}),o.jsx(Sn,{title:"Data Protection Policy",description:"GDPR and data protection compliance"}),o.jsx(Sn,{title:"KYC/AML Policy",description:"Know Your Customer and Anti-Money Laundering procedures"}),o.jsx(Sn,{title:"Consumer Protection",description:"Consumer rights and protections"}),o.jsx(Sn,{title:"Platform Guidelines",description:"Code of conduct and platform rules"})]})]}),o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-bold mb-3 text-red-900",children:"Security & Blockchain"}),o.jsxs("ul",{className:"space-y-2 text-red-800",children:[o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Smart Contract Escrow:"})," Secure and transparent fund handling"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Document Verification:"})," Blockchain-verified, tamper-proof records"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Wallet Integration:"})," MetaMask and WalletConnect support"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Immutable Records:"})," All transactions permanently recorded on-chain"]})]})]})]})})]})]})]})}function Ci({title:e,isExpanded:t,onToggle:r,icon:n,children:i}){return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[o.jsxs("button",{onClick:r,className:"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-teal-600",children:n}),o.jsx("h2",{className:"text-xl font-bold text-left",children:e})]}),o.jsx(KN,{className:`w-6 h-6 text-gray-600 transition-transform ${t?"rotate-180":""}`})]}),t&&o.jsx("div",{className:"border-t border-gray-200 px-6 py-6",children:i})]})}function jn({icon:e,title:t,items:r}){return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition",children:[o.jsx("div",{className:"mb-4",children:e}),o.jsx("h3",{className:"text-lg font-bold mb-4",children:t}),o.jsx("ul",{className:"space-y-2",children:r.map((n,i)=>o.jsx("li",{children:o.jsxs("button",{className:"text-sm text-gray-700 hover:text-teal-600 transition flex items-center gap-2",children:[o.jsx("span",{className:"text-teal-400",children:""}),n]})},i))})]})}function ba({title:e,items:t}){return o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-teal-300 transition",children:[o.jsx("h4",{className:"font-bold mb-2 text-gray-900",children:e}),o.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:t.map((r,n)=>o.jsx("li",{children:r},n))})]})}function Ip({title:e,items:t}){return o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-bold mb-3 text-gray-900",children:e}),o.jsx("ul",{className:"space-y-2",children:t.map((r,n)=>o.jsxs("li",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-teal-600 rounded-full"}),r]},n))})]})}function lu({title:e,items:t}){return o.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-blue-50 border border-teal-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-bold mb-3 text-teal-900",children:e}),o.jsx("ul",{className:"space-y-2",children:t.map((r,n)=>o.jsxs("li",{className:"text-sm text-teal-800",children:[" ",r]},n))})]})}function Op({title:e,items:t}){return o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-bold mb-3 text-blue-900",children:e}),o.jsx("ul",{className:"space-y-2",children:t.map((r,n)=>o.jsxs("li",{className:"text-sm text-blue-800",children:[" ",r]},n))})]})}function wa({number:e,title:t,description:r}){const i=["bg-teal-100 text-teal-700","bg-blue-100 text-blue-700","bg-purple-100 text-purple-700","bg-green-100 text-green-700"][Number(e)-1];return o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 font-bold ${i}`,children:e}),o.jsxs("div",{className:"pt-1",children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:t}),o.jsx("p",{className:"text-sm text-gray-600",children:r})]})]})}function Sn({title:e,description:t}){return o.jsxs("button",{className:"text-left bg-gray-50 hover:bg-gray-100 border border-gray-200 hover:border-teal-300 rounded-lg p-4 transition",children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:e}),o.jsx("p",{className:"text-sm text-gray-600",children:t})]})}function c_(){const{user:e,isAdmin:t}=He(),r=dn(),[n,i]=j.useState([]),[s,a]=j.useState(!0),[l,u]=j.useState({total:0,pending:0,approved:0}),{signOut:c}=He();j.useEffect(()=>{if(!t){r("/login");return}h()},[t,r]);async function h(){try{const{data:m,error:y}=await J.from("applications").select(`
          *,
          profiles!applications_lawyer_id_fkey(email),
          bounties!applications_bounty_id_fkey(title)
        `).order("applied_at",{ascending:!1});if(y)throw y;const x=(m==null?void 0:m.map(b=>{var w,S;return{id:b.id,lawyer_id:b.lawyer_id,bounty_id:b.bounty_id,proposal:b.proposal,status:b.status,created_at:b.applied_at,lawyer_email:((w=b.profiles)==null?void 0:w.email)||"Unknown",bounty_title:((S=b.bounties)==null?void 0:S.title)||"Unknown Case"}}))||[];i(x);const v=(m==null?void 0:m.filter(b=>b.status==="pending").length)||0,g=(m==null?void 0:m.filter(b=>b.status==="approved").length)||0;u({total:(m==null?void 0:m.length)||0,pending:v,approved:g})}catch(m){console.error("Error loading applications:",m)}finally{a(!1)}}async function d(m){try{const{error:y}=await J.from("applications").update({status:"approved"}).eq("id",m);if(y)throw y;h()}catch(y){console.error("Error approving application:",y)}}async function f(m){try{const{error:y}=await J.from("applications").update({status:"rejected"}).eq("id",m);if(y)throw y;h()}catch(y){console.error("Error rejecting application:",y)}}async function p(){await c(),r("/login")}return s?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-block w-8 h-8 border-4 border-red-600 border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading admin dashboard..."})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-gradient-to-r from-red-700 to-red-800 text-white py-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(go,{className:"w-8 h-8"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),o.jsx("p",{className:"text-red-100 text-sm",children:"Manage lawyer applications and approvals"})]})]}),o.jsxs("button",{onClick:p,className:"flex items-center gap-2 bg-red-600 hover:bg-red-500 px-4 py-2 rounded-lg transition",children:[o.jsx(Ic,{className:"w-4 h-4"}),"Sign Out"]})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[o.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[o.jsx(uu,{icon:o.jsx(Ki,{className:"w-8 h-8 text-blue-600"}),title:"Total Applications",value:l.total,color:"blue"}),o.jsx(uu,{icon:o.jsx(Ht,{className:"w-8 h-8 text-yellow-600"}),title:"Pending Review",value:l.pending,color:"yellow"}),o.jsx(uu,{icon:o.jsx(Ko,{className:"w-8 h-8 text-green-600"}),title:"Approved",value:l.approved,color:"green"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[o.jsx(ny,{className:"w-6 h-6 text-red-600"}),"Lawyer Applications"]})}),n.length===0?o.jsx("div",{className:"p-12 text-center",children:o.jsx("p",{className:"text-gray-500",children:"No applications yet"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Lawyer"}),o.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Case"}),o.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Proposal"}),o.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Applied"}),o.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map(m=>o.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[o.jsx("td",{className:"px-6 py-4 text-sm",children:o.jsx("div",{className:"font-medium text-gray-900",children:m.lawyer_email||"Unknown"})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:m.bounty_title||"N/A"}),o.jsx("td",{className:"px-6 py-4 text-sm",children:o.jsx("p",{className:"text-gray-600 line-clamp-2",children:m.proposal})}),o.jsx("td",{className:"px-6 py-4 text-sm",children:o.jsx(d_,{status:m.status})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(m.created_at).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 text-sm",children:m.status==="pending"?o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>d(m.id),className:"px-3 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200 transition text-xs font-medium",children:"Approve"}),o.jsx("button",{onClick:()=>f(m.id),className:"px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition text-xs font-medium",children:"Reject"})]}):o.jsx("span",{className:"text-gray-500 text-xs",children:"No actions"})})]},m.id))})]})})]})]})]})}function uu({icon:e,title:t,value:r,color:n}){const i={blue:"bg-blue-50",yellow:"bg-yellow-50",green:"bg-green-50"};return o.jsx("div",{className:`${i[n]} rounded-xl p-6`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 text-sm font-medium",children:t}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r})]}),e]})})}function d_({status:e}){const t={pending:"bg-yellow-100 text-yellow-700",approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700"},r={pending:"Pending",approved:"Approved",rejected:"Rejected"};return o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${t[e]}`,children:r[e]})}function h_(){const{profile:e}=He(),[t,r]=j.useState([]),[n,i]=j.useState(!0),[s,a]=j.useState(""),[l,u]=j.useState("all"),[c,h]=j.useState("all");j.useEffect(()=>{e&&d()},[e]);async function d(){try{const{data:x,error:v}=await J.from("lawyer_cases").select("*").eq("lawyer_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(v)throw v;r(x||[])}catch(x){console.error("Error loading cases:",x)}finally{i(!1)}}const f=t.filter(x=>{const v=x.title.toLowerCase().includes(s.toLowerCase()),g=l==="all"||x.status===l,b=c==="all"||x.priority===c;return v&&g&&b}),p=x=>{switch(x){case"urgent":return"bg-red-100 text-red-700";case"high":return"bg-orange-100 text-orange-700";case"medium":return"bg-yellow-100 text-yellow-700";case"low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},m=x=>{switch(x){case"active":return"bg-teal-100 text-teal-700";case"completed":return"bg-green-100 text-green-700";case"cancelled":return"bg-gray-100 text-gray-700";default:return"bg-gray-100 text-gray-700"}},y=x=>x?Math.ceil((new Date(x).getTime()-new Date().getTime())/(1e3*60*60*24)):null;return o.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[o.jsx(Lr,{}),o.jsx("div",{className:"flex-1 ml-[280px] p-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Active Cases"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and track your legal cases"})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Search cases...",value:s,onChange:x=>a(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),o.jsxs("select",{value:l,onChange:x=>u(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]}),o.jsxs("select",{value:c,onChange:x=>h(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"All Priorities"}),o.jsx("option",{value:"urgent",children:"Urgent"}),o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"low",children:"Low"})]})]})}),n?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-block w-8 h-8 border-4 border-teal-600 border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading cases..."})]})}):f.length===0?o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(e2,{className:"w-8 h-8 text-gray-400"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No cases found"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Start by browsing available bounties"}),o.jsx("a",{href:"/bounties",className:"inline-flex items-center px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition",children:"Browse Bounties"})]}):o.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Case Title"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hours"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(x=>{const v=y(x.due_date),g=Math.round(x.progress_current/x.progress_total*100);return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.title})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-600",children:x.case_type})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${m(x.status)}`,children:x.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${p(x.priority)}`,children:x.priority})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mr-2",children:o.jsx("div",{className:"bg-teal-600 h-2 rounded-full",style:{width:`${g}%`}})}),o.jsxs("span",{className:"text-sm text-gray-600",children:[x.progress_current,"/",x.progress_total]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:x.due_date?o.jsxs("div",{children:[o.jsx("div",{children:new Date(x.due_date).toLocaleDateString()}),v!==null&&o.jsxs("div",{className:`text-xs ${v<7?"text-red-600":"text-gray-500"}`,children:[v," days left"]})]}):"-"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:x.hours_logged||0})]},x.id)})})]})})})]})})]})}function f_(){const[e,t]=j.useState("deep-research"),[r,n]=j.useState("auto-detect"),[i,s]=j.useState(""),[a,l]=j.useState(""),[u,c]=j.useState("date_created"),[h,d]=j.useState(""),[f,p]=j.useState(!1),[m,y]=j.useState(!1),[x,v]=j.useState(""),g=()=>{if(!i){alert("Please enter a URL to research");return}y(!0),setTimeout(()=>{v(`Deep Research Results for: ${i}

Mode: ${r}

[This is a placeholder for deep research results. Backend integration pending.]`),y(!1)},2e3)};return o.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[f&&o.jsx(fn,{onComplete:()=>p(!1)}),o.jsx(Lr,{onTourStart:()=>p(!0)}),o.jsx("div",{className:"flex-1 ml-[280px] p-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center",children:o.jsx(Pr,{className:"w-6 h-6 text-white"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"HakiLens - Comprehensive Legal Research Hub"})]}),o.jsx("p",{className:"text-gray-600",children:"Advanced case deep research, database management, and AI-powered analysis"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("div",{className:"flex gap-1 px-6",children:[o.jsx("button",{onClick:()=>t("deep-research"),className:`px-6 py-4 font-medium text-sm border-b-2 transition ${e==="deep-research"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Deep Research"}),o.jsx("button",{onClick:()=>t("case-database"),className:`px-6 py-4 font-medium text-sm border-b-2 transition ${e==="case-database"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Case Database"}),o.jsx("button",{onClick:()=>t("ai-assistant"),className:`px-6 py-4 font-medium text-sm border-b-2 transition ${e==="ai-assistant"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"AI Assistant"})]})}),o.jsxs("div",{className:"p-8",children:[e==="deep-research"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex gap-4 mb-8 border-b border-gray-200 pb-4",children:[o.jsx("button",{onClick:()=>n("auto-detect"),className:`px-4 py-2 rounded-lg font-medium text-sm transition ${r==="auto-detect"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Auto Detect"}),o.jsx("button",{onClick:()=>n("listing-crawl"),className:`px-4 py-2 rounded-lg font-medium text-sm transition ${r==="listing-crawl"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Listing Crawl"}),o.jsx("button",{onClick:()=>n("single-case"),className:`px-4 py-2 rounded-lg font-medium text-sm transition ${r==="single-case"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Single Case"})]}),o.jsxs("div",{className:"max-w-3xl",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL to Deep Research"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("input",{type:"url",value:i,onChange:b=>s(b.target.value),placeholder:"https://example.com/case-page-or-listing",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),o.jsx("button",{onClick:g,disabled:m,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition disabled:opacity-50",children:m?"Searching...":"Deep Research"})]}),o.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[r==="auto-detect"&&"Automatically detects cases or listings",r==="listing-crawl"&&"Crawls paginated listings",r==="single-case"&&"Research single case detail page"]})]}),x&&o.jsxs("div",{className:"mt-6 bg-white border border-gray-200 rounded-lg p-6",children:[o.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Research Results"}),o.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:x}),o.jsx("button",{onClick:()=>v(""),className:"mt-4 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Clear Results"})]})]}),e==="case-database"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex gap-4 mb-6",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",value:a,onChange:b=>l(b.target.value),placeholder:"Search cases by title, parties, or content...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("select",{value:u,onChange:b=>c(b.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"date_created",children:"Date Created"}),o.jsx("option",{value:"title",children:"Title"}),o.jsx("option",{value:"court",children:"Court"}),o.jsx("option",{value:"case_number",children:"Case Number"})]})]}),o.jsxs("div",{className:"text-center py-16",children:[o.jsx(ZN,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Cases Found"}),o.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or load more cases."})]})]}),e==="ai-assistant"&&o.jsxs("div",{children:[o.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6 mb-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Xd,{className:"w-6 h-6 text-purple-600 flex-shrink-0 mt-1"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-purple-900 mb-1",children:"AI Legal Assistant"}),o.jsx("p",{className:"text-sm text-purple-700",children:"Ask questions about your case database. The AI will search through case content and provide answers based on relevant cases."})]})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ask a Legal Question"}),o.jsx("textarea",{value:h,onChange:b=>d(b.target.value),placeholder:"e.g., What are the key precedents for contract disputes in commercial law?",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsx("button",{className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium transition",children:"Ask AI"})})]})]})]})]})]})})]})}const p_=["General Documents","Litigation","Corporate / Business","Real Estate / Property","Family Law","Succession / Estate","Employment / Labor","Intellectual Property","Immigration","Regulatory / Compliance","Academic / Legal Research"],m_={"General Documents":["Letter of Demand","Affidavit","Power of Attorney","Statutory Declaration"],Litigation:["Statement of Claim","Statement of Defense","Notice of Motion","Submissions"],"Corporate / Business":["Memorandum of Association","Articles of Association","Shareholders Agreement","Board Resolution"],"Real Estate / Property":["Sale Agreement","Lease Agreement","Transfer Documents","Charge Documents"],"Family Law":["Divorce Petition","Custody Agreement","Maintenance Order","Prenuptial Agreement"],"Succession / Estate":["Will","Grant of Probate","Letters of Administration","Succession Cause"],"Employment / Labor":["Employment Contract","Termination Letter","Non-Disclosure Agreement","Non-Compete Agreement"],"Intellectual Property":["Trademark Application","Patent Application","Copyright Assignment","License Agreement"],Immigration:["Work Permit Application","Visa Application","Citizenship Application","Appeal Letter"],"Regulatory / Compliance":["Compliance Certificate","Regulatory Submission","Audit Report","Complaint Response"],"Academic / Legal Research":["Legal Opinion","Research Memorandum","Case Summary","Legislative Brief"]};function g_(){var w;const[e,t]=j.useState(!1),[r,n]=j.useState(""),[i,s]=j.useState(""),[a,l]=j.useState(""),[u,c]=j.useState(""),[h,d]=j.useState(""),[f,p]=j.useState(["Kenya"]),[m,y]=j.useState(!1),[x,v]=j.useState(""),g=S=>{p(N=>N.includes(S)?N.filter(_=>_!==S):[...N,S])},b=async()=>{if(!r||!i||!a){alert("Please fill in required fields (Category, Document Type, and Client Name)");return}y(!0),setTimeout(()=>{const S=`
${i.toUpperCase()}

Jurisdiction: ${f.join(", ")}
Date: ${new Date().toLocaleDateString()}

Client: ${a}
${u?`Case Type: ${u}`:""}

${h||"This document has been generated based on your specifications."}

[AI-Generated Legal Document Content]

This is a placeholder for the AI-generated legal document. In production, this would contain the full legal document generated by the AI based on your inputs.

Key Provisions:
1. [Provision based on ${r}]
2. [Specific clauses for ${i}]
3. [Jurisdiction-specific requirements for ${f.join(", ")}]

Generated by HakiDraft AI Document Generator
`;v(S),y(!1)},2e3)};return o.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e&&o.jsx(fn,{onComplete:()=>t(!1)}),o.jsx(Lr,{onTourStart:()=>t(!0)}),o.jsx("div",{className:"flex-1 ml-[280px] p-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pink-500 to-purple-600 rounded-lg flex items-center justify-center",children:o.jsx(Zd,{className:"w-6 h-6 text-white"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Document Generator"})]}),o.jsx("p",{className:"text-gray-600",children:"Generate professional legal documents with AI assistance"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 space-y-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Document Configuration"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Category *"}),o.jsxs("select",{value:r,onChange:S=>{n(S.target.value),s("")},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500",children:[o.jsx("option",{value:"",children:"Select document category"}),p_.map(S=>o.jsx("option",{value:S,children:S},S))]})]}),r&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Type *"}),o.jsxs("select",{value:i,onChange:S=>s(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500",children:[o.jsx("option",{value:"",children:"Select document type"}),(w=m_[r])==null?void 0:w.map(S=>o.jsx("option",{value:S,children:S},S))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name *"}),o.jsx("input",{type:"text",value:a,onChange:S=>l(S.target.value),placeholder:"Enter client full name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Case Type"}),o.jsx("input",{type:"text",value:u,onChange:S=>c(S.target.value),placeholder:"e.g., Civil, Criminal, Family Law",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Case Description"}),o.jsx("textarea",{value:h,onChange:S=>d(S.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jurisdiction"}),o.jsx("div",{className:"space-y-2",children:["Kenya","Uganda","Nigeria","Ghana"].map(S=>o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:f.includes(S),onChange:()=>g(S),className:"w-4 h-4 text-pink-600 focus:ring-pink-500 border-gray-300 rounded"}),o.jsx("span",{className:"ml-2 text-sm text-gray-700",children:S})]},S))})]}),o.jsx("button",{onClick:b,disabled:m,className:"w-full py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg font-medium hover:from-pink-600 hover:to-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Generating...":"Generate Document"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Generated Document"}),x?o.jsxs("div",{children:[o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 max-h-[600px] overflow-y-auto",children:o.jsx("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap font-mono",children:x})}),o.jsxs("div",{className:"mt-4 flex gap-3",children:[o.jsx("button",{className:"flex-1 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium",children:"Download PDF"}),o.jsx("button",{className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Download DOCX"}),o.jsx("button",{onClick:()=>v(""),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium",children:"Clear"})]})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[o.jsx(nr,{className:"w-16 h-16 text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ready to Generate"}),o.jsx("p",{className:"text-sm text-gray-600",children:'Fill in the form and click "Generate Document" to create your legal template.'})]})]})]})]})})]})}function v_(){const[e,t]=j.useState(!1),[r,n]=j.useState(""),[i,s]=j.useState("chat"),[a,l]=j.useState(null),u=c=>{var d;const h=(d=c.target.files)==null?void 0:d[0];h&&l(h.name)};return o.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e&&o.jsx(fn,{onComplete:()=>t(!1)}),o.jsx(Lr,{onTourStart:()=>t(!0)}),o.jsx("div",{className:"flex-1 ml-[280px] p-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-lg flex items-center justify-center",children:o.jsx(Qd,{className:"w-6 h-6 text-white"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"HakiReview"})]}),o.jsx("p",{className:"text-gray-600",children:"AI-powered document analysis and legal review"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Document Preview"}),a?o.jsxs("div",{className:"border border-gray-300 rounded-lg p-8 text-center",children:[o.jsx(nr,{className:"w-16 h-16 text-teal-600 mx-auto mb-4"}),o.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:a}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Document uploaded successfully"}),o.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Remove File"})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center",children:[o.jsx(oy,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600 mb-2",children:"Drag and drop your PDF, DOCX, or DOC file here"}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"or click to browse"}),o.jsxs("label",{className:"px-6 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 cursor-pointer inline-block",children:["Select File",o.jsx("input",{type:"file",accept:".pdf,.docx,.doc",onChange:u,className:"hidden"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Supported formats: PDF, DOCX, DOC"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"HakiReview Assistant"}),o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsxs("button",{onClick:()=>s("chat"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm ${i==="chat"?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[o.jsx(Oc,{className:"w-4 h-4"}),"Chat"]}),o.jsxs("button",{onClick:()=>s("edit"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm ${i==="edit"?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[o.jsx(_p,{className:"w-4 h-4"}),"Edit"]}),o.jsxs("button",{onClick:()=>s("esign"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm ${i==="esign"?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[o.jsx(Np,{className:"w-4 h-4"}),"E-Sign"]})]}),i==="chat"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[o.jsx(Oc,{className:"w-5 h-5 text-blue-600 mb-2"}),o.jsx("p",{className:"text-sm text-blue-900",children:"Hi! I'm your AI document assistant. I can help you review, analyze, edit, and sign your legal documents. Upload a document to get started!"}),o.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"05:03 PM"})]}),o.jsx("div",{className:"mt-4",children:o.jsx("input",{type:"text",value:r,onChange:c=>n(c.target.value),placeholder:"Ask me about your document...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})]}),i==="edit"&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(_p,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),o.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Document Editor"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Upload a document to start editing"})]}),i==="esign"&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Np,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),o.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Electronic Signature"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Upload a document to add signatures"})]})]})]})]})})]})}function Rc(e,t){return Rc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Rc(e,t)}function yy(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Rc(e,t)}function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F.apply(null,arguments)}function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function y_(e,t){if(bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x_(e){var t=y_(e,"string");return bs(t)=="symbol"?t:t+""}function b_(e,t,r){return(t=x_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ap(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ap(Object(r),!0).forEach(function(n){b_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ap(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Lp=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),$p=function(){return Math.random().toString(36).substring(7).split("").join(".")},Bp={INIT:"@@redux/INIT"+$p(),REPLACE:"@@redux/REPLACE"+$p()};function w_(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function xy(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(qe(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(qe(1));return r(xy)(e,t)}if(typeof e!="function")throw new Error(qe(2));var i=e,s=t,a=[],l=a,u=!1;function c(){l===a&&(l=a.slice())}function h(){if(u)throw new Error(qe(3));return s}function d(y){if(typeof y!="function")throw new Error(qe(4));if(u)throw new Error(qe(5));var x=!0;return c(),l.push(y),function(){if(x){if(u)throw new Error(qe(6));x=!1,c();var g=l.indexOf(y);l.splice(g,1),a=null}}}function f(y){if(!w_(y))throw new Error(qe(7));if(typeof y.type>"u")throw new Error(qe(8));if(u)throw new Error(qe(9));try{u=!0,s=i(s,y)}finally{u=!1}for(var x=a=l,v=0;v<x.length;v++){var g=x[v];g()}return y}function p(y){if(typeof y!="function")throw new Error(qe(10));i=y,f({type:Bp.REPLACE})}function m(){var y,x=d;return y={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(qe(11));function b(){g.next&&g.next(h())}b();var w=x(b);return{unsubscribe:w}}},y[Lp]=function(){return this},y}return f({type:Bp.INIT}),n={dispatch:f,subscribe:d,getState:h,replaceReducer:p},n[Lp]=m,n}function Mp(e,t){return function(){return t(e.apply(this,arguments))}}function Fp(e,t){if(typeof e=="function")return Mp(e,t);if(typeof e!="object"||e===null)throw new Error(qe(16));var r={};for(var n in e){var i=e[n];typeof i=="function"&&(r[n]=Mp(i,t))}return r}function by(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function j_(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),s=function(){throw new Error(qe(15))},a={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},l=t.map(function(u){return u(a)});return s=by.apply(void 0,l)(i.dispatch),Rp(Rp({},i),{},{dispatch:s})}}}var wy=ie.createContext(null);function S_(e){e()}var jy=S_,N_=function(t){return jy=t},__=function(){return jy};function C_(){var e=__(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],s=t;s;)i.push(s),s=s.next;return i},subscribe:function(i){var s=!0,a=r={callback:i,next:null,prev:r};return a.prev?a.prev.next=a:t=a,function(){!s||t===null||(s=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var Up={notify:function(){},get:function(){return[]}};function Sy(e,t){var r,n=Up;function i(d){return u(),n.subscribe(d)}function s(){n.notify()}function a(){h.onStateChange&&h.onStateChange()}function l(){return!!r}function u(){r||(r=t?t.addNestedSub(a):e.subscribe(a),n=C_())}function c(){r&&(r(),r=void 0,n.clear(),n=Up)}var h={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:a,isSubscribed:l,trySubscribe:u,tryUnsubscribe:c,getListeners:function(){return n}};return h}var Ny=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect;function k_(e){var t=e.store,r=e.context,n=e.children,i=j.useMemo(function(){var l=Sy(t);return{store:t,subscription:l}},[t]),s=j.useMemo(function(){return t.getState()},[t]);Ny(function(){var l=i.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[i,s]);var a=r||wy;return ie.createElement(a.Provider,{value:i},n)}function xo(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _y={exports:{}},ee={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ke=typeof Symbol=="function"&&Symbol.for,eh=ke?Symbol.for("react.element"):60103,th=ke?Symbol.for("react.portal"):60106,Zo=ke?Symbol.for("react.fragment"):60107,el=ke?Symbol.for("react.strict_mode"):60108,tl=ke?Symbol.for("react.profiler"):60114,rl=ke?Symbol.for("react.provider"):60109,nl=ke?Symbol.for("react.context"):60110,rh=ke?Symbol.for("react.async_mode"):60111,il=ke?Symbol.for("react.concurrent_mode"):60111,sl=ke?Symbol.for("react.forward_ref"):60112,al=ke?Symbol.for("react.suspense"):60113,E_=ke?Symbol.for("react.suspense_list"):60120,ol=ke?Symbol.for("react.memo"):60115,ll=ke?Symbol.for("react.lazy"):60116,P_=ke?Symbol.for("react.block"):60121,D_=ke?Symbol.for("react.fundamental"):60117,T_=ke?Symbol.for("react.responder"):60118,I_=ke?Symbol.for("react.scope"):60119;function ct(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case eh:switch(e=e.type,e){case rh:case il:case Zo:case tl:case el:case al:return e;default:switch(e=e&&e.$$typeof,e){case nl:case sl:case ll:case ol:case rl:return e;default:return t}}case th:return t}}}function Cy(e){return ct(e)===il}ee.AsyncMode=rh;ee.ConcurrentMode=il;ee.ContextConsumer=nl;ee.ContextProvider=rl;ee.Element=eh;ee.ForwardRef=sl;ee.Fragment=Zo;ee.Lazy=ll;ee.Memo=ol;ee.Portal=th;ee.Profiler=tl;ee.StrictMode=el;ee.Suspense=al;ee.isAsyncMode=function(e){return Cy(e)||ct(e)===rh};ee.isConcurrentMode=Cy;ee.isContextConsumer=function(e){return ct(e)===nl};ee.isContextProvider=function(e){return ct(e)===rl};ee.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===eh};ee.isForwardRef=function(e){return ct(e)===sl};ee.isFragment=function(e){return ct(e)===Zo};ee.isLazy=function(e){return ct(e)===ll};ee.isMemo=function(e){return ct(e)===ol};ee.isPortal=function(e){return ct(e)===th};ee.isProfiler=function(e){return ct(e)===tl};ee.isStrictMode=function(e){return ct(e)===el};ee.isSuspense=function(e){return ct(e)===al};ee.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Zo||e===il||e===tl||e===el||e===al||e===E_||typeof e=="object"&&e!==null&&(e.$$typeof===ll||e.$$typeof===ol||e.$$typeof===rl||e.$$typeof===nl||e.$$typeof===sl||e.$$typeof===D_||e.$$typeof===T_||e.$$typeof===I_||e.$$typeof===P_)};ee.typeOf=ct;_y.exports=ee;var O_=_y.exports,nh=O_,A_={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},R_={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},L_={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ky={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ih={};ih[nh.ForwardRef]=L_;ih[nh.Memo]=ky;function zp(e){return nh.isMemo(e)?ky:ih[e.$$typeof]||A_}var $_=Object.defineProperty,B_=Object.getOwnPropertyNames,Wp=Object.getOwnPropertySymbols,M_=Object.getOwnPropertyDescriptor,F_=Object.getPrototypeOf,Hp=Object.prototype;function Ey(e,t,r){if(typeof t!="string"){if(Hp){var n=F_(t);n&&n!==Hp&&Ey(e,n,r)}var i=B_(t);Wp&&(i=i.concat(Wp(t)));for(var s=zp(e),a=zp(t),l=0;l<i.length;++l){var u=i[l];if(!R_[u]&&!(r&&r[u])&&!(a&&a[u])&&!(s&&s[u])){var c=M_(t,u);try{$_(e,u,c)}catch{}}}}return e}var U_=Ey;const Vp=zc(U_);var Py={exports:{}},re={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ul=60103,cl=60106,Os=60107,As=60108,Rs=60114,Ls=60109,$s=60110,Bs=60112,Ms=60113,sh=60120,Fs=60115,Us=60116,Dy=60121,Ty=60122,Iy=60117,Oy=60129,Ay=60131;if(typeof Symbol=="function"&&Symbol.for){var Ee=Symbol.for;ul=Ee("react.element"),cl=Ee("react.portal"),Os=Ee("react.fragment"),As=Ee("react.strict_mode"),Rs=Ee("react.profiler"),Ls=Ee("react.provider"),$s=Ee("react.context"),Bs=Ee("react.forward_ref"),Ms=Ee("react.suspense"),sh=Ee("react.suspense_list"),Fs=Ee("react.memo"),Us=Ee("react.lazy"),Dy=Ee("react.block"),Ty=Ee("react.server.block"),Iy=Ee("react.fundamental"),Oy=Ee("react.debug_trace_mode"),Ay=Ee("react.legacy_hidden")}function $t(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ul:switch(e=e.type,e){case Os:case Rs:case As:case Ms:case sh:return e;default:switch(e=e&&e.$$typeof,e){case $s:case Bs:case Us:case Fs:case Ls:return e;default:return t}}case cl:return t}}}var z_=Ls,W_=ul,H_=Bs,V_=Os,G_=Us,q_=Fs,K_=cl,J_=Rs,Q_=As,Y_=Ms;re.ContextConsumer=$s;re.ContextProvider=z_;re.Element=W_;re.ForwardRef=H_;re.Fragment=V_;re.Lazy=G_;re.Memo=q_;re.Portal=K_;re.Profiler=J_;re.StrictMode=Q_;re.Suspense=Y_;re.isAsyncMode=function(){return!1};re.isConcurrentMode=function(){return!1};re.isContextConsumer=function(e){return $t(e)===$s};re.isContextProvider=function(e){return $t(e)===Ls};re.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ul};re.isForwardRef=function(e){return $t(e)===Bs};re.isFragment=function(e){return $t(e)===Os};re.isLazy=function(e){return $t(e)===Us};re.isMemo=function(e){return $t(e)===Fs};re.isPortal=function(e){return $t(e)===cl};re.isProfiler=function(e){return $t(e)===Rs};re.isStrictMode=function(e){return $t(e)===As};re.isSuspense=function(e){return $t(e)===Ms};re.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Os||e===Rs||e===Oy||e===As||e===Ms||e===sh||e===Ay||typeof e=="object"&&e!==null&&(e.$$typeof===Us||e.$$typeof===Fs||e.$$typeof===Ls||e.$$typeof===$s||e.$$typeof===Bs||e.$$typeof===Iy||e.$$typeof===Dy||e[0]===Ty)};re.typeOf=$t;Py.exports=re;var X_=Py.exports,Z_=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],eC=["reactReduxForwardedRef"],tC=[],rC=[null,null];function nC(e,t){var r=e[1];return[t.payload,r+1]}function Gp(e,t,r){Ny(function(){return e.apply(void 0,t)},r)}function iC(e,t,r,n,i,s,a){e.current=n,t.current=i,r.current=!1,s.current&&(s.current=null,a())}function sC(e,t,r,n,i,s,a,l,u,c){if(e){var h=!1,d=null,f=function(){if(!h){var y=t.getState(),x,v;try{x=n(y,i.current)}catch(g){v=g,d=g}v||(d=null),x===s.current?a.current||u():(s.current=x,l.current=x,a.current=!0,c({type:"STORE_UPDATED",payload:{error:v}}))}};r.onStateChange=f,r.trySubscribe(),f();var p=function(){if(h=!0,r.tryUnsubscribe(),r.onStateChange=null,d)throw d};return p}}var aC=function(){return[null,0]};function oC(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,i=n===void 0?function(b){return"ConnectAdvanced("+b+")"}:n,s=r.methodName,a=s===void 0?"connectAdvanced":s,l=r.renderCountProp,u=l===void 0?void 0:l,c=r.shouldHandleStateChanges,h=c===void 0?!0:c,d=r.storeKey,f=d===void 0?"store":d;r.withRef;var p=r.forwardRef,m=p===void 0?!1:p,y=r.context,x=y===void 0?wy:y,v=xo(r,Z_),g=x;return function(w){var S=w.displayName||w.name||"Component",N=i(S),_=F({},v,{getDisplayName:i,methodName:a,renderCountProp:u,shouldHandleStateChanges:h,storeKey:f,displayName:N,wrappedComponentName:S,WrappedComponent:w}),k=v.pure;function C(Y){return e(Y.dispatch,_)}var D=k?j.useMemo:function(Y){return Y()};function M(Y){var Oe=j.useMemo(function(){var gi=Y.reactReduxForwardedRef,Sl=xo(Y,eC);return[Y.context,gi,Sl]},[Y]),we=Oe[0],dt=Oe[1],T=Oe[2],z=j.useMemo(function(){return we&&we.Consumer&&X_.isContextConsumer(ie.createElement(we.Consumer,null))?we:g},[we,g]),U=j.useContext(z),X=!!Y.store&&!!Y.store.getState&&!!Y.store.dispatch;U&&U.store;var K=X?Y.store:U.store,Bt=j.useMemo(function(){return C(K)},[K]),ht=j.useMemo(function(){if(!h)return rC;var gi=Sy(K,X?null:U.subscription),Sl=gi.notifyNestedSubs.bind(gi);return[gi,Sl]},[K,X,U]),ft=ht[0],pt=ht[1],Vt=j.useMemo(function(){return X?U:F({},U,{subscription:ft})},[X,U,ft]),Hs=j.useReducer(nC,tC,aC),yl=Hs[0],pn=yl[0],xl=Hs[1];if(pn&&pn.error)throw pn.error;var Ph=j.useRef(),bl=j.useRef(T),Vs=j.useRef(),Dh=j.useRef(!1),wl=D(function(){return Vs.current&&T===bl.current?Vs.current:Bt(K.getState(),T)},[K,pn,T]);Gp(iC,[bl,Ph,Dh,T,wl,Vs,pt]),Gp(sC,[h,K,ft,Bt,bl,Ph,Dh,Vs,pt,xl],[K,ft,Bt]);var jl=j.useMemo(function(){return ie.createElement(w,F({},wl,{ref:dt}))},[dt,w,wl]),Lx=j.useMemo(function(){return h?ie.createElement(z.Provider,{value:Vt},jl):jl},[z,jl,Vt]);return Lx}var te=k?ie.memo(M):M;if(te.WrappedComponent=w,te.displayName=M.displayName=N,m){var Q=ie.forwardRef(function(Oe,we){return ie.createElement(te,F({},Oe,{reactReduxForwardedRef:we}))});return Q.displayName=N,Q.WrappedComponent=w,Vp(Q,w)}return Vp(te,w)}}function qp(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function cu(e,t){if(qp(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!qp(e[r[i]],t[r[i]]))return!1;return!0}function lC(e,t){var r={},n=function(a){var l=e[a];typeof l=="function"&&(r[a]=function(){return t(l.apply(void 0,arguments))})};for(var i in e)n(i);return r}function ah(e){return function(r,n){var i=e(r,n);function s(){return i}return s.dependsOnOwnProps=!1,s}}function Kp(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function Ry(e,t){return function(n,i){i.displayName;var s=function(l,u){return s.dependsOnOwnProps?s.mapToProps(l,u):s.mapToProps(l)};return s.dependsOnOwnProps=!0,s.mapToProps=function(l,u){s.mapToProps=e,s.dependsOnOwnProps=Kp(e);var c=s(l,u);return typeof c=="function"&&(s.mapToProps=c,s.dependsOnOwnProps=Kp(c),c=s(l,u)),c},s}}function uC(e){return typeof e=="function"?Ry(e):void 0}function cC(e){return e?void 0:ah(function(t){return{dispatch:t}})}function dC(e){return e&&typeof e=="object"?ah(function(t){return lC(e,t)}):void 0}const hC=[uC,cC,dC];function fC(e){return typeof e=="function"?Ry(e):void 0}function pC(e){return e?void 0:ah(function(){return{}})}const mC=[fC,pC];function gC(e,t,r){return F({},r,e,t)}function vC(e){return function(r,n){n.displayName;var i=n.pure,s=n.areMergedPropsEqual,a=!1,l;return function(c,h,d){var f=e(c,h,d);return a?(!i||!s(f,l))&&(l=f):(a=!0,l=f),l}}}function yC(e){return typeof e=="function"?vC(e):void 0}function xC(e){return e?void 0:function(){return gC}}const bC=[yC,xC];var wC=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function jC(e,t,r,n){return function(s,a){return r(e(s,a),t(n,a),a)}}function SC(e,t,r,n,i){var s=i.areStatesEqual,a=i.areOwnPropsEqual,l=i.areStatePropsEqual,u=!1,c,h,d,f,p;function m(b,w){return c=b,h=w,d=e(c,h),f=t(n,h),p=r(d,f,h),u=!0,p}function y(){return d=e(c,h),t.dependsOnOwnProps&&(f=t(n,h)),p=r(d,f,h),p}function x(){return e.dependsOnOwnProps&&(d=e(c,h)),t.dependsOnOwnProps&&(f=t(n,h)),p=r(d,f,h),p}function v(){var b=e(c,h),w=!l(b,d);return d=b,w&&(p=r(d,f,h)),p}function g(b,w){var S=!a(w,h),N=!s(b,c,w,h);return c=b,h=w,S&&N?y():S?x():N?v():p}return function(w,S){return u?g(w,S):m(w,S)}}function NC(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,i=t.initMergeProps,s=xo(t,wC),a=r(e,s),l=n(e,s),u=i(e,s),c=s.pure?SC:jC;return c(a,l,u,e,s)}var _C=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function du(e,t,r){for(var n=t.length-1;n>=0;n--){var i=t[n](e);if(i)return i}return function(s,a){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+a.wrappedComponentName+".")}}function CC(e,t){return e===t}function kC(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?oC:r,i=t.mapStateToPropsFactories,s=i===void 0?mC:i,a=t.mapDispatchToPropsFactories,l=a===void 0?hC:a,u=t.mergePropsFactories,c=u===void 0?bC:u,h=t.selectorFactory,d=h===void 0?NC:h;return function(p,m,y,x){x===void 0&&(x={});var v=x,g=v.pure,b=g===void 0?!0:g,w=v.areStatesEqual,S=w===void 0?CC:w,N=v.areOwnPropsEqual,_=N===void 0?cu:N,k=v.areStatePropsEqual,C=k===void 0?cu:k,D=v.areMergedPropsEqual,M=D===void 0?cu:D,te=xo(v,_C),Q=du(p,s,"mapStateToProps"),Y=du(m,l,"mapDispatchToProps"),Oe=du(y,c,"mergeProps");return n(d,F({methodName:"connect",getDisplayName:function(dt){return"Connect("+dt+")"},shouldHandleStateChanges:!!p,initMapStateToProps:Q,initMapDispatchToProps:Y,initMergeProps:Oe,pure:b,areStatesEqual:S,areOwnPropsEqual:_,areStatePropsEqual:C,areMergedPropsEqual:M},te))}}const Ly=kC();N_($d.unstable_batchedUpdates);function EC(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function $y(e,t){var r=j.useState(function(){return{inputs:t,result:e()}})[0],n=j.useRef(!0),i=j.useRef(r),s=n.current||!!(t&&i.current.inputs&&EC(t,i.current.inputs)),a=s?i.current:{inputs:t,result:e()};return j.useEffect(function(){n.current=!1,i.current=a},[a]),a.result}function PC(e,t){return $y(function(){return e},t)}var G=$y,B=PC,DC="Invariant failed";function TC(e,t){throw new Error(DC)}var Ot=function(t){var r=t.top,n=t.right,i=t.bottom,s=t.left,a=n-s,l=i-r,u={top:r,right:n,bottom:i,left:s,width:a,height:l,x:s,y:r,center:{x:(n+s)/2,y:(i+r)/2}};return u},oh=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},Jp=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},IC=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},hu={top:0,right:0,bottom:0,left:0},lh=function(t){var r=t.borderBox,n=t.margin,i=n===void 0?hu:n,s=t.border,a=s===void 0?hu:s,l=t.padding,u=l===void 0?hu:l,c=Ot(oh(r,i)),h=Ot(Jp(r,a)),d=Ot(Jp(h,u));return{marginBox:c,borderBox:Ot(r),paddingBox:h,contentBox:d,margin:i,border:a,padding:u}},mt=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var i=Number(r);return isNaN(i)&&TC(),i},OC=function(){return{x:window.pageXOffset,y:window.pageYOffset}},bo=function(t,r){var n=t.borderBox,i=t.border,s=t.margin,a=t.padding,l=IC(n,r);return lh({borderBox:l,border:i,margin:s,padding:a})},wo=function(t,r){return r===void 0&&(r=OC()),bo(t,r)},By=function(t,r){var n={top:mt(r.marginTop),right:mt(r.marginRight),bottom:mt(r.marginBottom),left:mt(r.marginLeft)},i={top:mt(r.paddingTop),right:mt(r.paddingRight),bottom:mt(r.paddingBottom),left:mt(r.paddingLeft)},s={top:mt(r.borderTopWidth),right:mt(r.borderRightWidth),bottom:mt(r.borderBottomWidth),left:mt(r.borderLeftWidth)};return lh({borderBox:t,margin:n,padding:i,border:s})},My=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return By(r,n)},Qp=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function AC(e,t){return!!(e===t||Qp(e)&&Qp(t))}function RC(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!AC(e[r],t[r]))return!1;return!0}function _e(e,t){t===void 0&&(t=RC);var r,n=[],i,s=!1;function a(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return s&&r===this&&t(l,n)||(i=e.apply(this,l),s=!0,r=this,n=l),i}return a}var ws=function(t){var r=[],n=null,i=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i};function Fy(e,t){}Fy.bind(null,"warn");Fy.bind(null,"error");function Nr(){}function LC(e,t){return F({},e,{},t)}function bt(e,t,r){var n=t.map(function(i){var s=LC(r,i.options);return e.addEventListener(i.eventName,i.fn,s),function(){e.removeEventListener(i.eventName,i.fn,s)}});return function(){n.forEach(function(s){s()})}}var $C="Invariant failed";function jo(e){this.message=e}jo.prototype.toString=function(){return this.message};function P(e,t){throw new jo($C)}var BC=function(e){yy(t,e);function t(){for(var n,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s))||this,n.callbacks=null,n.unbind=Nr,n.onWindowError=function(l){var u=n.getCallbacks();u.isDragging()&&u.tryAbort();var c=l.error;c instanceof jo&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=bt(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(i){if(i instanceof jo){this.setState({});return}throw i},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(ie.Component),MC=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,So=function(t){return t+1},FC=function(t){return`
  You have lifted an item in position `+So(t.source.index)+`
`},Uy=function(t,r){var n=t.droppableId===r.droppableId,i=So(t.index),s=So(r.index);return n?`
      You have moved the item from position `+i+`
      to position `+s+`
    `:`
    You have moved the item from position `+i+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+s+`
  `},zy=function(t,r,n){var i=r.droppableId===n.droppableId;return i?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},UC=function(t){var r=t.destination;if(r)return Uy(t.source,r);var n=t.combine;return n?zy(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},Yp=function(t){return`
  The item has returned to its starting position
  of `+So(t.index)+`
`},zC=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+Yp(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+Uy(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+zy(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Yp(t.source)+`
  `},Ba={dragHandleUsageInstructions:MC,onDragStart:FC,onDragUpdate:UC,onDragEnd:zC},Ce={x:0,y:0},De=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},nt=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},_r=function(t,r){return t.x===r.x&&t.y===r.y},fi=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},on=function(t,r,n){var i;return n===void 0&&(n=0),i={},i[t]=r,i[t==="x"?"y":"x"]=n,i},js=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},Xp=function(t,r){return Math.min.apply(Math,r.map(function(n){return js(t,n)}))},Wy=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},WC=function(e,t){var r=Ot({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},zs=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Zp=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},HC={top:0,right:0,bottom:0,left:0},VC=function(t,r){return r?zs(t,r.scroll.diff.displacement):t},GC=function(t,r,n){if(n&&n.increasedBy){var i;return F({},t,(i={},i[r.end]=t[r.end]+n.increasedBy[r.line],i))}return t},qC=function(t,r){return r&&r.shouldClipSubject?WC(r.pageMarginBox,t):Ot(t)},ti=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,i=e.frame,s=VC(t.marginBox,i),a=GC(s,n,r),l=qC(a,i);return{page:t,withPlaceholder:r,active:l}},uh=function(e,t){e.frame||P();var r=e.frame,n=nt(t,r.scroll.initial),i=fi(n),s=F({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:i},max:r.scroll.max}}),a=ti({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s}),l=F({},e,{frame:s,subject:a});return l};function No(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function ch(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function $r(e,t){if(e.find)return e.find(t);var r=ch(e,t);if(r!==-1)return e[r]}function Hy(e){return Array.prototype.slice.call(e)}var Vy=_e(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),Gy=_e(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),dl=_e(function(e){return No(e)}),KC=_e(function(e){return No(e)}),pi=_e(function(e,t){var r=KC(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,i){return n.descriptor.index-i.descriptor.index});return r});function dh(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function hl(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var fl=_e(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),JC=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,i=e.insideDestination,s=e.previousImpact;if(!n.isCombineEnabled)return null;var a=dh(s);if(!a)return null;function l(y){var x={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return F({},s,{at:x})}var u=s.displaced.all,c=u.length?u[0]:null;if(t)return c?l(c):null;var h=fl(r,i);if(!c){if(!h.length)return null;var d=h[h.length-1];return l(d.descriptor.id)}var f=ch(h,function(y){return y.descriptor.id===c});f===-1&&P();var p=f-1;if(p<0)return null;var m=h[p];return l(m.descriptor.id)},mi=function(e,t){return e.descriptor.droppableId===t.descriptor.id},qy={point:Ce,value:0},Ss={invisible:{},visible:{},all:[]},QC={displaced:Ss,displacedBy:qy,at:null},jt=function(e,t){return function(r){return e<=r&&r<=t}},Ky=function(e){var t=jt(e.top,e.bottom),r=jt(e.left,e.right);return function(n){var i=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(i)return!0;var s=t(n.top)||t(n.bottom),a=r(n.left)||r(n.right),l=s&&a;if(l)return!0;var u=n.top<e.top&&n.bottom>e.bottom,c=n.left<e.left&&n.right>e.right,h=u&&c;if(h)return!0;var d=u&&a||c&&s;return d}},YC=function(e){var t=jt(e.top,e.bottom),r=jt(e.left,e.right);return function(n){var i=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return i}},hh={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Jy={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},XC=function(e){return function(t){var r=jt(t.top,t.bottom),n=jt(t.left,t.right);return function(i){return e===hh?r(i.top)&&r(i.bottom):n(i.left)&&n(i.right)}}},ZC=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:Ce;return zs(t,n)},ek=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},tk=function(t,r,n){return n(r)(t)},fh=function(t){var r=t.target,n=t.destination,i=t.viewport,s=t.withDroppableDisplacement,a=t.isVisibleThroughFrameFn,l=s?ZC(r,n):r;return ek(l,n,a)&&tk(l,i,a)},rk=function(t){return fh(F({},t,{isVisibleThroughFrameFn:Ky}))},Qy=function(t){return fh(F({},t,{isVisibleThroughFrameFn:YC}))},nk=function(t){return fh(F({},t,{isVisibleThroughFrameFn:XC(t.destination.axis)}))},ik=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var i=r.invisible,s=r.visible;if(i[t])return!1;var a=s[t];return a?a.shouldAnimate:!0};function sk(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Ot(oh(r,n))}function Ns(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,i=e.viewport,s=e.forceShouldAnimate,a=e.last;return t.reduce(function(u,c){var h=sk(c,n),d=c.descriptor.id;u.all.push(d);var f=rk({target:h,destination:r,viewport:i,withDroppableDisplacement:!0});if(!f)return u.invisible[c.descriptor.id]=!0,u;var p=ik(d,a,s),m={draggableId:d,shouldAnimate:p};return u.visible[d]=m,u},{all:[],visible:{},invisible:{}})}function ak(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function em(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,i=e.destination,s=ak(t,{inHomeList:r});return{displaced:Ss,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:s}}}}function _o(e){var t=e.draggable,r=e.insideDestination,n=e.destination,i=e.viewport,s=e.displacedBy,a=e.last,l=e.index,u=e.forceShouldAnimate,c=mi(t,n);if(l==null)return em({insideDestination:r,inHomeList:c,displacedBy:s,destination:n});var h=$r(r,function(y){return y.descriptor.index===l});if(!h)return em({insideDestination:r,inHomeList:c,displacedBy:s,destination:n});var d=fl(t,r),f=r.indexOf(h),p=d.slice(f),m=Ns({afterDragging:p,destination:n,displacedBy:s,last:a,viewport:i.frame,forceShouldAnimate:u});return{displaced:m,displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function Dr(e,t){return!!t.effected[e]}var ok=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,i=e.combine,s=e.afterCritical;if(!r.isCombineEnabled)return null;var a=i.draggableId,l=n[a],u=l.descriptor.index,c=Dr(a,s);return c?t?u:u-1:t?u+1:u},lk=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,i=e.location;if(!n.length)return null;var s=i.index,a=t?s+1:s-1,l=n[0].descriptor.index,u=n[n.length-1].descriptor.index,c=r?u:u+1;return a<l||a>c?null:a},uk=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,i=e.draggables,s=e.destination,a=e.insideDestination,l=e.previousImpact,u=e.viewport,c=e.afterCritical,h=l.at;if(h||P(),h.type==="REORDER"){var d=lk({isMovingForward:t,isInHomeList:r,location:h.destination,insideDestination:a});return d==null?null:_o({draggable:n,insideDestination:a,destination:s,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:d})}var f=ok({isMovingForward:t,destination:s,displaced:l.displaced,draggables:i,combine:h.combine,afterCritical:c});return f==null?null:_o({draggable:n,insideDestination:a,destination:s,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:f})},ck=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,i=e.displacedBy,s=!!(t.visible[n]||t.invisible[n]);return Dr(n,r)?s?Ce:fi(i.point):s?i.point:Ce},dk=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,i=hl(r);i||P();var s=i.draggableId,a=n[s].page.borderBox.center,l=ck({displaced:r.displaced,afterCritical:t,combineWith:s,displacedBy:r.displacedBy});return De(a,l)},Yy=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},hk=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},ph=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},tm=function(t){var r=t.axis,n=t.moveRelativeTo,i=t.isMoving;return on(r.line,n.marginBox[r.end]+Yy(r,i),ph(r,n.marginBox,i))},rm=function(t){var r=t.axis,n=t.moveRelativeTo,i=t.isMoving;return on(r.line,n.marginBox[r.start]-hk(r,i),ph(r,n.marginBox,i))},fk=function(t){var r=t.axis,n=t.moveInto,i=t.isMoving;return on(r.line,n.contentBox[r.start]+Yy(r,i),ph(r,n.contentBox,i))},pk=function(e){var t=e.impact,r=e.draggable,n=e.draggables,i=e.droppable,s=e.afterCritical,a=pi(i.descriptor.id,n),l=r.page,u=i.axis;if(!a.length)return fk({axis:u,moveInto:i.page,isMoving:l});var c=t.displaced,h=t.displacedBy,d=c.all[0];if(d){var f=n[d];if(Dr(d,s))return rm({axis:u,moveRelativeTo:f.page,isMoving:l});var p=bo(f.page,h.point);return rm({axis:u,moveRelativeTo:p,isMoving:l})}var m=a[a.length-1];if(m.descriptor.id===r.descriptor.id)return l.borderBox.center;if(Dr(m.descriptor.id,s)){var y=bo(m.page,fi(s.displacedBy.point));return tm({axis:u,moveRelativeTo:y,isMoving:l})}return tm({axis:u,moveRelativeTo:m.page,isMoving:l})},Lc=function(e,t){var r=e.frame;return r?De(t,r.scroll.diff.displacement):t},mk=function(t){var r=t.impact,n=t.draggable,i=t.droppable,s=t.draggables,a=t.afterCritical,l=n.page.borderBox.center,u=r.at;return!i||!u?l:u.type==="REORDER"?pk({impact:r,draggable:n,draggables:s,droppable:i,afterCritical:a}):dk({impact:r,draggables:s,afterCritical:a})},pl=function(e){var t=mk(e),r=e.droppable,n=r?Lc(r,t):t;return n},Xy=function(e,t){var r=nt(t,e.scroll.initial),n=fi(r),i=Ot({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),s={frame:i,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return s};function nm(e,t){return e.map(function(r){return t[r]})}function gk(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var vk=function(e){var t=e.impact,r=e.viewport,n=e.destination,i=e.draggables,s=e.maxScrollChange,a=Xy(r,De(r.scroll.current,s)),l=n.frame?uh(n,De(n.frame.scroll.current,s)):n,u=t.displaced,c=Ns({afterDragging:nm(u.all,i),destination:n,displacedBy:t.displacedBy,viewport:a.frame,last:u,forceShouldAnimate:!1}),h=Ns({afterDragging:nm(u.all,i),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:u,forceShouldAnimate:!1}),d={},f={},p=[u,c,h];u.all.forEach(function(y){var x=gk(y,p);if(x){f[y]=x;return}d[y]=!0});var m=F({},t,{displaced:{all:u.all,invisible:d,visible:f}});return m},yk=function(e,t){return De(e.scroll.diff.displacement,t)},mh=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,i=yk(n,t),s=nt(i,r.page.borderBox.center);return De(r.client.borderBox.center,s)},Zy=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,i=e.viewport,s=e.withDroppableDisplacement,a=e.onlyOnMainAxis,l=a===void 0?!1:a,u=nt(n,t.page.borderBox.center),c=zs(t.page.borderBox,u),h={target:c,destination:r,withDroppableDisplacement:s,viewport:i};return l?nk(h):Qy(h)},xk=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,i=e.draggables,s=e.previousImpact,a=e.viewport,l=e.previousPageBorderBoxCenter,u=e.previousClientSelection,c=e.afterCritical;if(!n.isEnabled)return null;var h=pi(n.descriptor.id,i),d=mi(r,n),f=JC({isMovingForward:t,draggable:r,destination:n,insideDestination:h,previousImpact:s})||uk({isMovingForward:t,isInHomeList:d,draggable:r,draggables:i,destination:n,insideDestination:h,previousImpact:s,viewport:a,afterCritical:c});if(!f)return null;var p=pl({impact:f,draggable:r,droppable:n,draggables:i,afterCritical:c}),m=Zy({draggable:r,destination:n,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(m){var y=mh({pageBorderBoxCenter:p,draggable:r,viewport:a});return{clientSelection:y,impact:f,scrollJumpRequest:null}}var x=nt(p,l),v=vk({impact:f,viewport:a,destination:n,draggables:i,maxScrollChange:x});return{clientSelection:u,impact:v,scrollJumpRequest:x}},Me=function(t){var r=t.subject.active;return r||P(),r},bk=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,i=e.droppables,s=e.viewport,a=n.subject.active;if(!a)return null;var l=n.axis,u=jt(a[l.start],a[l.end]),c=dl(i).filter(function(d){return d!==n}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return Ky(s.frame)(Me(d))}).filter(function(d){var f=Me(d);return t?a[l.crossAxisEnd]<f[l.crossAxisEnd]:f[l.crossAxisStart]<a[l.crossAxisStart]}).filter(function(d){var f=Me(d),p=jt(f[l.start],f[l.end]);return u(f[l.start])||u(f[l.end])||p(a[l.start])||p(a[l.end])}).sort(function(d,f){var p=Me(d)[l.crossAxisStart],m=Me(f)[l.crossAxisStart];return t?p-m:m-p}).filter(function(d,f,p){return Me(d)[l.crossAxisStart]===Me(p[0])[l.crossAxisStart]});if(!c.length)return null;if(c.length===1)return c[0];var h=c.filter(function(d){var f=jt(Me(d)[l.start],Me(d)[l.end]);return f(r[l.line])});return h.length===1?h[0]:h.length>1?h.sort(function(d,f){return Me(d)[l.start]-Me(f)[l.start]})[0]:c.sort(function(d,f){var p=Xp(r,Zp(Me(d))),m=Xp(r,Zp(Me(f)));return p!==m?p-m:Me(d)[l.start]-Me(f)[l.start]})[0]},im=function(t,r){var n=t.page.borderBox.center;return Dr(t.descriptor.id,r)?nt(n,r.displacedBy.point):n},wk=function(t,r){var n=t.page.borderBox;return Dr(t.descriptor.id,r)?zs(n,fi(r.displacedBy.point)):n},jk=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,i=e.insideDestination,s=e.afterCritical,a=i.filter(function(l){return Qy({target:wk(l,s),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,u){var c=js(t,Lc(n,im(l,s))),h=js(t,Lc(n,im(u,s)));return c<h?-1:h<c?1:l.descriptor.index-u.descriptor.index});return a[0]||null},Ws=_e(function(t,r){var n=r[t.line];return{value:n,point:on(t.line,n)}}),Sk=function(t,r,n){var i=t.axis;if(t.descriptor.mode==="virtual")return on(i.line,r[i.line]);var s=t.subject.page.contentBox[i.size],a=pi(t.descriptor.id,n),l=a.reduce(function(h,d){return h+d.client.marginBox[i.size]},0),u=l+r[i.line],c=u-s;return c<=0?null:on(i.line,c)},ex=function(t,r){return F({},t,{scroll:F({},t.scroll,{max:r})})},tx=function(t,r,n){var i=t.frame;mi(r,t)&&P(),t.subject.withPlaceholder&&P();var s=Ws(t.axis,r.displaceBy).point,a=Sk(t,s,n),l={placeholderSize:s,increasedBy:a,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){var u=ti({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return F({},t,{subject:u})}var c=a?De(i.scroll.max,a):i.scroll.max,h=ex(i,c),d=ti({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:h});return F({},t,{subject:d,frame:h})},Nk=function(t){var r=t.subject.withPlaceholder;r||P();var n=t.frame;if(!n){var i=ti({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return F({},t,{subject:i})}var s=r.oldFrameMaxScroll;s||P();var a=ex(n,s),l=ti({page:t.subject.page,axis:t.axis,frame:a,withPlaceholder:null});return F({},t,{subject:l,frame:a})},_k=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,i=e.draggable,s=e.draggables,a=e.destination,l=e.viewport,u=e.afterCritical;if(!r){if(n.length)return null;var c={displaced:Ss,displacedBy:qy,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},h=pl({impact:c,draggable:i,droppable:a,draggables:s,afterCritical:u}),d=mi(i,a)?a:tx(a,i,s),f=Zy({draggable:i,destination:d,newPageBorderBoxCenter:h,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return f?c:null}var p=t[a.axis.line]<=r.page.borderBox.center[a.axis.line],m=function(){var x=r.descriptor.index;return r.descriptor.id===i.descriptor.id||p?x:x+1}(),y=Ws(a.axis,i.displaceBy);return _o({draggable:i,insideDestination:n,destination:a,viewport:l,displacedBy:y,last:Ss,index:m})},Ck=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,i=e.isOver,s=e.draggables,a=e.droppables,l=e.viewport,u=e.afterCritical,c=bk({isMovingForward:t,pageBorderBoxCenter:r,source:i,droppables:a,viewport:l});if(!c)return null;var h=pi(c.descriptor.id,s),d=jk({pageBorderBoxCenter:r,viewport:l,destination:c,insideDestination:h,afterCritical:u}),f=_k({previousPageBorderBoxCenter:r,destination:c,draggable:n,draggables:s,moveRelativeTo:d,insideDestination:h,viewport:l,afterCritical:u});if(!f)return null;var p=pl({impact:f,draggable:n,droppable:c,draggables:s,afterCritical:u}),m=mh({pageBorderBoxCenter:p,draggable:n,viewport:l});return{clientSelection:m,impact:f,scrollJumpRequest:null}},st=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},kk=function(t,r){var n=st(t);return n?r[n]:null},Ek=function(e){var t=e.state,r=e.type,n=kk(t.impact,t.dimensions.droppables),i=!!n,s=t.dimensions.droppables[t.critical.droppable.id],a=n||s,l=a.axis.direction,u=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(u&&!i)return null;var c=r==="MOVE_DOWN"||r==="MOVE_RIGHT",h=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,f=t.dimensions,p=f.draggables,m=f.droppables;return u?xk({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:h,destination:a,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Ck({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:h,isOver:a,draggables:p,droppables:m,viewport:t.viewport,afterCritical:t.afterCritical})};function Hr(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function rx(e){var t=jt(e.top,e.bottom),r=jt(e.left,e.right);return function(i){return t(i.y)&&r(i.x)}}function Pk(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Dk(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,i=r.page.borderBox.center,s=n.map(function(a){var l=a.axis,u=on(a.axis.line,t.center[l.line],a.page.borderBox.center[l.crossAxisLine]);return{id:a.descriptor.id,distance:js(i,u)}}).sort(function(a,l){return l.distance-a.distance});return s[0]?s[0].id:null}function Tk(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,i=dl(n).filter(function(s){if(!s.isEnabled)return!1;var a=s.subject.active;if(!a||!Pk(t,a))return!1;if(rx(a)(t.center))return!0;var l=s.axis,u=a.center[l.crossAxisLine],c=t[l.crossAxisStart],h=t[l.crossAxisEnd],d=jt(a[l.crossAxisStart],a[l.crossAxisEnd]),f=d(c),p=d(h);return!f&&!p?!0:f?c<u:h>u});return i.length?i.length===1?i[0].descriptor.id:Dk({pageBorderBox:t,draggable:r,candidates:i}):null}var nx=function(t,r){return Ot(zs(t,r))},Ik=function(e,t){var r=e.frame;return r?nx(t,r.scroll.diff.value):t};function ix(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function Ok(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var Ak=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,i=e.insideDestination,s=e.last,a=e.viewport,l=e.afterCritical,u=n.axis,c=Ws(n.axis,r.displaceBy),h=c.value,d=t[u.start],f=t[u.end],p=fl(r,i),m=$r(p,function(x){var v=x.descriptor.id,g=x.page.borderBox.center[u.line],b=Dr(v,l),w=ix({displaced:s,id:v});return b?w?f<=g:d<g-h:w?f<=g+h:d<g}),y=Ok({draggable:r,closest:m,inHomeList:mi(r,n)});return _o({draggable:r,insideDestination:i,destination:n,viewport:a,last:s,displacedBy:c,index:y})},Rk=4,Lk=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,i=e.destination,s=e.insideDestination,a=e.afterCritical;if(!i.isCombineEnabled)return null;var l=i.axis,u=Ws(i.axis,t.displaceBy),c=u.value,h=r[l.start],d=r[l.end],f=fl(t,s),p=$r(f,function(y){var x=y.descriptor.id,v=y.page.borderBox,g=v[l.size],b=g/Rk,w=Dr(x,a),S=ix({displaced:n.displaced,id:x});return w?S?d>v[l.start]+b&&d<v[l.end]-b:h>v[l.start]-c+b&&h<v[l.end]-c-b:S?d>v[l.start]+c+b&&d<v[l.end]+c-b:h>v[l.start]+b&&h<v[l.end]-b});if(!p)return null;var m={displacedBy:u,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:i.descriptor.id}}};return m},sx=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,i=e.droppables,s=e.previousImpact,a=e.viewport,l=e.afterCritical,u=nx(r.page.borderBox,t),c=Tk({pageBorderBox:u,draggable:r,droppables:i});if(!c)return QC;var h=i[c],d=pi(h.descriptor.id,n),f=Ik(h,u);return Lk({pageBorderBoxWithDroppableScroll:f,draggable:r,previousImpact:s,destination:h,insideDestination:d,afterCritical:l})||Ak({pageBorderBoxWithDroppableScroll:f,draggable:r,destination:h,insideDestination:d,last:s.displaced,viewport:a,afterCritical:l})},gh=function(e,t){var r;return F({},e,(r={},r[t.descriptor.id]=t,r))},$k=function(t){var r=t.previousImpact,n=t.impact,i=t.droppables,s=st(r),a=st(n);if(!s||s===a)return i;var l=i[s];if(!l.subject.withPlaceholder)return i;var u=Nk(l);return gh(i,u)},Bk=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,i=e.previousImpact,s=e.impact,a=$k({previousImpact:i,impact:s,droppables:n}),l=st(s);if(!l)return a;var u=n[l];if(mi(t,u)||u.subject.withPlaceholder)return a;var c=tx(u,t,r);return gh(a,c)},Ji=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,i=e.viewport,s=e.impact,a=e.scrollJumpRequest,l=i||t.viewport,u=n||t.dimensions,c=r||t.current.client.selection,h=nt(c,t.initial.client.selection),d={offset:h,selection:c,borderBoxCenter:De(t.initial.client.borderBoxCenter,h)},f={selection:De(d.selection,l.scroll.current),borderBoxCenter:De(d.borderBoxCenter,l.scroll.current),offset:De(d.offset,l.scroll.diff.value)},p={client:d,page:f};if(t.phase==="COLLECTING")return F({phase:"COLLECTING"},t,{dimensions:u,viewport:l,current:p});var m=u.draggables[t.critical.draggable.id],y=s||sx({pageOffset:f.offset,draggable:m,draggables:u.draggables,droppables:u.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),x=Bk({draggable:m,impact:y,previousImpact:t.impact,draggables:u.draggables,droppables:u.droppables}),v=F({},t,{current:p,dimensions:{draggables:u.draggables,droppables:x},impact:y,viewport:l,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null});return v};function Mk(e,t){return e.map(function(r){return t[r]})}var ax=function(e){var t=e.impact,r=e.viewport,n=e.draggables,i=e.destination,s=e.forceShouldAnimate,a=t.displaced,l=Mk(a.all,n),u=Ns({afterDragging:l,destination:i,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:s,last:a});return F({},t,{displaced:u})},ox=function(e){var t=e.impact,r=e.draggable,n=e.droppable,i=e.draggables,s=e.viewport,a=e.afterCritical,l=pl({impact:t,draggable:r,draggables:i,droppable:n,afterCritical:a});return mh({pageBorderBoxCenter:l,draggable:r,viewport:s})},lx=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&P();var i=t.impact,s=n||t.viewport,a=r||t.dimensions,l=a.draggables,u=a.droppables,c=l[t.critical.draggable.id],h=st(i);h||P();var d=u[h],f=ax({impact:i,viewport:s,destination:d,draggables:l}),p=ox({impact:f,draggable:c,droppable:d,draggables:l,viewport:s,afterCritical:t.afterCritical});return Ji({impact:f,clientSelection:p,state:t,dimensions:a,viewport:s})},Fk=function(e){return{index:e.index,droppableId:e.droppableId}},ux=function(e){var t=e.draggable,r=e.home,n=e.draggables,i=e.viewport,s=Ws(r.axis,t.displaceBy),a=pi(r.descriptor.id,n),l=a.indexOf(t);l===-1&&P();var u=a.slice(l+1),c=u.reduce(function(p,m){return p[m.descriptor.id]=!0,p},{}),h={inVirtualList:r.descriptor.mode==="virtual",displacedBy:s,effected:c},d=Ns({afterDragging:u,destination:r,displacedBy:s,last:null,viewport:i.frame,forceShouldAnimate:!1}),f={displaced:d,displacedBy:s,at:{type:"REORDER",destination:Fk(t.descriptor)}};return{impact:f,afterCritical:h}},Uk=function(e,t){return{draggables:e.draggables,droppables:gh(e.droppables,t)}},zk=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,i=bo(t.client,r),s=wo(i,n),a=F({},t,{placeholder:F({},t.placeholder,{client:i}),client:i,page:s});return a},Wk=function(e){var t=e.frame;return t||P(),t},Hk=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,i=n.scroll.diff.value;return t.map(function(s){var a=s.descriptor.droppableId,l=r[a],u=Wk(l),c=u.scroll.diff.value,h=De(i,c),d=zk({draggable:s,offset:h,initialWindowScroll:n.scroll.initial});return d})},Vk=function(e){var t=e.state,r=e.published,n=r.modified.map(function(b){var w=t.dimensions.droppables[b.droppableId],S=uh(w,b.scroll);return S}),i=F({},t.dimensions.droppables,{},Vy(n)),s=Gy(Hk({additions:r.additions,updatedDroppables:i,viewport:t.viewport})),a=F({},t.dimensions.draggables,{},s);r.removals.forEach(function(b){delete a[b]});var l={droppables:i,draggables:a},u=st(t.impact),c=u?l.droppables[u]:null,h=l.draggables[t.critical.draggable.id],d=l.droppables[t.critical.droppable.id],f=ux({draggable:h,home:d,draggables:a,viewport:t.viewport}),p=f.impact,m=f.afterCritical,y=c&&c.isCombineEnabled?t.impact:p,x=sx({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:y,viewport:t.viewport,afterCritical:m}),v=F({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:x,onLiftImpact:p,dimensions:l,afterCritical:m,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return v;var g=F({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return g},$c=function(t){return t.movementMode==="SNAP"},fu=function(t,r,n){var i=Uk(t.dimensions,r);return!$c(t)||n?Ji({state:t,dimensions:i}):lx({state:t,dimensions:i})};function pu(e){return e.isDragging&&e.movementMode==="SNAP"?F({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var sm={phase:"IDLE",completed:null,shouldFlush:!1},Gk=function(e,t){if(e===void 0&&(e=sm),t.type==="FLUSH")return F({},sm,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&P();var r=t.payload,n=r.critical,i=r.clientSelection,s=r.viewport,a=r.dimensions,l=r.movementMode,u=a.draggables[n.draggable.id],c=a.droppables[n.droppable.id],h={selection:i,borderBoxCenter:u.client.borderBox.center,offset:Ce},d={client:h,page:{selection:De(h.selection,s.scroll.initial),borderBoxCenter:De(h.selection,s.scroll.initial),offset:De(h.selection,s.scroll.diff.value)}},f=dl(a.droppables).every(function(xl){return!xl.isFixedOnPage}),p=ux({draggable:u,home:c,draggables:a.draggables,viewport:s}),m=p.impact,y=p.afterCritical,x={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:a,initial:d,current:d,isWindowScrollAllowed:f,impact:m,afterCritical:y,onLiftImpact:m,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null};return x}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&P();var v=F({phase:"COLLECTING"},e,{phase:"COLLECTING"});return v}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||P(),Vk({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Hr(e)||P();var g=t.payload.client;return _r(g,e.current.client.selection)?e:Ji({state:e,clientSelection:g,impact:$c(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return pu(e);Hr(e)||P();var b=t.payload,w=b.id,S=b.newScroll,N=e.dimensions.droppables[w];if(!N)return e;var _=uh(N,S);return fu(e,_,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Hr(e)||P();var k=t.payload,C=k.id,D=k.isEnabled,M=e.dimensions.droppables[C];M||P(),M.isEnabled===D&&P();var te=F({},M,{isEnabled:D});return fu(e,te,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Hr(e)||P();var Q=t.payload,Y=Q.id,Oe=Q.isCombineEnabled,we=e.dimensions.droppables[Y];we||P(),we.isCombineEnabled===Oe&&P();var dt=F({},we,{isCombineEnabled:Oe});return fu(e,dt,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Hr(e)||P(),e.isWindowScrollAllowed||P();var T=t.payload.newScroll;if(_r(e.viewport.scroll.current,T))return pu(e);var z=Xy(e.viewport,T);return $c(e)?lx({state:e,viewport:z}):Ji({state:e,viewport:z})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Hr(e))return e;var U=t.payload.maxScroll;if(_r(U,e.viewport.scroll.max))return e;var X=F({},e.viewport,{scroll:F({},e.viewport.scroll,{max:U})});return F({phase:"DRAGGING"},e,{viewport:X})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&P();var K=Ek({state:e,type:t.type});return K?Ji({state:e,impact:K.impact,clientSelection:K.clientSelection,scrollJumpRequest:K.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var Bt=t.payload.reason;e.phase!=="COLLECTING"&&P();var ht=F({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:Bt});return ht}if(t.type==="DROP_ANIMATE"){var ft=t.payload,pt=ft.completed,Vt=ft.dropDuration,Hs=ft.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||P();var yl={phase:"DROP_ANIMATING",completed:pt,dropDuration:Vt,newHomeClientOffset:Hs,dimensions:e.dimensions};return yl}if(t.type==="DROP_COMPLETE"){var pn=t.payload.completed;return{phase:"IDLE",completed:pn,shouldFlush:!1}}return e},qk=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},Kk=function(t){return{type:"LIFT",payload:t}},Jk=function(t){return{type:"INITIAL_PUBLISH",payload:t}},Qk=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},Yk=function(){return{type:"COLLECTION_STARTING",payload:null}},Xk=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},Zk=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},eE=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},cx=function(t){return{type:"MOVE",payload:t}},tE=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},rE=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},nE=function(){return{type:"MOVE_UP",payload:null}},iE=function(){return{type:"MOVE_DOWN",payload:null}},sE=function(){return{type:"MOVE_RIGHT",payload:null}},aE=function(){return{type:"MOVE_LEFT",payload:null}},vh=function(){return{type:"FLUSH",payload:null}},oE=function(t){return{type:"DROP_ANIMATE",payload:t}},yh=function(t){return{type:"DROP_COMPLETE",payload:t}},dx=function(t){return{type:"DROP",payload:t}},lE=function(t){return{type:"DROP_PENDING",payload:t}},hx=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},uE=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(i){return function(s){if(s.type!=="LIFT"){i(s);return}var a=s.payload,l=a.id,u=a.clientSelection,c=a.movementMode,h=r();h.phase==="DROP_ANIMATING"&&n(yh({completed:h.completed})),r().phase!=="IDLE"&&P(),n(vh()),n(qk({draggableId:l,movementMode:c}));var d={shouldPublishImmediately:c==="SNAP"},f={draggableId:l,scrollOptions:d},p=e.startPublishing(f),m=p.critical,y=p.dimensions,x=p.viewport;n(Jk({critical:m,dimensions:y,clientSelection:u,movementMode:c,viewport:x}))}}}},cE=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},xh={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},_s={opacity:{drop:0,combining:.7},scale:{drop:.75}},bh={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Fr=bh.outOfTheWay+"s "+xh.outOfTheWay,Qi={fluid:"opacity "+Fr,snap:"transform "+Fr+", opacity "+Fr,drop:function(t){var r=t+"s "+xh.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Fr,placeholder:"height "+Fr+", width "+Fr+", margin "+Fr},am=function(t){return _r(t,Ce)?null:"translate("+t.x+"px, "+t.y+"px)"},Bc={moveTo:am,drop:function(t,r){var n=am(t);return n?r?n+" scale("+_s.scale.drop+")":n:null}},Mc=bh.minDropTime,fx=bh.maxDropTime,dE=fx-Mc,om=1500,hE=.6,fE=function(e){var t=e.current,r=e.destination,n=e.reason,i=js(t,r);if(i<=0)return Mc;if(i>=om)return fx;var s=i/om,a=Mc+dE*s,l=n==="CANCEL"?a*hE:a;return Number(l.toFixed(2))},pE=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,i=e.viewport,s=e.afterCritical,a=n.draggables,l=n.droppables,u=st(t),c=u?l[u]:null,h=l[r.descriptor.droppableId],d=ox({impact:t,draggable:r,draggables:a,afterCritical:s,droppable:c||h,viewport:i}),f=nt(d,r.client.borderBox.center);return f},mE=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,i=e.home,s=e.viewport,a=e.onLiftImpact;if(!n.at||r!=="DROP"){var l=ax({draggables:t,impact:a,destination:i,viewport:s,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var u=F({},n,{displaced:Ss});return{impact:u,didDropInsideDroppable:!0}},gE=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(i){if(i.type!=="DROP"){n(i);return}var s=t(),a=i.payload.reason;if(s.phase==="COLLECTING"){r(lE({reason:a}));return}if(s.phase!=="IDLE"){var l=s.phase==="DROP_PENDING"&&s.isWaiting;l&&P(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||P();var u=s.critical,c=s.dimensions,h=c.draggables[s.critical.draggable.id],d=mE({reason:a,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),f=d.impact,p=d.didDropInsideDroppable,m=p?dh(f):null,y=p?hl(f):null,x={index:u.draggable.index,droppableId:u.droppable.id},v={draggableId:h.descriptor.id,type:h.descriptor.type,source:x,reason:a,mode:s.movementMode,destination:m,combine:y},g=pE({impact:f,draggable:h,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),b={critical:s.critical,afterCritical:s.afterCritical,result:v,impact:f},w=!_r(s.current.client.offset,g)||!!v.combine;if(!w){r(yh({completed:b}));return}var S=fE({current:s.current.client.offset,destination:g,reason:a}),N={newHomeClientOffset:g,dropDuration:S,completed:b};r(oE(N))}}}},px=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function vE(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function yE(e){var t=e.onWindowScroll;function r(){t(px())}var n=ws(r),i=vE(n),s=Nr;function a(){return s!==Nr}function l(){a()&&P(),s=bt(window,[i])}function u(){a()||P(),n.cancel(),s(),s=Nr}return{start:l,stop:u,isActive:a}}var xE=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},bE=function(e){var t=yE({onWindowScroll:function(n){e.dispatch(tE({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&xE(n)&&t.stop(),r(n)}}},wE=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),i=function(a){t||r||(t=!0,e(a),clearTimeout(n))};return i.wasCalled=function(){return t},i},jE=function(){var e=[],t=function(s){var a=ch(e,function(c){return c.timerId===s});a===-1&&P();var l=e.splice(a,1),u=l[0];u.callback()},r=function(s){var a=setTimeout(function(){return t(a)}),l={timerId:a,callback:s};e.push(l)},n=function(){if(e.length){var s=[].concat(e);e.length=0,s.forEach(function(a){clearTimeout(a.timerId),a.callback()})}};return{add:r,flush:n}},SE=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},NE=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},_E=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,i=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&i},ki=function(t,r){r()},ja=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},mu=function(t,r,n,i){if(!t){n(i(r));return}var s=wE(n),a={announce:s};t(r,a),s.wasCalled()||n(i(r))},CE=function(e,t){var r=jE(),n=null,i=function(f,p){n&&P(),ki("onBeforeCapture",function(){var m=e().onBeforeCapture;if(m){var y={draggableId:f,mode:p};m(y)}})},s=function(f,p){n&&P(),ki("onBeforeDragStart",function(){var m=e().onBeforeDragStart;m&&m(ja(f,p))})},a=function(f,p){n&&P();var m=ja(f,p);n={mode:p,lastCritical:f,lastLocation:m.source,lastCombine:null},r.add(function(){ki("onDragStart",function(){return mu(e().onDragStart,m,t,Ba.onDragStart)})})},l=function(f,p){var m=dh(p),y=hl(p);n||P();var x=!_E(f,n.lastCritical);x&&(n.lastCritical=f);var v=!SE(n.lastLocation,m);v&&(n.lastLocation=m);var g=!NE(n.lastCombine,y);if(g&&(n.lastCombine=y),!(!x&&!v&&!g)){var b=F({},ja(f,n.mode),{combine:y,destination:m});r.add(function(){ki("onDragUpdate",function(){return mu(e().onDragUpdate,b,t,Ba.onDragUpdate)})})}},u=function(){n||P(),r.flush()},c=function(f){n||P(),n=null,ki("onDragEnd",function(){return mu(e().onDragEnd,f,t,Ba.onDragEnd)})},h=function(){if(n){var f=F({},ja(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});c(f)}};return{beforeCapture:i,beforeStart:s,start:a,update:l,flush:u,drop:c,abort:h}},kE=function(e,t){var r=CE(e,t);return function(n){return function(i){return function(s){if(s.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(s.type==="INITIAL_PUBLISH"){var a=s.payload.critical;r.beforeStart(a,s.payload.movementMode),i(s),r.start(a,s.payload.movementMode);return}if(s.type==="DROP_COMPLETE"){var l=s.payload.completed.result;r.flush(),i(s),r.drop(l);return}if(i(s),s.type==="FLUSH"){r.abort();return}var u=n.getState();u.phase==="DRAGGING"&&r.update(u.critical,u.impact)}}}},EE=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&P(),e.dispatch(yh({completed:n.completed}))}}},PE=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(i){return function(s){if((s.type==="FLUSH"||s.type==="DROP_COMPLETE"||s.type==="DROP_ANIMATION_FINISHED")&&n(),i(s),s.type==="DROP_ANIMATE"){var a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var u=e.getState();u.phase==="DROP_ANIMATING"&&e.dispatch(hx())}};r=requestAnimationFrame(function(){r=null,t=bt(window,[a])})}}}},DE=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},TE=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var i=n.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},IE=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},OE=function(e){return function(t){return function(r){return function(n){if(IE(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var i=t.getState();i.phase!=="DRAGGING"&&P(),e.start(i);return}r(n),e.scroll(t.getState())}}}},AE=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(dx({reason:n.reason})))}}}},RE=by,LE=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,i=e.getResponders,s=e.announce,a=e.autoScroller;return xy(Gk,RE(j_(cE(n),DE(t),uE(t),gE,EE,PE,AE,OE(a),bE,TE(r),kE(i,s))))},gu=function(){return{additions:{},removals:{},modified:{}}};function $E(e){var t=e.registry,r=e.callbacks,n=gu(),i=null,s=function(){i||(r.collectionStarting(),i=requestAnimationFrame(function(){i=null;var h=n,d=h.additions,f=h.removals,p=h.modified,m=Object.keys(d).map(function(v){return t.draggable.getById(v).getDimension(Ce)}).sort(function(v,g){return v.descriptor.index-g.descriptor.index}),y=Object.keys(p).map(function(v){var g=t.droppable.getById(v),b=g.callbacks.getScrollWhileDragging();return{droppableId:v,scroll:b}}),x={additions:m,removals:Object.keys(f),modified:y};n=gu(),r.publish(x)}))},a=function(h){var d=h.descriptor.id;n.additions[d]=h,n.modified[h.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],s()},l=function(h){var d=h.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],s()},u=function(){i&&(cancelAnimationFrame(i),i=null,n=gu())};return{add:a,remove:l,stop:u}}var mx=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,i=e.width,s=nt({x:r,y:t},{x:i,y:n}),a={x:Math.max(0,s.x),y:Math.max(0,s.y)};return a},gx=function(){var e=document.documentElement;return e||P(),e},vx=function(){var e=gx(),t=mx({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},BE=function(){var e=px(),t=vx(),r=e.y,n=e.x,i=gx(),s=i.clientWidth,a=i.clientHeight,l=n+s,u=r+a,c=Ot({top:r,left:n,right:l,bottom:u}),h={frame:c,scroll:{initial:e,current:e,max:t,diff:{value:Ce,displacement:Ce}}};return h},ME=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,i=BE(),s=i.scroll.current,a=t.droppable,l=n.droppable.getAllByType(a.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(s,r)}),u=n.draggable.getAllByType(t.draggable.type).map(function(d){return d.getDimension(s)}),c={draggables:Gy(u),droppables:Vy(l)},h={dimensions:c,critical:t,viewport:i};return h};function lm(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var FE=function(e,t){var r=null,n=$E({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(p,m){e.droppable.exists(p)||P(),r&&t.updateDroppableIsEnabled({id:p,isEnabled:m})},s=function(p,m){r&&(e.droppable.exists(p)||P(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:m}))},a=function(p,m){r&&(e.droppable.exists(p)||P(),t.updateDroppableScroll({id:p,newScroll:m}))},l=function(p,m){r&&e.droppable.getById(p).callbacks.scroll(m)},u=function(){if(r){n.stop();var p=r.critical.droppable;e.droppable.getAllByType(p.type).forEach(function(m){return m.callbacks.dragStopped()}),r.unsubscribe(),r=null}},c=function(p){r||P();var m=r.critical.draggable;p.type==="ADDITION"&&lm(e,m,p.value)&&n.add(p.value),p.type==="REMOVAL"&&lm(e,m,p.value)&&n.remove(p.value)},h=function(p){r&&P();var m=e.draggable.getById(p.draggableId),y=e.droppable.getById(m.descriptor.droppableId),x={draggable:m.descriptor,droppable:y.descriptor},v=e.subscribe(c);return r={critical:x,unsubscribe:v},ME({critical:x,registry:e,scrollOptions:p.scrollOptions})},d={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:l,updateDroppableScroll:a,startPublishing:h,stopPublishing:u};return d},yx=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},UE=function(e){window.scrollBy(e.x,e.y)},zE=_e(function(e){return dl(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),WE=function(t,r){var n=$r(zE(r),function(i){return i.frame||P(),rx(i.frame.pageMarginBox)(t)});return n},HE=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var i=n[r];return i.frame?i:null}var s=WE(t,n);return s},Cr={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},VE=function(e,t){var r=e[t.size]*Cr.startFromPercentage,n=e[t.size]*Cr.maxScrollAtPercentage,i={startScrollingFrom:r,maxScrollValueAt:n};return i},xx=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,i=r-t;if(i===0)return 0;var s=n-t,a=s/i;return a},wh=1,GE=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Cr.maxPixelScroll;if(e===t.startScrollingFrom)return wh;var r=xx({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,i=Cr.maxPixelScroll*Cr.ease(n);return Math.ceil(i)},um=Cr.durationDampening.accelerateAt,cm=Cr.durationDampening.stopDampeningAt,qE=function(e,t){var r=t,n=cm,i=Date.now(),s=i-r;if(s>=cm)return e;if(s<um)return wh;var a=xx({startOfRange:um,endOfRange:n,current:s}),l=e*Cr.ease(a);return Math.ceil(l)},dm=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,i=e.shouldUseTimeDampening,s=GE(t,r);return s===0?0:i?Math.max(qE(s,n),wh):s},hm=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,i=e.axis,s=e.shouldUseTimeDampening,a=VE(t,i),l=r[i.end]<r[i.start];return l?dm({distanceToEdge:r[i.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s}):-1*dm({distanceToEdge:r[i.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s})},KE=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,i=r.height>t.height,s=r.width>t.width;return!s&&!i?n:s&&i?null:{x:s?0:n.x,y:i?0:n.y}},JE=Wy(function(e){return e===0?0:e}),bx=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,i=e.center,s=e.shouldUseTimeDampening,a={top:i.y-r.top,right:r.right-i.x,bottom:r.bottom-i.y,left:i.x-r.left},l=hm({container:r,distanceToEdges:a,dragStartTime:t,axis:hh,shouldUseTimeDampening:s}),u=hm({container:r,distanceToEdges:a,dragStartTime:t,axis:Jy,shouldUseTimeDampening:s}),c=JE({x:u,y:l});if(_r(c,Ce))return null;var h=KE({container:r,subject:n,proposedScroll:c});return h?_r(h,Ce)?null:h:null},QE=Wy(function(e){return e===0?0:e>0?1:-1}),jh=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,i=t.change,s=De(r,i),a={x:e(s.x,n.x),y:e(s.y,n.y)};return _r(a,Ce)?null:a}}(),wx=function(t){var r=t.max,n=t.current,i=t.change,s={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},a=QE(i),l=jh({max:s,current:n,change:a});return!l||a.x!==0&&l.x===0||a.y!==0&&l.y===0},Sh=function(t,r){return wx({current:t.scroll.current,max:t.scroll.max,change:r})},YE=function(t,r){if(!Sh(t,r))return null;var n=t.scroll.max,i=t.scroll.current;return jh({current:i,max:n,change:r})},Nh=function(t,r){var n=t.frame;return n?wx({current:n.scroll.current,max:n.scroll.max,change:r}):!1},XE=function(t,r){var n=t.frame;return!n||!Nh(t,r)?null:jh({current:n.scroll.current,max:n.scroll.max,change:r})},ZE=function(e){var t=e.viewport,r=e.subject,n=e.center,i=e.dragStartTime,s=e.shouldUseTimeDampening,a=bx({dragStartTime:i,container:t.frame,subject:r,center:n,shouldUseTimeDampening:s});return a&&Sh(t,a)?a:null},eP=function(e){var t=e.droppable,r=e.subject,n=e.center,i=e.dragStartTime,s=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var l=bx({dragStartTime:i,container:a.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:s});return l&&Nh(t,l)?l:null},fm=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,i=e.scrollWindow,s=e.scrollDroppable,a=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],u=l.page.marginBox;if(t.isWindowScrollAllowed){var c=t.viewport,h=ZE({dragStartTime:r,viewport:c,subject:u,center:a,shouldUseTimeDampening:n});if(h){i(h);return}}var d=HE({center:a,destination:st(t.impact),droppables:t.dimensions.droppables});if(d){var f=eP({dragStartTime:r,droppable:d,subject:u,center:a,shouldUseTimeDampening:n});f&&s(d.descriptor.id,f)}},tP=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=ws(t),i=ws(r),s=null,a=function(h){s||P();var d=s,f=d.shouldUseTimeDampening,p=d.dragStartTime;fm({state:h,scrollWindow:n,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:f})},l=function(h){s&&P();var d=Date.now(),f=!1,p=function(){f=!0};fm({state:h,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p}),s={dragStartTime:d,shouldUseTimeDampening:f},f&&a(h)},u=function(){s&&(n.cancel(),i.cancel(),s=null)};return{start:l,stop:u,scroll:a}},rP=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,i=function(c,h){var d=De(c.current.client.selection,h);t({client:d})},s=function(c,h){if(!Nh(c,h))return h;var d=XE(c,h);if(!d)return r(c.descriptor.id,h),null;var f=nt(h,d);r(c.descriptor.id,f);var p=nt(h,f);return p},a=function(c,h,d){if(!c||!Sh(h,d))return d;var f=YE(h,d);if(!f)return n(d),null;var p=nt(d,f);n(p);var m=nt(d,p);return m},l=function(c){var h=c.scrollJumpRequest;if(h){var d=st(c.impact);d||P();var f=s(c.dimensions.droppables[d],h);if(f){var p=c.viewport,m=a(c.isWindowScrollAllowed,p,f);m&&i(c,m)}}};return l},nP=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,i=tP({scrollWindow:r,scrollDroppable:t}),s=rP({move:n,scrollWindow:r,scrollDroppable:t}),a=function(c){if(c.phase==="DRAGGING"){if(c.movementMode==="FLUID"){i.scroll(c);return}c.scrollJumpRequest&&s(c)}},l={scroll:a,start:i.start,stop:i.stop};return l},ri="data-rbd",ni=function(){var e=ri+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Fc=function(){var e=ri+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),iP=function(){var e=ri+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),pm={contextId:ri+"-scroll-container-context-id"},sP=function(t){return function(r){return"["+r+'="'+t+'"]'}},Ei=function(t,r){return t.map(function(n){var i=n.styles[r];return i?n.selector+" { "+i+" }":""}).join(" ")},aP="pointer-events: none;",oP=function(e){var t=sP(e),r=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(ni.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:aP,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+Qi.outOfTheWay+`;
    `;return{selector:t(Fc.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),i={selector:t(iP.contextId),styles:{always:"overflow-anchor: none;"}},s={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},a=[n,r,i,s];return{always:Ei(a,"always"),resting:Ei(a,"resting"),dragging:Ei(a,"dragging"),dropAnimating:Ei(a,"dropAnimating"),userCancel:Ei(a,"userCancel")}},at=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect,vu=function(){var t=document.querySelector("head");return t||P(),t},mm=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function lP(e,t){var r=G(function(){return oP(e)},[e]),n=j.useRef(null),i=j.useRef(null),s=B(_e(function(d){var f=i.current;f||P(),f.textContent=d}),[]),a=B(function(d){var f=n.current;f||P(),f.textContent=d},[]);at(function(){!n.current&&!i.current||P();var d=mm(t),f=mm(t);return n.current=d,i.current=f,d.setAttribute(ri+"-always",e),f.setAttribute(ri+"-dynamic",e),vu().appendChild(d),vu().appendChild(f),a(r.always),s(r.resting),function(){var p=function(y){var x=y.current;x||P(),vu().removeChild(x),y.current=null};p(n),p(i)}},[t,a,s,r.always,r.resting,e]);var l=B(function(){return s(r.dragging)},[s,r.dragging]),u=B(function(d){if(d==="DROP"){s(r.dropAnimating);return}s(r.userCancel)},[s,r.dropAnimating,r.userCancel]),c=B(function(){i.current&&s(r.resting)},[s,r.resting]),h=G(function(){return{dragging:l,dropping:u,resting:c}},[l,u,c]);return h}var jx=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function ml(e){return e instanceof jx(e).HTMLElement}function uP(e,t){var r="["+ni.contextId+'="'+e+'"]',n=Hy(document.querySelectorAll(r));if(!n.length)return null;var i=$r(n,function(s){return s.getAttribute(ni.draggableId)===t});return!i||!ml(i)?null:i}function cP(e){var t=j.useRef({}),r=j.useRef(null),n=j.useRef(null),i=j.useRef(!1),s=B(function(f,p){var m={id:f,focus:p};return t.current[f]=m,function(){var x=t.current,v=x[f];v!==m&&delete x[f]}},[]),a=B(function(f){var p=uP(e,f);p&&p!==document.activeElement&&p.focus()},[e]),l=B(function(f,p){r.current===f&&(r.current=p)},[]),u=B(function(){n.current||i.current&&(n.current=requestAnimationFrame(function(){n.current=null;var f=r.current;f&&a(f)}))},[a]),c=B(function(f){r.current=null;var p=document.activeElement;p&&p.getAttribute(ni.draggableId)===f&&(r.current=f)},[]);at(function(){return i.current=!0,function(){i.current=!1;var f=n.current;f&&cancelAnimationFrame(f)}},[]);var h=G(function(){return{register:s,tryRecordFocus:c,tryRestoreFocusRecorded:u,tryShiftRecord:l}},[s,c,u,l]);return h}function dP(){var e={draggables:{},droppables:{}},t=[];function r(d){return t.push(d),function(){var p=t.indexOf(d);p!==-1&&t.splice(p,1)}}function n(d){t.length&&t.forEach(function(f){return f(d)})}function i(d){return e.draggables[d]||null}function s(d){var f=i(d);return f||P(),f}var a={register:function(f){e.draggables[f.descriptor.id]=f,n({type:"ADDITION",value:f})},update:function(f,p){var m=e.draggables[p.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:function(f){var p=f.descriptor.id,m=i(p);m&&f.uniqueId===m.uniqueId&&(delete e.draggables[p],n({type:"REMOVAL",value:f}))},getById:s,findById:i,exists:function(f){return!!i(f)},getAllByType:function(f){return No(e.draggables).filter(function(p){return p.descriptor.type===f})}};function l(d){return e.droppables[d]||null}function u(d){var f=l(d);return f||P(),f}var c={register:function(f){e.droppables[f.descriptor.id]=f},unregister:function(f){var p=l(f.descriptor.id);p&&f.uniqueId===p.uniqueId&&delete e.droppables[f.descriptor.id]},getById:u,findById:l,exists:function(f){return!!l(f)},getAllByType:function(f){return No(e.droppables).filter(function(p){return p.descriptor.type===f})}};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:a,droppable:c,subscribe:r,clean:h}}function hP(){var e=G(dP,[]);return j.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var _h=ie.createContext(null),Co=function(){var e=document.body;return e||P(),e},fP={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},pP=function(t){return"rbd-announcement-"+t};function mP(e){var t=G(function(){return pP(e)},[e]),r=j.useRef(null);j.useEffect(function(){var s=document.createElement("div");return r.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),F(s.style,fP),Co().appendChild(s),function(){setTimeout(function(){var u=Co();u.contains(s)&&u.removeChild(s),s===r.current&&(r.current=null)})}},[t]);var n=B(function(i){var s=r.current;if(s){s.textContent=i;return}},[]);return n}var gP=0,vP={separator:"::"};function Ch(e,t){return t===void 0&&(t=vP),G(function(){return""+e+t.separator+gP++},[t.separator,e])}function yP(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function xP(e){var t=e.contextId,r=e.text,n=Ch("hidden-text",{separator:"-"}),i=G(function(){return yP({contextId:t,uniqueId:n})},[n,t]);return j.useEffect(function(){var a=document.createElement("div");return a.id=i,a.textContent=r,a.style.display="none",Co().appendChild(a),function(){var u=Co();u.contains(a)&&u.removeChild(a)}},[i,r]),i}var gl=ie.createContext(null);function Sx(e){var t=j.useRef(e);return j.useEffect(function(){t.current=e}),t}function bP(){var e=null;function t(){return!!e}function r(a){return a===e}function n(a){e&&P();var l={abandon:a};return e=l,l}function i(){e||P(),e=null}function s(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:r,claim:n,release:i,tryAbandon:s}}var wP=9,jP=13,kh=27,Nx=32,SP=33,NP=34,_P=35,CP=36,kP=37,EP=38,PP=39,DP=40,Sa,TP=(Sa={},Sa[jP]=!0,Sa[wP]=!0,Sa),_x=function(e){TP[e.keyCode]&&e.preventDefault()},vl=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=$r(t,function(n){return"on"+n in document});return r||e}(),Cx=0,gm=5;function IP(e,t){return Math.abs(t.x-e.x)>=gm||Math.abs(t.y-e.y)>=gm}var vm={type:"IDLE"};function OP(e){var t=e.cancel,r=e.completed,n=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(a){var l=a.button,u=a.clientX,c=a.clientY;if(l===Cx){var h={x:u,y:c},d=n();if(d.type==="DRAGGING"){a.preventDefault(),d.actions.move(h);return}d.type!=="PENDING"&&P();var f=d.point;if(IP(f,h)){a.preventDefault();var p=d.actions.fluidLift(h);i({type:"DRAGGING",actions:p})}}}},{eventName:"mouseup",fn:function(a){var l=n();if(l.type!=="DRAGGING"){t();return}a.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(a){n().type==="DRAGGING"&&a.preventDefault(),t()}},{eventName:"keydown",fn:function(a){var l=n();if(l.type==="PENDING"){t();return}if(a.keyCode===kh){a.preventDefault(),t();return}_x(a)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(a){var l=n();if(l.type==="IDLE"&&P(),l.actions.shouldRespectForcePress()){t();return}a.preventDefault()}},{eventName:vl,fn:t}]}function AP(e){var t=j.useRef(vm),r=j.useRef(Nr),n=G(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===Cx&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var f=e.findClosestDraggableId(d);if(f){var p=e.tryGetLock(f,a,{sourceEvent:d});if(p){d.preventDefault();var m={x:d.clientX,y:d.clientY};r.current(),c(p,m)}}}}}},[e]),i=G(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var f=e.findClosestDraggableId(d);if(f){var p=e.findOptionsForDraggable(f);p&&(p.shouldRespectForcePress||e.canGetLock(f)&&d.preventDefault())}}}}},[e]),s=B(function(){var d={passive:!1,capture:!0};r.current=bt(window,[i,n],d)},[i,n]),a=B(function(){var h=t.current;h.type!=="IDLE"&&(t.current=vm,r.current(),s())},[s]),l=B(function(){var h=t.current;a(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[a]),u=B(function(){var d={capture:!0,passive:!1},f=OP({cancel:l,completed:a,getPhase:function(){return t.current},setPhase:function(m){t.current=m}});r.current=bt(window,f,d)},[l,a]),c=B(function(d,f){t.current.type!=="IDLE"&&P(),t.current={type:"PENDING",point:f,actions:d},u()},[u]);at(function(){return s(),function(){r.current()}},[s])}var Nn;function RP(){}var LP=(Nn={},Nn[NP]=!0,Nn[SP]=!0,Nn[CP]=!0,Nn[_P]=!0,Nn);function $P(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(s){if(s.keyCode===kh){s.preventDefault(),r();return}if(s.keyCode===Nx){s.preventDefault(),n();return}if(s.keyCode===DP){s.preventDefault(),e.moveDown();return}if(s.keyCode===EP){s.preventDefault(),e.moveUp();return}if(s.keyCode===PP){s.preventDefault(),e.moveRight();return}if(s.keyCode===kP){s.preventDefault(),e.moveLeft();return}if(LP[s.keyCode]){s.preventDefault();return}_x(s)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:vl,fn:r}]}function BP(e){var t=j.useRef(RP),r=G(function(){return{eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==Nx)return;var a=e.findClosestDraggableId(s);if(!a)return;var l=e.tryGetLock(a,h,{sourceEvent:s});if(!l)return;s.preventDefault();var u=!0,c=l.snapLift();t.current();function h(){u||P(),u=!1,t.current(),n()}t.current=bt(window,$P(c,h),{capture:!0,passive:!1})}}},[e]),n=B(function(){var s={passive:!1,capture:!0};t.current=bt(window,[r],s)},[r]);at(function(){return n(),function(){t.current()}},[n])}var yu={type:"IDLE"},MP=120,FP=.15;function UP(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(r().type!=="DRAGGING"){t();return}i.keyCode===kh&&i.preventDefault(),t()}},{eventName:vl,fn:t}]}function zP(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(s){var a=n();if(a.type!=="DRAGGING"){t();return}a.hasMoved=!0;var l=s.touches[0],u=l.clientX,c=l.clientY,h={x:u,y:c};s.preventDefault(),a.actions.move(h)}},{eventName:"touchend",fn:function(s){var a=n();if(a.type!=="DRAGGING"){t();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(s){if(n().type!=="DRAGGING"){t();return}s.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(s){var a=n();a.type==="IDLE"&&P();var l=s.touches[0];if(l){var u=l.force>=FP;if(u){var c=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){c&&t();return}if(c){if(a.hasMoved){s.preventDefault();return}t();return}s.preventDefault()}}}},{eventName:vl,fn:t}]}function WP(e){var t=j.useRef(yu),r=j.useRef(Nr),n=B(function(){return t.current},[]),i=B(function(p){t.current=p},[]),s=G(function(){return{eventName:"touchstart",fn:function(p){if(!p.defaultPrevented){var m=e.findClosestDraggableId(p);if(m){var y=e.tryGetLock(m,l,{sourceEvent:p});if(y){var x=p.touches[0],v=x.clientX,g=x.clientY,b={x:v,y:g};r.current(),d(y,b)}}}}}},[e]),a=B(function(){var p={capture:!0,passive:!1};r.current=bt(window,[s],p)},[s]),l=B(function(){var f=t.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(yu),r.current(),a())},[a,i]),u=B(function(){var f=t.current;l(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[l]),c=B(function(){var p={capture:!0,passive:!1},m={cancel:u,completed:l,getPhase:n},y=bt(window,zP(m),p),x=bt(window,UP(m),p);r.current=function(){y(),x()}},[u,n,l]),h=B(function(){var p=n();p.type!=="PENDING"&&P();var m=p.actions.fluidLift(p.point);i({type:"DRAGGING",actions:m,hasMoved:!1})},[n,i]),d=B(function(p,m){n().type!=="IDLE"&&P();var y=setTimeout(h,MP);i({type:"PENDING",point:m,actions:p,longPressTimerId:y}),c()},[c,n,i,h]);at(function(){return a(),function(){r.current();var m=n();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),i(yu))}},[n,a,i]),at(function(){var p=bt(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return p},[])}var HP={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function kx(e,t){if(t==null)return!1;var r=!!HP[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:kx(e,t.parentElement)}function VP(e,t){var r=t.target;return ml(r)?kx(e,r):!1}var GP=function(e){return Ot(e.getBoundingClientRect()).center};function qP(e){return e instanceof jx(e).Element}var KP=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=$r(t,function(n){return n in Element.prototype});return r||e}();function Ex(e,t){return e==null?null:e[KP](t)?e:Ex(e.parentElement,t)}function JP(e,t){return e.closest?e.closest(t):Ex(e,t)}function QP(e){return"["+ni.contextId+'="'+e+'"]'}function YP(e,t){var r=t.target;if(!qP(r))return null;var n=QP(e),i=JP(r,n);return!i||!ml(i)?null:i}function XP(e,t){var r=YP(e,t);return r?r.getAttribute(ni.draggableId):null}function ZP(e,t){var r="["+Fc.contextId+'="'+e+'"]',n=Hy(document.querySelectorAll(r)),i=$r(n,function(s){return s.getAttribute(Fc.id)===t});return!i||!ml(i)?null:i}function eD(e){e.preventDefault()}function Na(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function Px(e){var t=e.lockAPI,r=e.store,n=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var s=n.draggable.findById(i);return!(!s||!s.options.isEnabled||!yx(r.getState(),i))}function tD(e){var t=e.lockAPI,r=e.contextId,n=e.store,i=e.registry,s=e.draggableId,a=e.forceSensorStop,l=e.sourceEvent,u=Px({lockAPI:t,store:n,registry:i,draggableId:s});if(!u)return null;var c=i.draggable.getById(s),h=ZP(r,c.descriptor.id);if(!h||l&&!c.options.canDragInteractiveElements&&VP(h,l))return null;var d=t.claim(a||Nr),f="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}function m(){return t.isActive(d)}function y(N,_){Na({expected:N,phase:f,isLockActive:m,shouldWarn:!0})&&n.dispatch(_())}var x=y.bind(null,"DRAGGING");function v(N){function _(){t.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(_(),f!=="PRE_DRAG"&&P()),n.dispatch(Kk(N.liftActionArgs)),f="DRAGGING";function k(C,D){if(D===void 0&&(D={shouldBlockNextClick:!1}),N.cleanup(),D.shouldBlockNextClick){var M=bt(window,[{eventName:"click",fn:eD,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(M)}_(),n.dispatch(dx({reason:C}))}return F({isActive:function(){return Na({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(D){return k("DROP",D)},cancel:function(D){return k("CANCEL",D)}},N.actions)}function g(N){var _=ws(function(C){x(function(){return cx({client:C})})}),k=v({liftActionArgs:{id:s,clientSelection:N,movementMode:"FLUID"},cleanup:function(){return _.cancel()},actions:{move:_}});return F({},k,{move:_})}function b(){var N={moveUp:function(){return x(nE)},moveRight:function(){return x(sE)},moveDown:function(){return x(iE)},moveLeft:function(){return x(aE)}};return v({liftActionArgs:{id:s,clientSelection:GP(h),movementMode:"SNAP"},cleanup:Nr,actions:N})}function w(){var N=Na({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0});N&&t.release()}var S={isActive:function(){return Na({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:g,snapLift:b,abort:w};return S}var rD=[AP,BP,WP];function nD(e){var t=e.contextId,r=e.store,n=e.registry,i=e.customSensors,s=e.enableDefaultSensors,a=[].concat(s?rD:[],i||[]),l=j.useState(function(){return bP()})[0],u=B(function(g,b){g.isDragging&&!b.isDragging&&l.tryAbandon()},[l]);at(function(){var g=r.getState(),b=r.subscribe(function(){var w=r.getState();u(g,w),g=w});return b},[l,r,u]),at(function(){return l.tryAbandon},[l.tryAbandon]);for(var c=B(function(v){return Px({lockAPI:l,registry:n,store:r,draggableId:v})},[l,n,r]),h=B(function(v,g,b){return tD({lockAPI:l,registry:n,contextId:t,store:r,draggableId:v,forceSensorStop:g,sourceEvent:b&&b.sourceEvent?b.sourceEvent:null})},[t,l,n,r]),d=B(function(v){return XP(t,v)},[t]),f=B(function(v){var g=n.draggable.findById(v);return g?g.options:null},[n.draggable]),p=B(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(vh()))},[l,r]),m=B(l.isClaimed,[l]),y=G(function(){return{canGetLock:c,tryGetLock:h,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:m}},[c,h,d,f,p,m]),x=0;x<a.length;x++)a[x](y)}var iD=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Pi(e){return e.current||P(),e.current}function sD(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,i=e.nonce,s=e.dragHandleUsageInstructions,a=j.useRef(null),l=Sx(e),u=B(function(){return iD(l.current)},[l]),c=mP(t),h=xP({contextId:t,text:s}),d=lP(t,i),f=B(function(C){Pi(a).dispatch(C)},[]),p=G(function(){return Fp({publishWhileDragging:Qk,updateDroppableScroll:Xk,updateDroppableIsEnabled:Zk,updateDroppableIsCombineEnabled:eE,collectionStarting:Yk},f)},[f]),m=hP(),y=G(function(){return FE(m,p)},[m,p]),x=G(function(){return nP(F({scrollWindow:UE,scrollDroppable:y.scrollDroppable},Fp({move:cx},f)))},[y.scrollDroppable,f]),v=cP(t),g=G(function(){return LE({announce:c,autoScroller:x,dimensionMarshal:y,focusMarshal:v,getResponders:u,styleMarshal:d})},[c,x,y,v,u,d]);a.current=g;var b=B(function(){var C=Pi(a),D=C.getState();D.phase!=="IDLE"&&C.dispatch(vh())},[]),w=B(function(){var C=Pi(a).getState();return C.isDragging||C.phase==="DROP_ANIMATING"},[]),S=G(function(){return{isDragging:w,tryAbort:b}},[w,b]);r(S);var N=B(function(C){return yx(Pi(a).getState(),C)},[]),_=B(function(){return Hr(Pi(a).getState())},[]),k=G(function(){return{marshal:y,focus:v,contextId:t,canLift:N,isMovementAllowed:_,dragHandleUsageInstructionsId:h,registry:m}},[t,y,h,v,N,_,m]);return nD({contextId:t,store:g,registry:m,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),j.useEffect(function(){return b},[b]),ie.createElement(gl.Provider,{value:k},ie.createElement(k_,{context:_h,store:g},e.children))}var aD=0;function oD(){return G(function(){return""+aD++},[])}function lD(e){var t=oD(),r=e.dragHandleUsageInstructions||Ba.dragHandleUsageInstructions;return ie.createElement(BC,null,function(n){return ie.createElement(sD,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var Dx=function(t){return function(r){return t===r}},uD=Dx("scroll"),cD=Dx("auto"),ym=function(t,r){return r(t.overflowX)||r(t.overflowY)},dD=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return ym(n,uD)||ym(n,cD)},hD=function(){return!1},fD=function e(t){return t==null?null:t===document.body?hD()?t:null:t===document.documentElement?null:dD(t)?t:e(t.parentElement)},Uc=function(e){return{x:e.scrollLeft,y:e.scrollTop}},pD=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},mD=function(e){var t=fD(e),r=pD(e);return{closestScrollable:t,isFixedOnPage:r}},gD=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,i=e.isFixedOnPage,s=e.direction,a=e.client,l=e.page,u=e.closest,c=function(){if(!u)return null;var p=u.scrollSize,m=u.client,y=mx({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:m,scrollSize:p,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:y,diff:{value:Ce,displacement:Ce}}}}(),h=s==="vertical"?hh:Jy,d=ti({page:l,withPlaceholder:null,axis:h,frame:c}),f={descriptor:t,isCombineEnabled:n,isFixedOnPage:i,axis:h,isEnabled:r,client:a,page:l,frame:c,subject:d};return f},vD=function(t,r){var n=My(t);if(!r||t!==r)return n;var i=n.paddingBox.top-r.scrollTop,s=n.paddingBox.left-r.scrollLeft,a=i+r.scrollHeight,l=s+r.scrollWidth,u={top:i,right:l,bottom:a,left:s},c=oh(u,n.border),h=lh({borderBox:c,margin:n.margin,border:n.border,padding:n.padding});return h},yD=function(e){var t=e.ref,r=e.descriptor,n=e.env,i=e.windowScroll,s=e.direction,a=e.isDropDisabled,l=e.isCombineEnabled,u=e.shouldClipSubject,c=n.closestScrollable,h=vD(t,c),d=wo(h,i),f=function(){if(!c)return null;var m=My(c),y={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:m,page:wo(m,i),scroll:Uc(c),scrollSize:y,shouldClipSubject:u}}(),p=gD({descriptor:r,isEnabled:!a,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:s,client:h,page:d,closest:f});return p},xD={passive:!1},bD={passive:!0},xm=function(e){return e.shouldPublishImmediately?xD:bD};function ko(e){var t=j.useContext(e);return t||P(),t}var _a=function(t){return t&&t.env.closestScrollable||null};function wD(e){var t=j.useRef(null),r=ko(gl),n=Ch("droppable"),i=r.registry,s=r.marshal,a=Sx(e),l=G(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),u=j.useRef(l),c=G(function(){return _e(function(w,S){t.current||P();var N={x:w,y:S};s.updateDroppableScroll(l.id,N)})},[l.id,s]),h=B(function(){var w=t.current;return!w||!w.env.closestScrollable?Ce:Uc(w.env.closestScrollable)},[]),d=B(function(){var w=h();c(w.x,w.y)},[h,c]),f=G(function(){return ws(d)},[d]),p=B(function(){var w=t.current,S=_a(w);w&&S||P();var N=w.scrollOptions;if(N.shouldPublishImmediately){d();return}f()},[f,d]),m=B(function(w,S){t.current&&P();var N=a.current,_=N.getDroppableRef();_||P();var k=mD(_),C={ref:_,descriptor:l,env:k,scrollOptions:S};t.current=C;var D=yD({ref:_,descriptor:l,env:k,windowScroll:w,direction:N.direction,isDropDisabled:N.isDropDisabled,isCombineEnabled:N.isCombineEnabled,shouldClipSubject:!N.ignoreContainerClipping}),M=k.closestScrollable;return M&&(M.setAttribute(pm.contextId,r.contextId),M.addEventListener("scroll",p,xm(C.scrollOptions))),D},[r.contextId,l,p,a]),y=B(function(){var w=t.current,S=_a(w);return w&&S||P(),Uc(S)},[]),x=B(function(){var w=t.current;w||P();var S=_a(w);t.current=null,S&&(f.cancel(),S.removeAttribute(pm.contextId),S.removeEventListener("scroll",p,xm(w.scrollOptions)))},[p,f]),v=B(function(w){var S=t.current;S||P();var N=_a(S);N||P(),N.scrollTop+=w.y,N.scrollLeft+=w.x},[]),g=G(function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:y,dragStopped:x,scroll:v}},[x,m,y,v]),b=G(function(){return{uniqueId:n,descriptor:l,callbacks:g}},[g,l,n]);at(function(){return u.current=b.descriptor,i.droppable.register(b),function(){t.current&&x(),i.droppable.unregister(b)}},[g,l,x,b,s,i.droppable]),at(function(){t.current&&s.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),at(function(){t.current&&s.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function xu(){}var bm={width:0,height:0,margin:HC},jD=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,i=t.animate;return r||i==="close"?bm:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},SD=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,i=t.animate,s=jD({isAnimatingOpenOnMount:r,placeholder:n,animate:i});return{display:n.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?Qi.placeholder:null}};function ND(e){var t=j.useRef(null),r=B(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,i=e.onTransitionEnd,s=e.onClose,a=e.contextId,l=j.useState(e.animate==="open"),u=l[0],c=l[1];j.useEffect(function(){return u?n!=="open"?(r(),c(!1),xu):t.current?xu:(t.current=setTimeout(function(){t.current=null,c(!1)}),r):xu},[n,u,r]);var h=B(function(f){f.propertyName==="height"&&(i(),n==="close"&&s())},[n,s,i]),d=SD({isAnimatingOpenOnMount:u,animate:e.animate,placeholder:e.placeholder});return ie.createElement(e.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":a,onTransitionEnd:h,ref:e.innerRef})}var _D=ie.memo(ND),Eh=ie.createContext(null),CD=function(e){yy(t,e);function t(){for(var n,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(i,s){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:s.isVisible?{isVisible:!0,data:s.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},t}(ie.PureComponent),wm={dragging:5e3,dropAnimating:4500},kD=function(t,r){return r?Qi.drop(r.duration):t?Qi.snap:Qi.fluid},ED=function(t,r){return t?r?_s.opacity.drop:_s.opacity.combining:null},PD=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function DD(e){var t=e.dimension,r=t.client,n=e.offset,i=e.combineWith,s=e.dropping,a=!!i,l=PD(e),u=!!s,c=u?Bc.drop(n,a):Bc.moveTo(n),h={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:kD(l,s),transform:c,opacity:ED(a,u),zIndex:u?wm.dropAnimating:wm.dragging,pointerEvents:"none"};return h}function TD(e){return{transform:Bc.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function ID(e){return e.type==="DRAGGING"?DD(e):TD(e)}function OD(e,t,r){r===void 0&&(r=Ce);var n=window.getComputedStyle(t),i=t.getBoundingClientRect(),s=By(i,n),a=wo(s,r),l={client:s,tagName:t.tagName.toLowerCase(),display:n.display},u={x:s.marginBox.width,y:s.marginBox.height},c={descriptor:e,placeholder:l,displaceBy:u,client:s,page:a};return c}function AD(e){var t=Ch("draggable"),r=e.descriptor,n=e.registry,i=e.getDraggableRef,s=e.canDragInteractiveElements,a=e.shouldRespectForcePress,l=e.isEnabled,u=G(function(){return{canDragInteractiveElements:s,shouldRespectForcePress:a,isEnabled:l}},[s,l,a]),c=B(function(p){var m=i();return m||P(),OD(r,m,p)},[r,i]),h=G(function(){return{uniqueId:t,descriptor:r,options:u,getDimension:c}},[r,c,u,t]),d=j.useRef(h),f=j.useRef(!0);at(function(){return n.draggable.register(d.current),function(){return n.draggable.unregister(d.current)}},[n.draggable]),at(function(){if(f.current){f.current=!1;return}var p=d.current;d.current=h,n.draggable.update(h,p)},[h,n.draggable])}function RD(e){e.preventDefault()}function LD(e){var t=j.useRef(null),r=B(function(C){t.current=C},[]),n=B(function(){return t.current},[]),i=ko(gl),s=i.contextId,a=i.dragHandleUsageInstructionsId,l=i.registry,u=ko(Eh),c=u.type,h=u.droppableId,d=G(function(){return{id:e.draggableId,index:e.index,type:c,droppableId:h}},[e.draggableId,e.index,c,h]),f=e.children,p=e.draggableId,m=e.isEnabled,y=e.shouldRespectForcePress,x=e.canDragInteractiveElements,v=e.isClone,g=e.mapped,b=e.dropAnimationFinished;if(!v){var w=G(function(){return{descriptor:d,registry:l,getDraggableRef:n,canDragInteractiveElements:x,shouldRespectForcePress:y,isEnabled:m}},[d,l,n,x,y,m]);AD(w)}var S=G(function(){return m?{tabIndex:0,role:"button","aria-describedby":a,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":s,draggable:!1,onDragStart:RD}:null},[s,a,p,m]),N=B(function(C){g.type==="DRAGGING"&&g.dropping&&C.propertyName==="transform"&&b()},[b,g]),_=G(function(){var C=ID(g),D=g.type==="DRAGGING"&&g.dropping?N:null,M={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":s,"data-rbd-draggable-id":p,style:C,onTransitionEnd:D},dragHandleProps:S};return M},[s,S,p,g,N,r]),k=G(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return f(_,g.snapshot,k)}var Tx=function(e,t){return e===t},Ix=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},$D=function(t){return t.combine?t.combine.draggableId:null},BD=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function MD(){var e=_e(function(i,s){return{x:i,y:s}}),t=_e(function(i,s,a,l,u){return{isDragging:!0,isClone:s,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:a,combineWith:l,combineTargetFor:null}}),r=_e(function(i,s,a,l,u,c,h){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:c,mode:s,offset:i,dimension:a,forceShouldAnimate:h,snapshot:t(s,l,u,c,null)}}}),n=function(s,a){if(s.isDragging){if(s.critical.draggable.id!==a.draggableId)return null;var l=s.current.client.offset,u=s.dimensions.draggables[a.draggableId],c=st(s.impact),h=BD(s.impact),d=s.forceShouldAnimate;return r(e(l.x,l.y),s.movementMode,u,a.isClone,c,h,d)}if(s.phase==="DROP_ANIMATING"){var f=s.completed;if(f.result.draggableId!==a.draggableId)return null;var p=a.isClone,m=s.dimensions.draggables[a.draggableId],y=f.result,x=y.mode,v=Ix(y),g=$D(y),b=s.dropDuration,w={duration:b,curve:xh.drop,moveTo:s.newHomeClientOffset,opacity:g?_s.opacity.drop:null,scale:g?_s.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:m,dropping:w,draggingOver:v,combineWith:g,mode:x,forceShouldAnimate:null,snapshot:t(x,p,v,g,w)}}}return null};return n}function Ox(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var FD={mapped:{type:"SECONDARY",offset:Ce,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Ox(null)}};function UD(){var e=_e(function(a,l){return{x:a,y:l}}),t=_e(Ox),r=_e(function(a,l,u){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:a,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}}}),n=function(l){return l?r(Ce,l,!0):null},i=function(l,u,c,h){var d=c.displaced.visible[l],f=!!(h.inVirtualList&&h.effected[l]),p=hl(c),m=p&&p.draggableId===l?u:null;if(!d){if(!f)return n(m);if(c.displaced.invisible[l])return null;var y=fi(h.displacedBy.point),x=e(y.x,y.y);return r(x,m,!0)}if(f)return n(m);var v=c.displacedBy.point,g=e(v.x,v.y);return r(g,m,d.shouldAnimate)},s=function(l,u){if(l.isDragging)return l.critical.draggable.id===u.draggableId?null:i(u.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var c=l.completed;return c.result.draggableId===u.draggableId?null:i(u.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null};return s}var zD=function(){var t=MD(),r=UD(),n=function(s,a){return t(s,a)||r(s,a)||FD};return n},WD={dropAnimationFinished:hx},HD=Ly(zD,WD,null,{context:_h,pure:!0,areStatePropsEqual:Tx})(LD);function Ax(e){var t=ko(Eh),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:ie.createElement(HD,e)}function VD(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return ie.createElement(Ax,F({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function GD(e){var t=j.useContext(gl);t||P();var r=t.contextId,n=t.isMovementAllowed,i=j.useRef(null),s=j.useRef(null),a=e.children,l=e.droppableId,u=e.type,c=e.mode,h=e.direction,d=e.ignoreContainerClipping,f=e.isDropDisabled,p=e.isCombineEnabled,m=e.snapshot,y=e.useClone,x=e.updateViewportMaxScroll,v=e.getContainerForClone,g=B(function(){return i.current},[]),b=B(function(M){i.current=M},[]);B(function(){return s.current},[]);var w=B(function(M){s.current=M},[]),S=B(function(){n()&&x({maxScroll:vx()})},[n,x]);wD({droppableId:l,type:u,mode:c,direction:h,isDropDisabled:f,isCombineEnabled:p,ignoreContainerClipping:d,getDroppableRef:g});var N=ie.createElement(CD,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(M){var te=M.onClose,Q=M.data,Y=M.animate;return ie.createElement(_D,{placeholder:Q,onClose:te,innerRef:w,animate:Y,contextId:r,onTransitionEnd:S})}),_=G(function(){return{innerRef:b,placeholder:N,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,N,b]),k=y?y.dragging.draggableId:null,C=G(function(){return{droppableId:l,type:u,isUsingCloneFor:k}},[l,k,u]);function D(){if(!y)return null;var M=y.dragging,te=y.render,Q=ie.createElement(Ax,{draggableId:M.draggableId,index:M.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(Y,Oe){return te(Y,Oe,M)});return u1.createPortal(Q,v())}return ie.createElement(Eh.Provider,{value:C},a(_,m),D())}var bu=function(t,r){return t===r.droppable.type},jm=function(t,r){return r.draggables[t.draggable.id]},qD=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=F({},t,{shouldAnimatePlaceholder:!1}),n=_e(function(a){return{draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}}}),i=_e(function(a,l,u,c,h,d){var f=h.descriptor.id,p=h.descriptor.droppableId===a;if(p){var m=d?{render:d,dragging:n(h.descriptor)}:null,y={isDraggingOver:u,draggingOverWith:u?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:m}}if(!l)return r;if(!c)return t;var x={isDraggingOver:u,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!0,snapshot:x,useClone:null}}),s=function(l,u){var c=u.droppableId,h=u.type,d=!u.isDropDisabled,f=u.renderClone;if(l.isDragging){var p=l.critical;if(!bu(h,p))return r;var m=jm(p,l.dimensions),y=st(l.impact)===c;return i(c,d,y,y,m,f)}if(l.phase==="DROP_ANIMATING"){var x=l.completed;if(!bu(h,x.critical))return r;var v=jm(x.critical,l.dimensions);return i(c,d,Ix(x.result)===c,st(x.impact)===c,v,f)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var g=l.completed;if(!bu(h,g.critical))return r;var b=st(g.impact)===c,w=!!(g.impact.at&&g.impact.at.type==="COMBINE"),S=g.critical.droppable.id===c;return b?w?t:r:S?t:r}return r};return s},KD={updateViewportMaxScroll:rE};function JD(){return document.body||P(),document.body}var QD={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:JD},Rx=Ly(qD,KD,null,{context:_h,pure:!0,areStatePropsEqual:Tx})(GD);Rx.defaultProps=QD;function YD(){const{profile:e}=He(),[t,r]=j.useState(!1),[n,i]=j.useState(!1),[s,a]=j.useState(!1),[l,u]=j.useState([]),[c,h]=j.useState(!0),[d,f]=j.useState(""),[p,m]=j.useState("all"),[y,x]=j.useState(null);j.useEffect(()=>{e&&(g(),v())},[e]);function v(){const C=J.channel("reminders-changes").on("postgres_changes",{event:"*",schema:"public",table:"reminders",filter:`lawyer_id=eq.${e==null?void 0:e.id}`},()=>{g()}).subscribe();return()=>{J.removeChannel(C)}}async function g(){try{const{data:C,error:D}=await J.from("reminders").select("*").eq("lawyer_id",e==null?void 0:e.id).order("scheduled_date",{ascending:!0});if(D)throw D;u(C||[])}catch(C){console.error("Error loading reminders:",C)}finally{h(!1)}}async function b(C){if(!C.destination)return;const{draggableId:D,destination:M}=C,te=M.droppableId;try{const{error:Q}=await J.from("reminders").update({status:te}).eq("id",D);if(Q)throw Q;g()}catch(Q){console.error("Error updating reminder status:",Q),alert("Failed to update reminder status")}}async function w(C){if(confirm("Are you sure you want to delete this reminder?"))try{const{error:D}=await J.from("reminders").delete().eq("id",C);if(D)throw D;g()}catch(D){console.error("Error deleting reminder:",D),alert("Failed to delete reminder")}}const S=l.filter(C=>{var te;const D=C.title.toLowerCase().includes(d.toLowerCase())||((te=C.description)==null?void 0:te.toLowerCase().includes(d.toLowerCase()))||C.client_name.toLowerCase().includes(d.toLowerCase()),M=p==="all"||C.priority===p;return D&&M}),N=S.filter(C=>C.status==="scheduled"),_=S.filter(C=>C.status==="sent"),k=S.filter(C=>C.status==="history");return o.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[t&&o.jsx(fn,{onComplete:()=>r(!1)}),o.jsx(Lr,{onTourStart:()=>r(!0)}),o.jsx("div",{className:"flex-1 ml-[280px] p-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:o.jsx(Ht,{className:"w-6 h-6 text-white"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"HakiReminders"})]}),o.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered reminder management with Kanban workflow"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:()=>a(!0),className:"bg-purple-600 text-white px-3 py-1 rounded-full text-sm flex items-center gap-1 hover:bg-purple-700 transition",children:[o.jsx(Xd,{className:"w-4 h-4"}),"AI Suggestions",o.jsx("span",{className:"bg-purple-800 text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"3"})]}),o.jsxs("button",{onClick:()=>{x(null),i(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-md flex items-center gap-2 hover:bg-blue-700 transition",children:[o.jsx(Qo,{className:"w-4 h-4"}),"New Reminder"]})]})]}),o.jsxs("div",{className:"flex gap-3 mb-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"search",placeholder:"Search reminders...",value:d,onChange:C=>f(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),o.jsxs("select",{value:p,onChange:C=>m(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[o.jsx("option",{value:"all",children:"All Priorities"}),o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"low",children:"Low"})]})]})]}),o.jsx(lD,{onDragEnd:b,children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(wu,{droppableId:"scheduled",title:"Scheduled",count:N.length,color:"blue",reminders:N,onEdit:C=>{x(C),i(!0)},onDelete:w}),o.jsx(wu,{droppableId:"sent",title:"Sent",count:_.length,color:"green",reminders:_,onEdit:C=>{x(C),i(!0)},onDelete:w}),o.jsx(wu,{droppableId:"history",title:"History",count:k.length,color:"gray",reminders:k,onEdit:C=>{x(C),i(!0)},onDelete:w})]})})]})}),n&&o.jsx(ZD,{editingReminder:y,onClose:()=>{i(!1),x(null)},onSuccess:g}),s&&o.jsx(eT,{onClose:()=>a(!1),onSelect:C=>{x(C),i(!0),a(!1)}})]})}function wu({droppableId:e,title:t,count:r,color:n,reminders:i,onEdit:s,onDelete:a}){const l={blue:"bg-blue-50 border-blue-200",green:"bg-green-50 border-green-200",gray:"bg-gray-50 border-gray-200"},u={blue:"text-blue-900",green:"text-green-900",gray:"text-gray-900"};return o.jsxs("div",{className:`${l[n]} border rounded-xl p-4 min-h-[400px]`,children:[o.jsxs("h3",{className:`font-semibold flex justify-between items-center mb-4 ${u[n]}`,children:[t,o.jsx("span",{className:"bg-white px-2 py-1 rounded-full text-xs",children:r})]}),o.jsx(Rx,{droppableId:e,children:c=>o.jsxs("div",{...c.droppableProps,ref:c.innerRef,className:"space-y-3 min-h-[300px]",children:[i.length===0?o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center",children:[o.jsx(Ht,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["No ",t.toLowerCase()," reminders"]})]}):i.map((h,d)=>o.jsx(XD,{reminder:h,index:d,onEdit:s,onDelete:a},h.id)),c.placeholder]})})]})}function XD({reminder:e,index:t,onEdit:r,onDelete:n}){const i={high:"bg-red-100 text-red-700",medium:"bg-yellow-100 text-yellow-700",low:"bg-green-100 text-green-700"};return o.jsx(VD,{draggableId:e.id,index:t,children:s=>o.jsxs("div",{ref:s.innerRef,...s.draggableProps,...s.dragHandleProps,className:"bg-white p-3 rounded-lg shadow-sm cursor-move hover:shadow-md transition",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h4",{className:"font-medium text-sm text-gray-900 flex-1",children:e.title}),o.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${i[e.priority]}`,children:e.priority})]}),e.description&&o.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:e.description}),o.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:[o.jsx(Yo,{className:"w-3 h-3"}),e.client_name]}),o.jsxs("div",{className:"flex justify-between items-center mt-2 text-xs text-gray-500",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(qo,{className:"w-3 h-3"}),new Date(e.scheduled_date).toLocaleDateString()," ",e.scheduled_time]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:()=>r(e),className:"p-1 hover:bg-gray-100 rounded","aria-label":"Edit",children:o.jsx(u2,{className:"w-3 h-3"})}),o.jsx("button",{onClick:()=>n(e.id),className:"p-1 hover:bg-red-100 rounded text-red-600","aria-label":"Delete",children:o.jsx(p2,{className:"w-3 h-3"})})]})]}),e.confidence_percent&&e.confidence_percent>0&&o.jsxs("div",{className:"mt-2",children:[o.jsx("div",{className:"h-1 w-full bg-gray-200 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-purple-600",style:{width:`${e.confidence_percent}%`}})}),o.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["AI Confidence: ",e.confidence_percent,"%"]})]})]})})}function ZD({editingReminder:e,onClose:t,onSuccess:r}){var l;const{profile:n}=He(),[i,s]=j.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",type:(e==null?void 0:e.type)||"follow-up",priority:(e==null?void 0:e.priority)||"medium",scheduled_date:(e==null?void 0:e.scheduled_date)||"",scheduled_time:(e==null?void 0:e.scheduled_time)||"",client_name:(e==null?void 0:e.client_name)||"",client_email:(e==null?void 0:e.client_email)||"",lawyer_phone:(e==null?void 0:e.lawyer_phone)||"",client_phone:(e==null?void 0:e.client_phone)||"",confidence_percent:(e==null?void 0:e.confidence_percent)||0});async function a(u){if(u.preventDefault(),!i.title||!i.scheduled_date||!i.scheduled_time||!i.client_name||!i.client_email){alert("Please fill in all required fields");return}try{if(e){const{error:c}=await J.from("reminders").update(i).eq("id",e.id);if(c)throw c}else{const{error:c}=await J.from("reminders").insert({...i,lawyer_id:n==null?void 0:n.id,status:"scheduled"});if(c)throw c}r(),t()}catch(c){console.error("Error saving reminder:",c),alert("Failed to save reminder")}}return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-3xl shadow-xl overflow-y-auto max-h-[90vh]",children:o.jsxs("form",{onSubmit:a,className:"grid md:grid-cols-3 gap-6 p-6",children:[o.jsxs("div",{className:"md:col-span-2 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e?"Edit Reminder":"Create New Reminder"}),o.jsx("button",{type:"button",onClick:t,className:"p-1 text-gray-400 hover:text-gray-600",children:o.jsx(Xo,{className:"w-5 h-5"})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type *"}),o.jsxs("select",{required:!0,value:i.type,onChange:u=>s({...i,type:u.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[o.jsx("option",{value:"follow-up",children:"Follow-up"}),o.jsx("option",{value:"court-date",children:"Court Date"}),o.jsx("option",{value:"meeting",children:"Meeting"}),o.jsx("option",{value:"deadline",children:"Deadline"}),o.jsx("option",{value:"document-review",children:"Document Review"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),o.jsx("input",{required:!0,type:"text",placeholder:"e.g., Court appearance reminder",value:i.title,onChange:u=>s({...i,title:u.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description / SMS Message *"}),o.jsx("textarea",{required:!0,rows:4,placeholder:"Message to be sent as SMS reminder...",value:i.description,onChange:u=>s({...i,description:u.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name *"}),o.jsx("input",{required:!0,type:"text",placeholder:"Client full name",value:i.client_name,onChange:u=>s({...i,client_name:u.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Email *"}),o.jsx("input",{required:!0,type:"email",placeholder:"client@example.com",value:i.client_email,onChange:u=>s({...i,client_email:u.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lawyer Phone"}),o.jsx("input",{type:"tel",placeholder:"+254712345678",value:i.lawyer_phone,onChange:u=>s({...i,lawyer_phone:u.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Phone"}),o.jsx("input",{type:"tel",placeholder:"+254712345678",value:i.client_phone,onChange:u=>s({...i,client_phone:u.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority *"}),o.jsxs("select",{value:i.priority,onChange:u=>s({...i,priority:u.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"low",children:"Low"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),o.jsx("input",{required:!0,type:"date",value:i.scheduled_date,onChange:u=>s({...i,scheduled_date:u.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time *"}),o.jsx("input",{required:!0,type:"time",value:i.scheduled_time,onChange:u=>s({...i,scheduled_time:u.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:e?"Update Reminder":"Create Reminder"})]})]}),o.jsxs("div",{className:"border-l pl-6 hidden md:block",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Live Preview"}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Title"}),o.jsx("p",{className:"font-medium text-sm",children:i.title||"Untitled"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Type"}),o.jsx("p",{className:"text-sm capitalize",children:((l=i.type)==null?void 0:l.replace("-"," "))||"N/A"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Priority"}),o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${i.priority==="high"?"bg-red-100 text-red-700":i.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:i.priority||"medium"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Client"}),o.jsx("p",{className:"text-sm",children:i.client_name||"N/A"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Scheduled"}),o.jsx("p",{className:"text-sm",children:i.scheduled_date&&i.scheduled_time?`${new Date(i.scheduled_date).toLocaleDateString()} ${i.scheduled_time}`:"N/A"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"SMS Preview"}),o.jsx("div",{className:"bg-white border rounded p-2 text-xs",children:i.description||"No message"})]})]})]})]})})})}function eT({onClose:e,onSelect:t}){const r=[{title:"Follow-up: Contract Review Deadline",description:"Reminder for client John Doe - Contract review due tomorrow. Please review and sign the updated employment contract.",type:"follow-up",priority:"high",scheduled_date:new Date(Date.now()+864e5).toISOString().split("T")[0],scheduled_time:"09:00",client_name:"John Doe",client_email:"john.doe@example.com",confidence_percent:92},{title:"Court Appearance: Smith vs. Jones",description:"Court hearing scheduled for case Smith vs. Jones. Please arrive 30 minutes early to review final documents.",type:"court-date",priority:"high",scheduled_date:new Date(Date.now()+2592e5).toISOString().split("T")[0],scheduled_time:"10:00",client_name:"Jane Smith",client_email:"jane.smith@example.com",confidence_percent:88},{title:"Document Review: Estate Planning",description:"Estate planning documents ready for review. Please review the will and trust documents at your earliest convenience.",type:"document-review",priority:"medium",scheduled_date:new Date(Date.now()+432e6).toISOString().split("T")[0],scheduled_time:"14:00",client_name:"Robert Johnson",client_email:"robert.j@example.com",confidence_percent:75}];return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl shadow-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Xd,{className:"w-6 h-6 text-purple-600"}),o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"AI Suggested Reminders"})]}),o.jsx("button",{onClick:e,className:"p-1 text-gray-400 hover:text-gray-600",children:o.jsx(Xo,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"space-y-4",children:r.map((n,i)=>o.jsxs("div",{className:"border border-purple-200 rounded-lg p-4 hover:border-purple-400 transition",children:[o.jsx("div",{className:"flex justify-between items-start mb-2",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:n.title}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:n.description}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Yo,{className:"w-3 h-3"}),n.client_name]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(qo,{className:"w-3 h-3"}),new Date(n.scheduled_date).toLocaleDateString()," ",n.scheduled_time]}),o.jsx("span",{className:`px-2 py-0.5 rounded-full ${n.priority==="high"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:n.priority})]})]})}),o.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-100",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx("div",{className:"h-1 w-24 bg-gray-200 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-purple-600",style:{width:`${n.confidence_percent}%`}})}),o.jsxs("span",{className:"text-purple-600 font-medium",children:[n.confidence_percent,"% confident"]})]}),o.jsxs("button",{onClick:()=>t(n),className:"px-3 py-1 bg-purple-600 text-white rounded-md text-sm hover:bg-purple-700 transition flex items-center gap-1",children:[o.jsx(Qo,{className:"w-3 h-3"}),"Use This"]})]})]},i))}),o.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:o.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[o.jsx(Jd,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsx("p",{children:"AI suggestions are based on your active cases and upcoming deadlines. Review and customize before creating."})]})})]})})}function tT(){const[e,t]=j.useState(!1),[r,n]=j.useState(""),[i,s]=j.useState([]),a=l=>{const u=l.target.files;if(u){const c=Array.from(u).map(h=>h.name);s(h=>[...h,...c])}};return o.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e&&o.jsx(fn,{onComplete:()=>t(!1)}),o.jsx(Lr,{onTourStart:()=>t(!0)}),o.jsx("div",{className:"flex-1 ml-[280px] p-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:o.jsx(nr,{className:"w-6 h-6 text-white"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"HakiDocs"})]}),o.jsx("p",{className:"text-gray-600",children:"Central document repository for HakiChain"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-lg font-medium hover:bg-teal-700 cursor-pointer",children:[o.jsx(oy,{className:"w-4 h-4"}),"Upload Files",o.jsx("input",{type:"file",multiple:!0,onChange:a,className:"hidden"})]}),o.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:"Select from HakiDocs"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",value:r,onChange:l=>n(l.target.value),placeholder:"Search documents...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),o.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500",children:[o.jsx("option",{value:"all",children:"All Types"}),o.jsx("option",{value:"pdf",children:"PDF"}),o.jsx("option",{value:"docx",children:"DOCX"}),o.jsx("option",{value:"doc",children:"DOC"})]})]})}),i.length===0?o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[o.jsx(nr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No documents found"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Upload your first document to get started"}),o.jsxs("label",{className:"px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium cursor-pointer inline-block",children:["Upload Files",o.jsx("input",{type:"file",multiple:!0,onChange:a,className:"hidden"})]})]}):o.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Document Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Uploaded"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map((l,u)=>{var c;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:l}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:(c=l.split(".").pop())==null?void 0:c.toUpperCase()}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:"Just now"})]},u)})})]})})]})})]})}function rT(){const{profile:e}=He(),[t,r]=j.useState(!1),[n,i]=j.useState(!1),[s,a]=j.useState(!1),[l,u]=j.useState({full_name:"",email:"",organization_name:"",practicing_certificate:"",wallet_address:""});j.useEffect(()=>{e&&u({full_name:e.full_name||"",email:e.email||"",organization_name:e.organization_name||"",practicing_certificate:e.practicing_certificate||"",wallet_address:e.wallet_address||""})},[e]);const c=async h=>{h.preventDefault(),i(!0),a(!1);try{const{error:d}=await J.from("profiles").update({full_name:l.full_name,organization_name:l.organization_name,practicing_certificate:l.practicing_certificate,wallet_address:l.wallet_address}).eq("id",e==null?void 0:e.id);if(d)throw d;a(!0),setTimeout(()=>a(!1),3e3)}catch(d){console.error("Error updating profile:",d),alert("Failed to update profile")}finally{i(!1)}};return o.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[t&&o.jsx(fn,{onComplete:()=>r(!1)}),o.jsx(Lr,{onTourStart:()=>r(!0)}),o.jsx("div",{className:"flex-1 ml-[280px] p-8",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your account settings and preferences"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Profile Information"}),s&&o.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg text-green-700",children:"Profile updated successfully!"}),o.jsxs("form",{onSubmit:c,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Yo,{className:"w-4 h-4"}),"Full Name *"]}),o.jsx("input",{type:"text",value:l.full_name,onChange:h=>u({...l,full_name:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Yd,{className:"w-4 h-4"}),"Email"]}),o.jsx("input",{type:"email",value:l.email,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Email cannot be changed"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[o.jsx(qN,{className:"w-4 h-4"}),"Organization Name"]}),o.jsx("input",{type:"text",value:l.organization_name,onChange:h=>u({...l,organization_name:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[o.jsx(nr,{className:"w-4 h-4"}),"Practicing Certificate Number"]}),o.jsx("input",{type:"text",value:l.practicing_certificate,onChange:h=>u({...l,practicing_certificate:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[o.jsx(nr,{className:"w-4 h-4"}),"Wallet Address"]}),o.jsx("input",{type:"text",value:l.wallet_address,onChange:h=>u({...l,wallet_address:h.target.value}),placeholder:"0x...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),o.jsx("div",{className:"pt-4",children:o.jsxs("button",{type:"submit",disabled:n,className:"flex items-center gap-2 px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(c2,{className:"w-4 h-4"}),n?"Saving...":"Save Changes"]})})]})]}),o.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Type"}),o.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[o.jsx("span",{className:"text-gray-700",children:"User Type"}),o.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-sm font-medium capitalize",children:e==null?void 0:e.user_type})]}),o.jsxs("div",{className:"flex items-center justify-between py-3",children:[o.jsx("span",{className:"text-gray-700",children:"Verification Status"}),o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${e!=null&&e.verified?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:e!=null&&e.verified?"Verified":"Pending Verification"})]})]})]})})]})}function nT(){return o.jsx(UN,{children:o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(y2,{}),o.jsx("main",{className:"flex-1",children:o.jsxs(tj,{children:[o.jsx(Le,{path:"/",element:o.jsx(j2,{})}),o.jsx(Le,{path:"/login",element:o.jsx(C2,{})}),o.jsx(Le,{path:"/signup",element:o.jsx(k2,{})}),o.jsx(Le,{path:"/bounties",element:o.jsx(E2,{})}),o.jsx(Le,{path:"/bounties/:id",element:o.jsx(D2,{})}),o.jsx(Le,{path:"/dashboard",element:o.jsx(r_,{})}),o.jsx(Le,{path:"/cases",element:o.jsx(h_,{})}),o.jsx(Le,{path:"/haki-lens",element:o.jsx(f_,{})}),o.jsx(Le,{path:"/haki-draft",element:o.jsx(g_,{})}),o.jsx(Le,{path:"/haki-review",element:o.jsx(v_,{})}),o.jsx(Le,{path:"/haki-reminders",element:o.jsx(YD,{})}),o.jsx(Le,{path:"/haki-docs",element:o.jsx(tT,{})}),o.jsx(Le,{path:"/settings",element:o.jsx(rT,{})}),o.jsx(Le,{path:"/documentation",element:o.jsx(u_,{})}),o.jsx(Le,{path:"/admin-dashboard",element:o.jsx(c_,{})})]})}),o.jsx(x2,{}),o.jsx(w2,{})]})})}$v(document.getElementById("root")).render(o.jsx(uj,{children:o.jsx(nT,{})}));
